(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _chat = require('@livelyvideo/chat');

var _chat2 = _interopRequireDefault(_chat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
Set up the chat instance

Params:
	- html element
	- options
			user: users username, should be unique to the user
			room: room name
			apiHost: lively chat api
			websocketHost: lively ws api
			url: the company's auth url, which should access livelyvideo to create an access token for the user
**/
var chat = void 0;
var ROOM = 'blt';
//const ROOM = 'sea1a~1~931c1d57-785d-4629-adb2-f290b74b16eb_585_426x240_56';
function createChat(user, role, el) {
	if (chat) {
		chat.destroy();
	}
	chat = new _chat2.default(el, {
		user: user,
		room: ROOM,
		insecure: true,
		roleHistory: true,
		host: 'localhost:8080',
		wshost: 'localhost:8081',
		authUrl: '/access-token?username=' + user + '&role=' + role
	});
}

document.querySelector('#pickuser').onsubmit = function (e) {
	e.preventDefault();
	createChat(e.target.querySelector('[name=username]').value, e.target.querySelector('[name=role]').value, document.querySelector('.chat'));
	e.target.setAttribute('disabled', true);
	e.target.querySelector('[name=username]').value = '';
	e.target.querySelector('[name=role]').value = '';
};

},{"@livelyvideo/chat":2}],2:[function(require,module,exports){
(function (global){
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.LivelyChat=e()}}(function(){var e;return function t(e,r,n){function i(a,s){if(!r[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var h=r[a]={exports:{}};e[a][0].call(h.exports,function(t){var r=e[a][1][t];return i(r?r:t)},h,h.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("events");e("whatwg-fetch");var u={timeout:5e3,headers:{},bootstrap:{}},h={Accept:"application/json"},l=function(e){function t(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e)throw new Error("scope is required");if(!r)throw new Error("authorization server url is required");if(s._options=a({},u,o),s._url=-1===r.indexOf("?")?r+"?scope="+e:r+"&scope="+e,s._stopped=!1,s._fatalError=null,s._token=s._options.bootstrap.token||null,s._retries=[0,200,1e3,3e3],s._retry=0,s._autorefresh=null,s._headers=Object.assign({},h,o.headers),null===s._token)s._retryRequest();else if(s._options.bootstrap&&s._options.bootstrap.expire){var c=s._options.bootstrap.expire-Date.now()-6e4;s._autorefresh=setTimeout(function(){s._autorefresh=null,s._stopped||s._retryRequest()},c)}return s}return o(t,e),s(t,[{key:"destroy",value:function(){this._stopped=!0}},{key:"request",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if(this._fatalError)return t(this._fatalError),void 0;if(null!==this._token)return t(null,this._token),void 0;var r=!1,n=function(){r||(r=!0,t(null,e._token))},i=function(){r||(r=!0,t(new Error("authorization: timeout")))},o=setTimeout(function(){e.removeListener("ready",n),i()},this._options.timeout);this.once("ready",function(){clearTimeout(o),n()})}},{key:"refreshToken",value:function(){var e=this;null!==this._token&&(null!==this._autorefresh&&(clearTimeout(this._autorefresh),this._autorefresh=null),this._token=null,function(){e._retryRequest()}())}},{key:"_retryRequest",value:function(){var e=this,t=this._retries[this._retry];return t?(setTimeout(function(){e._makeRequest()},t),void 0):(this._makeRequest(),void 0)}},{key:"_makeRequest",value:function(){var e=this;fetch(this._url,{credentials:"same-origin",headers:this._headers}).then(function(e){if(e.status>=200&&e.status<300)return e.json();if(401===e.status){var t=new Error("authorization: unauthorized");throw t.fatal=!0,t}if(403===e.status){var r=new Error("authorization: forbidden");throw r.fatal=!0,r}throw new Error("authorization: non-200 response code from auth server")}).then(function(t){e._token=t.token,e._retry=0,e.emit("ready",{token:t.token});var r=new Date(t.expire).getTime()-Date.now()-6e4;e._autorefresh=setTimeout(function(){e._autorefresh=null,e._stopped||e._retryRequest()},r)}).catch(function(t){return e._token=null,t.fatal?(e._fatalError=t,void 0):(e._retryRequest(),e._retry<e._retries.length-1&&e._retry++,void 0)})}}]),t}(c.EventEmitter);r.default=l},{events:63,"whatwg-fetch":2}],2:[function(){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):(e.bodyUsed=!0,void 0)}function a(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function s(e){var t=new FileReader,r=a(t);return t.readAsArrayBuffer(e),r}function c(e){var t=new FileReader,r=a(t);return t.readAsText(e),r}function u(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&g(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!v(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var r=t.body;if(e instanceof d){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",(t.headers||!this.headers)&&(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function b(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t}function _(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=function(e){return e&&DataView.prototype.isPrototypeOf(e)},v=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,n){e=t(e),n=r(n);var i=this.map[e];this.map[e]=i?i+","+n:n},i.prototype["delete"]=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,n){this.map[t(e)]=r(n)},i.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),n(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),n(e)},m.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},l.call(d.prototype),l.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];_.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=d,e.Response=_,e.fetch=function(e,t){return new Promise(function(r,n){var i=new d(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:b(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;r(new _(t,e))},o.onerror=function(){n(new TypeError("Network request failed"))},o.ontimeout=function(){n(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&m.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},{}],3:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();e("whatwg-fetch");var o=function(){function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n(this,e),!t)throw new Error("auth is required for a changerole request");if(this._auth=t,!r)throw new Error("url is required for a changerole request");this._url=r,this._nextParams="",this._options=i,this._retries=[0,300,1e3]}return i(e,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=this._url+"?";this._options.limit&&(t=t+"limit="+this._options.limit+"&"),this._request(t,e)}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if(this._nextParams){var t=this._url+"?"+this._nextParams;return this._request(t,e),void 0}e(null,[])}},{key:"_request",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=-1,i=function o(){t._auth.request(function(i,a){return i?(r(i),void 0):(fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a}}).then(function(e){if(200===e.status)return e.json();if(401===e.status){var t=new Error("chat: unauthorized");throw t.retry=!0,t}if(503===e.status){var r=new Error("chat: server unavailable");throw r.retry=!0,r}if(403===e.status)throw new Error("chat: forbidden");throw new Error("chat: non-200 response code from chat server")}).then(function(e){t._nextParams=e&&e._links&&e._links.next&&e._links.next.href?e._links.next.href.split("?")[1]:"",r(null,e.changeroles)}).catch(function(e){if(e.retry&&n<t._retries.length-1){n++;var i=t._retries[n];return i?(setTimeout(o,i),void 0):(o(),void 0)}r(e)}),void 0)})};i()}}]),e}();r.default=o},{"whatwg-fetch":140}],4:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();e("whatwg-fetch");var o=function(){function e(t,r){if(n(this,e),!t)throw new Error("auth is required for a command");if(this._auth=t,!r)throw new Error("url is required for a command");this._url=r,this._retries=[0,300,1e3]}return i(e,[{key:"run",value:function t(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!e)return n(new Error("command is required for a command")),void 0;var i=-1,t=function o(){r._auth.request(function(t,a){return t?(n(t),void 0):(fetch(r._url,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify({command:e})}).then(function(e){if(e.status>=200&&e.status<300)return 204===e.status?null:e.json();if(401===e.status){r._auth.refreshToken();var t=new Error("chat: unauthorized");throw t.retry=!0,t}if(503===e.status){var n=new Error("chat: server unavailable");throw n.retry=!0,n}if(403===e.status)throw new Error("chat: forbidden");if(e.status>=400&&e.status<500)return e.json();throw new Error("chat: non-200 response code from chat server")}).then(function(e){return e&&e.messages?(n(null,e.messages),void 0):(n(),void 0)}).catch(function(e){if(e.retry&&i<r._retries.length-1){i++;var t=r._retries[i];return t?(setTimeout(o,t),void 0):(o(),void 0)}n(e)}),void 0)})};t()}}]),e}();r.default=o},{"whatwg-fetch":140}],5:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();e("whatwg-fetch");var c=e("events"),u=e("./uuid.js"),h=n(u),l=function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(n._auth=r,!e)throw new Error("url is required for a command");return n._url=e,n._stopped=!0,n._connectionID=h.default(),n._isConnected=!1,n._retry=0,n._retries=[0,300,1e3],n._run(),n}return a(t,e),s(t,[{key:"destroy",value:function(){this._stopped=!0}},{key:"_retryRun",value:function(e){var t=this;return e?(this._retry=0,this._run(),void 0):(this._retry<this._retries.length-1&&this._retry++,setTimeout(function(){t._run()},this._retries[this._retry]),void 0)}},{key:"_run",value:function(){var e=this;return this._auth?(this._auth.request(function(t,r){return t?(e._disconnected(t),void 0):(e._request(r),void 0)}),void 0):(this._request(),void 0)}},{key:"_request",value:function(e){var t=this,r={Accept:"application/json","Content-Type":"application/json"};e&&(r.Authorization="Bearer "+e),fetch(this._url+"?cid="+this._connectionID,{method:"GET",headers:r}).then(function(e){if(200===e.status)return e.json();if(401===e.status){t._auth.refreshToken();var r=new Error("chat: unauthorized");throw r.retry=!0,r}if(503===e.status){var n=new Error("chat: server unavailable");throw n.retry=!0,n}if(404===e.status)throw new Error("Room does not exist");if(403===e.status)throw t.emit("unauthorized"),new Error("chat: forbidden");if(409===e.status){t._connectionID=h.default();var i=new Error("chat: connection id conflict");throw i.ignore=!0,i.retry=!0,i}throw new Error("non 200 response")}).then(function(e){t._connected();for(var r=0;r<e.length;r++)t.emit("message",e[r]);t._stopped||t._retryRun(!0)}).catch(function(e){t._disconnected(e),e.retry&&(t._stopped||t._retryRun())})}},{key:"_disconnected",value:function(e){e&&(e.ignore||this.emit("error",e)),this._isConnected&&(this.emit("disconnect"),this._isConnected=!1)}},{key:"_connected",value:function(){this._isConnected||(this.emit("ready"),this._isConnected=!0)}}]),t}(c.EventEmitter);r.default=l},{"./uuid.js":9,events:63,"whatwg-fetch":140}],6:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();e("whatwg-fetch");var o=function(){function e(t){if(n(this,e),!t)throw new Error("auth is required for an http request");this._auth=t,this._retries=[0,300,1e3]}return i(e,[{key:"execGet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!e)throw new Error("url is required for an http request");this._execute("GET",e,null,t)}},{key:"execPut",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(!e)throw new Error("url is required for an http request");this._execute("PUT",e,t,r)}},{key:"execPost",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(!e)throw new Error("url is required for an http request");this._execute("POST",e,t,r)}},{key:"execPatch",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(!e)throw new Error("url is required for an http request");this._execute("PATCH",e,t,r)}},{key:"execDelete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!e)throw new Error("url is required for an http request");this._execute("DELETE",e,t)}},{key:"_execute",value:function(e,t,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o={method:e,headers:{Accept:"application/json","Content-Type":"application/json"}};r&&(o.body=JSON.stringify(r));var a=-1,s=function c(){n._auth.request(function(e,r){return e?(i(e),void 0):(o.headers.Authorization="Bearer "+r,fetch(t,o).then(function(e){if(e.status>=200&&e.status<300)return e.json();if(401===e.status){var t=new Error("chat: unauthorized");throw t.retry=!0,t}if(503===e.status){var r=new Error("chat: server unavailable");throw r.retry=!0,r}if(403===e.status)throw new Error("chat: forbidden");throw new Error("chat: non-200 response code from chat server")}).then(function(e){i(null,e)}).catch(function(e){if(e.retry&&a<n._retries.length-1){a++;var t=n._retries[a];return t?(setTimeout(c,t),void 0):(c(),void 0)}i(e)}),void 0)})};s()}}]),e}();r.default=o},{"whatwg-fetch":140}],7:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("events"),u=e("@livelyvideo/auth-core/lib/index.js"),h=n(u),l=e("./websocket.js"),f=n(l),d=e("./fallback.js"),p=n(d),b=e("./command.js"),_=n(b),m=e("@livelyvideo/chat-parser-core"),y=n(m),g=e("./roster.js"),v=n(g),w=e("./changerole.js"),k=n(w),E=e("./http.js"),x=n(E),S=function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e)throw new Error("chat configuration is required");if(!e.room)throw new Error("chat room is required");if(!e.host)throw new Error("chat server host required");e.wshost||(e.wshost="ws-"+e.host);var a="https",s="wss";e.insecure&&(a="http",s="ws");var c="";e.roleHistory&&(c="role-history=true");var u=a+"://"+e.host+"/chat/v1/rooms/"+e.room+"/command",l=a+"://"+e.host+"/chat/v1/manifests/say/rooms/"+e.room+"/version",d=s+"://"+e.wshost+"/chat/ws/v1/rooms/"+e.room+"?"+c,b="/chat/http/v1/rooms/"+e.room;if(n._rosterUrl=a+"://"+e.host+"/chat/v1/rooms/"+e.room+"/roster",n._changeroleUrl=a+"://"+e.host+"/chat/v1/rooms/"+e.room+"/changeroles",n._routeStart=a+"://"+e.host+"/chat/v1",r){if(!r.url)throw new Error("authorization configuration url is required");n._auth=new h.default("chat",r.url,r.options)}var m=new y.default(l);if(n._parser=m,n._auth&&(n._http=new x.default(n._auth),n._command=new _.default(n._auth,u)),window.WebSocket)n._socketInterface=new f.default(d,n._auth);else{var g=g=a+"://"+e.host+b;n._socketInterface=new p.default(g,n._auth)}return n._socketInterface.on("error",function(e){n.emit("error",e)}),n._socketInterface.on("ready",function(){n.emit("ready")}),n._historyEmitted=!1,n._socketInterface.on("unauthorized",function(){if(n._historyEmitted)return n.emit("me",null),void 0;var e=function(){n.emit("me",null)},t=window.setTimeout(function(){e(),e=null},3e3);n.once("history",function(){e&&e(),window.clearTimeout(t)})}),n._socketInterface.on("disconnect",function(){n._historyEmitted=!1,n.emit("disconnect")}),n._socketInterface.on("message",function(e){m.parseMessage(e,n._emitCommand.bind(n))}),n._sayDedupe=[],n._me=null,n._room=null,n}return a(t,e),s(t,[{key:"getDefaultAvatars",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this._httpCheckAuth(),this._http.execGet(this._routeStart+"/avatars",e)}},{key:"setDefaultUserAvatar",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};this._httpCheckAuth(),this._http.execPatch(this._routeStart+"/users/"+e+"/avatar",{"default":t},r)}},{key:"getUserEmoticons",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this._httpCheckAuth(),this._http.execGet(this._routeStart+"/users/"+e+"/emoticons",t)}},{key:"getAllEmoticons",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};this._httpCheckAuth(),this._http.execGet(this._routeStart+"/rooms/"+e+"/users/"+t+"/emoticons/all",r)}},{key:"postUserEmoticon",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};this._httpCheckAuth(),this._http.execPost(this._routeStart+"/users/"+e+"/emoticons",t,r)}},{key:"deleteUserEmoticon",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};this._httpCheckAuth(),this._http.execDelete(this._routeStart+"/users/"+e+"/emoticons/"+t,r)}},{key:"getUserAvatar",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this._httpCheckAuth(),this._http.execGet(this._routeStart+"/users/"+e+"/avatar",t)}},{key:"putUserAvatar",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};this._httpCheckAuth(),this._http.execPut(this._routeStart+"/users/"+e+"/avatar",t,r)}},{key:"getUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this._httpCheckAuth(),this._http.execGet(this._routeStart+"/users/"+e,t)}},{key:"patchUser",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};this._httpCheckAuth(),this._http.execPatch(this._routeStart+"/users/"+e,t,r)}},{key:"getRoomUser",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};this._httpCheckAuth(),this._http.execGet(this._routeStart+"/rooms/"+e+"/users/"+t,r)}},{key:"patchRoomUser",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};this._httpCheckAuth(),this._http.execPatch(this._routeStart+"/rooms/"+e+"/users/"+t,r,n)}},{key:"getRoom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this._httpCheckAuth(),this._http.execGet(this._routeStart+"/rooms/"+e,t)}},{key:"patchRoom",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};this._httpCheckAuth(),this._http.execPatch(this._routeStart+"/rooms/"+e,t,r)}},{key:"getChangeroles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._auth)throw new Error("Changeroles calls require authentication");var t=Object.assign({},{limit:100,role:""},e);return new k.default(this._auth,this._changeroleUrl,t)}},{key:"getRoster",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},{limit:100,role:""},e);return new v.default(this._rosterUrl,t)}},{key:"command",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!this._auth)throw new Error("Command calls require authentication");this._command.run(e,function(e,n){if(e)return r(e),void 0;for(var i=n.length-1;i>=0;i--)n[i].data&&n[i].data&&n[i].data.command&&(t._parser.parseMessage(n[i].data.command,t._emitCommand.bind(t)),n.splice(0,1));r(null,n)})}},{key:"destroy",value:function(){this._auth.destroy(),this._socketInterface.destroy()}},{key:"_emitCommand",value:function(e,t,r){if(e)return this.emit("error",e),void 0;switch(t){case"NOTIFICATION":this.emit("notification",r);break;case"CLOSE":this.emit("close",r),this._socketInterface.destroy();break;case"SAY":this._emitSay(r);break;case"ME":this._me=r,this.emit("me",r);break;case"ROOM":this._room=r,this.emit("room",r);break;case"MESSAGE":this.emit("message",r);break;case"HISTORY":this.emit("history",r),this._historyEmitted=!0;break;case"DELETE":this.emit("delete",r)}}},{key:"_emitSay",value:function(e){for(var t=this._sayDedupe.length-1;t>=0;t--)if(this._sayDedupe[t]===e.id)return;this._me&&this._me.ignore&&-1!==this._me.ignore.indexOf(e.actor.id)&&(e.ignore=!0),this._sayDedupe.length>50&&this._sayDedupe.splice(0,1),this._sayDedupe.push(e.id),this.emit("chat",e)}},{key:"_httpCheckAuth",value:function(){if(!this._auth)throw new Error("Http calls require authentication")}}]),t}(c.EventEmitter);r.default=S},{"./changerole.js":3,"./command.js":4,"./fallback.js":5,"./http.js":6,"./roster.js":8,"./websocket.js":10,"@livelyvideo/auth-core/lib/index.js":1,"@livelyvideo/chat-parser-core":11,events:63}],8:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();e("whatwg-fetch");var o=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,e),!t)throw new Error("url is required for a roster request");this._url=t,this._nextParams="",this._options=r,this._retries=[0,300,1e3]}return i(e,[{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=this._url+"?";this._options.limit&&(t=t+"limit="+this._options.limit+"&"),this._options.role&&(t=t+"role="+this._options.role+"&"),this._request(t,e)}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if(this._nextParams){var t=this._url+"?"+this._nextParams;return this._request(t,e),void 0}e(null,[])}},{key:"_request",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=-1,i=function o(){fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){if(200===e.status)return e.json();if(503===e.status){var t=new Error("chat: server unavailable");throw t.retry=!0,t}if(403===e.status)throw new Error("chat: forbidden");throw new Error("chat: non-200 response code from chat server")}).then(function(e){t._nextParams=e&&e._links&&e._links.next&&e._links.next.href?e._links.next.href.split("?")[1]:"",r(null,e.users)}).catch(function(e){if(e.retry&&n<t._retries.length-1){n++;var i=t._retries[n];return i?(setTimeout(o,i),void 0):(o(),void 0)}r(e)})};i()}}]),e}();r.default=o},{"whatwg-fetch":140}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});for(var n=new Array(16),i=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),n[t]=255&e>>>((3&t)<<3);return n},o=function(e,t){var r=t||0,n=a;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]},a=[],s={},c=0;256>c;c++)a[c]=(c+256).toString(16).substr(1),s[a[c]]=c;var u=function(){var e=i();return e[6]=64|15&e[6],e[8]=128|63&e[8],o(e)};r.default=u},{}],10:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("reconnectable-websocket"),u=n(c),h=e("events"),l={MSG:"msg",FIN:"fin"},f={MSG:"msg",ERR:"err",FIN:"fin",ACK:"ack"},d={DEFAULT:"/",AUTH:"/auth"},p=function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e)throw new Error("url is required for chat");return n._auth=r,n._socket=new u.default(e,"livelyWebsocket",{automaticOpen:!1,reconnectOnError:!0,reconnectOnCleanClose:!0,randomRatio:!1}),n._retries=[0,200,1e3,2e3],n._retry=0,n.ready=!1,n.authed=!1,n._socket.onopen=function(){n._auth&&n._authenticate()},n._socket.onclose=function(e){n.emit("disconnect"),n.ready=!1,n.authed=!1,1003===e.code&&(n._socket._options.reconnectOnCleanClose=!1,n._socket._options.reconnectOnError=!1,n._socket.close(),n.emit("error",new Error("Requested room does not exist")))},n._socket.onmessage=function(e){n._onmessage(e)},n._socket.open(),n}return a(t,e),s(t,[{key:"destroy",value:function(){this._socket._options.reconnectOnCleanClose=!1,this._socket._options.reconnectOnError=!1,this._socket.close()}},{key:"_authenticate",value:function(){var e=this;this._auth.request(function(t,r){return t?(e.emit("error",t),void 0):(e._send(e._socket,l.MSG,d.AUTH,r),e.once("_authed",function(t){return t?(e.emit("unauthorized"),void 0):void 0}),void 0)})}},{key:"_send",value:function(e,t,r,n){if(e&&e.readyState===e.OPEN){var i=t+" "+r+" "+n;this._socket.send(i)}}},{key:"_onmessage",value:function(e){var t=e.data;if(t){var r=t.indexOf(" "),n=t.indexOf(" ",r+1),i=t.slice(0,r),o=t.slice(r+1,n),a=t.slice(n+1);if(i===f.MSG){var s=void 0;try{s=JSON.parse(a)}catch(c){return this.emit("error",c),void 0}return this.emit("message",s),void 0}return this.ready||i!==f.ACK||o!==d.DEFAULT||(this.emit("ready"),this.ready=!0,this._auth||this.emit("unauthorized")),this.authed||i!==f.FIN?i===f.ERR?(this.emit("error",new Error(a)),void 0):void 0:(o===d.AUTH&&(this.emit("_authed"),this.authed=!0),void 0)}}}]),t}(h.EventEmitter);r.default=p},{events:63,"reconnectable-websocket":126}],11:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();e("whatwg-fetch");var o=void 0;"undefined"==typeof window&&(o=e("node-fetch"));var a={INDEX:"index",TYPE:"type",NESTED_ITEMS:"nestedItems"},s={KEY:"key",VARS:"vars"},c={NESTED_DATA_ARRAY:"nestedDataArray",NESTED_ARRAY:"nestedArray",NESTED_OBJECT:"nestedObject",TEMPLATE:"template",INT_ARRAY:"intArray",STRING_ARRAY:"stringArray",STRING:"string",INT:"int",BOOL:"bool"},u={emoticons:"emoticon",links:"link",mentions:"mention",tags:"tag"},h=function(){function e(t){if(n(this,e),!t)throw new Error("url is required for parser");this._baseUrl=t,this._manifests={},this._buffer={},this._fetchingManifests={}}return i(e,[{key:"parseMessage",value:function(e,t){var r=this;e&&e instanceof Array&&!(e.length<2)||t(new Error("Invalid data format"));var n=e[0],i=e[1];this._parseMessage(n,i,function(e,i){return e?(t(e),void 0):("HISTORY"===n&&i.messages.length&&i.messages.forEach(function(e,t){r._parseMessage("SAY",e,function(e,r){e||(i.messages[t]=r)})}),t(null,n,i),void 0)})}},{key:"_addManifest",value:function(e){this._manifests[e.version]=e}},{key:"_parseMessage",value:function(e,t,r){var n=this,i=t[0],a=void 0;if(this._manifests[i])return this._manifests[i].manifests[e]?(a=this._parse(i,this._manifests[i].manifests[e],t),r(null,a),void 0):(r(new Error("manifest does not have "+e+" command")),void 0);if(this._buffer[i]?this._buffer[i].push([t,e,r]):this._buffer[i]=[[t,e,r]],this._fetchingManifests[i]!==!0){this._fetchingManifests[i]=!0;var s=void 0;s="undefined"==typeof window?o(this._baseUrl+"/"+i):fetch(this._baseUrl+"/"+i),s.then(function(e){if(200!==e.status)throw new Error("chat: non-200 response code from chat server");return e.json()}).then(function(e){for(n._addManifest(e);n._buffer[e.version].length>0;){var t=n._buffer[e.version].shift();a=n._parse(e.version,e.manifests[t[1]],t[0]),t[2](null,a)}}).catch(function(e){n._buffer[i]=[],r(e)})}}},{key:"_parse",value:function(e,t,r){for(var n=this,i={},o=Object.keys(t),h=function(h){var l=o[h],f=t[l],d=r[f[a.INDEX]];if(null===d)return i[l]=null,"continue";var p=void 0;switch(f[a.TYPE]){case c.NESTED_ARRAY:p=[];for(var b=0;b<d.length;b++)p.push(n._parse(e,f[a.NESTED_ITEMS],d[b]));break;case c.NESTED_OBJECT:p=n._parse(e,f[a.NESTED_ITEMS],d);break;case c.TEMPLATE:p=n._parseTemplate(e,d[f[a.NESTED_ITEMS][s.KEY].index],d[f[a.NESTED_ITEMS][s.VARS].index]);break;default:p=d}p&&p instanceof Array&&p.forEach(function(e){var t=e;t.positions&&t.positions instanceof Array&&t.positions.forEach(function(e){u[l]&&(t.type=u[l],i.positions||(i.positions={}),i.positions[e]=t)})}),i[l]=p},l=0;l<o.length;l++){{h(l)}}return i}},{key:"_parseTemplate",value:function(e,t,r){var n=new l(this._manifests[e].templates[t],r);return n.getParsed()}}]),e}(),l=function(){function e(t,r){return n(this,e),this._parsed="",r&&0!==r.length?(t&&0!==t.length&&(this._parsed="",this._varPos=0,this._curr="",this._template=t,this._templateLength=t.length,this._vars=r,this._next=this._startState.bind(this),this._pos=0,this._skipNext=!1),void 0):(this._parsed=t,void 0)}return i(e,[{key:"getParsed",value:function(){if(this._parsed)return this._parsed;for(var e=0;e<this._templateLength;e++)this._skipNext?this._skipNext=!1:(this._pos=e,this._curr=this._template[e],this._next=this._next().bind(this));return this._parsed}},{key:"_startDelim",value:function(){return this._pos>=this._templateLength-1?!1:"{"===this._curr&&"{"===this._template[this._pos+1]?(this._skipNext=!0,!0):!1}},{key:"_endDelim",value:function(){return this._pos>=this._templateLength-1?!1:"}"===this._curr&&"}"===this._template[this._pos+1]?(this._skipNext=!0,!0):!1}},{key:"_startState",value:function(){return this._startDelim()?this._midState:(this._parsed+=this._curr,this._startState)}},{key:"_midState",value:function(){return"n"===this._curr?this._endState:(this._parsed=this._parsed+"{{"+this._curr,this._startState)}},{key:"_endState",value:function(){return this._endDelim()?(this._parsed+=this._vars[this._varPos],this._varPos++):this._parsed+=this._curr,this._startState}}]),e}();r.default=h},{"node-fetch":91,"whatwg-fetch":140}],12:[function(t,r,n){!function(t,i){"object"==typeof n&&"object"==typeof r?r.exports=i():"function"==typeof e&&e.amd?e([],i):"object"==typeof n?n.LivelyLocales=i():t.LivelyLocales=i()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(t){if("object"!==("undefined"==typeof t?"undefined":o(t)))throw new Error("Lively Localization instantiated with something other than a messages object",{messages:t});return new u(e,t)}return e&&c[e]?c[e]:l}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t});var s={},c={},u=function(){function e(t,r){return n(this,e),t&&s[t]||r?(this.name=t,this.data=s[t]||{},void(r&&Object.assign(this.data,r))):void(this.localize=function(e){return e})}return a(e,[{key:"localize",value:function(e){var t=void 0;return(t=this.data[e])?t:(this.name?console.warn("'"+e+"' has no translation in the provided '"+this.name+"' locale files or localization messages"):console.warn("'"+e+"' has no translation in the provided localization messages."),e)}}]),e}(),h=r(1);h.keys().forEach(function(e){var t=e.split("/");3===t.length&&(s[t[1]]||(s[t[1]]={}),s[t[1]]=Object.assign(s[t[1]],h(e)))});var l=new u;Object.keys(s).forEach(function(e){c[e]=new u(e)}),t.default=i,e.exports=t.default},function(e){function t(e){throw new Error("Cannot find module '"+e+"'.")}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=1}])})},{}],13:[function(e,t){!function(r){"use strict";function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);o>i;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return n>r?-1:r>n?1:0}function i(e){return r.Buffer&&"function"==typeof r.Buffer.isBuffer?r.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function o(e){return Object.prototype.toString.call(e)}function a(e){return i(e)?!1:"function"!=typeof r.ArrayBuffer?!1:"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e?e instanceof DataView?!0:e.buffer&&e.buffer instanceof ArrayBuffer?!0:!1:!1}function s(e){if(v.isFunction(e)){if(E)return e.name;var t=e.toString(),r=t.match(S);return r&&r[1]}}function c(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function u(e){if(E||!v.isFunction(e))return v.inspect(e);var t=s(e),r=t?": "+t:"";return"[Function"+r+"]"}function h(e){return c(u(e.actual),128)+" "+e.operator+" "+c(u(e.expected),128)}function l(e,t,r,n,i){throw new x.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function f(e,t){e||l(e,!0,t,"==",x.ok)}function d(e,t,r,s){if(e===t)return!0;if(i(e)&&i(t))return 0===n(e,t);if(v.isDate(e)&&v.isDate(t))return e.getTime()===t.getTime();if(v.isRegExp(e)&&v.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(!a(e)||!a(t)||o(e)!==o(t)||e instanceof Float32Array||e instanceof Float64Array){if(i(e)!==i(t))return!1;s=s||{actual:[],expected:[]};var c=s.actual.indexOf(e);return-1!==c&&c===s.expected.indexOf(t)?!0:(s.actual.push(e),s.expected.push(t),b(e,t,r,s))}return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer))}return r?e===t:e==t}function p(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function b(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(v.isPrimitive(e)||v.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=p(e),o=p(t);if(i&&!o||!i&&o)return!1;if(i)return e=k.call(e),t=k.call(t),d(e,t,r);var a,s,c=T(e),u=T(t);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),s=c.length-1;s>=0;s--)if(c[s]!==u[s])return!1;for(s=c.length-1;s>=0;s--)if(a=c[s],!d(e[a],t[a],r,n))return!1;return!0}function _(e,t,r){d(e,t,!0)&&l(e,t,r,"notDeepStrictEqual",_)}function m(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(r){}return Error.isPrototypeOf(t)?!1:t.call({},e)===!0}function y(e){var t;try{e()}catch(r){t=r}return t}function g(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=y(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&l(i,r,"Missing expected exception"+n);var o="string"==typeof n,a=!e&&v.isError(i),s=!e&&i&&!r;if((a&&o&&m(i,r)||s)&&l(i,r,"Got unwanted exception"+n),e&&i&&r&&!m(i,r)||!e&&i)throw i}var v=e("util/"),w=Object.prototype.hasOwnProperty,k=Array.prototype.slice,E=function(){return"foo"===function(){}.name}(),x=t.exports=f,S=/\s*function\s+([^\(\s]*)\s*/;x.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=h(this),this.generatedMessage=!0);var t=e.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=s(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},v.inherits(x.AssertionError,Error),x.fail=l,x.ok=f,x.equal=function(e,t,r){e!=t&&l(e,t,r,"==",x.equal)},x.notEqual=function(e,t,r){e==t&&l(e,t,r,"!=",x.notEqual)},x.deepEqual=function(e,t,r){d(e,t,!1)||l(e,t,r,"deepEqual",x.deepEqual)},x.deepStrictEqual=function(e,t,r){d(e,t,!0)||l(e,t,r,"deepStrictEqual",x.deepStrictEqual)},x.notDeepEqual=function(e,t,r){d(e,t,!1)&&l(e,t,r,"notDeepEqual",x.notDeepEqual)},x.notDeepStrictEqual=_,x.strictEqual=function(e,t,r){e!==t&&l(e,t,r,"===",x.strictEqual)},x.notStrictEqual=function(e,t,r){e===t&&l(e,t,r,"!==",x.notStrictEqual)},x.throws=function(e,t,r){g(!0,e,t,r)},x.doesNotThrow=function(e,t,r){g(!1,e,t,r)},x.ifError=function(e){if(e)throw e};var T=Object.keys||function(e){var t=[];for(var r in e)w.call(e,r)&&t.push(r);return t}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":139}],14:[function(e,t){t.exports={"default":e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":24}],15:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],16:[function(e,t,r){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-n(e)}function o(e){var t,r,i,o,a,s,c=e.length;a=n(e),s=new l(3*c/4-a),i=a>0?c-4:c;var u=0;for(t=0,r=0;i>t;t+=4,r+=3)o=h[e.charCodeAt(t)]<<18|h[e.charCodeAt(t+1)]<<12|h[e.charCodeAt(t+2)]<<6|h[e.charCodeAt(t+3)],s[u++]=255&o>>16,s[u++]=255&o>>8,s[u++]=255&o;return 2===a?(o=h[e.charCodeAt(t)]<<2|h[e.charCodeAt(t+1)]>>4,s[u++]=255&o):1===a&&(o=h[e.charCodeAt(t)]<<10|h[e.charCodeAt(t+1)]<<4|h[e.charCodeAt(t+2)]>>2,s[u++]=255&o>>8,s[u++]=255&o),s}function a(e){return u[63&e>>18]+u[63&e>>12]+u[63&e>>6]+u[63&e]}function s(e,t,r){for(var n,i=[],o=t;r>o;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(n));return i.join("")}function c(e){for(var t,r=e.length,n=r%3,i="",o=[],a=16383,c=0,h=r-n;h>c;c+=a)o.push(s(e,c,c+a>h?h:c+a));return 1===n?(t=e[r-1],i+=u[t>>2],i+=u[63&t<<4],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=u[t>>10],i+=u[63&t>>4],i+=u[63&t<<2],i+="="),o.push(i),o.join("")}r.byteLength=i,r.toByteArray=o,r.fromByteArray=c;for(var u=[],h=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=f.length;p>d;++d)u[d]=f[d],h[f.charCodeAt(d)]=d;h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},{}],17:[function(){},{}],18:[function(e,t,r){!function(t,n){function i(e){if(e<r.DEFLATE||e>r.UNZIP)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function o(e,t){for(var r=0;r<e.length;r++)this[t+r]=e[r]}var a=e("pako/lib/zlib/messages"),s=e("pako/lib/zlib/zstream"),c=e("pako/lib/zlib/deflate.js"),u=e("pako/lib/zlib/inflate.js"),h=e("pako/lib/zlib/constants");for(var l in h)r[l]=h[l];r.NONE=0,r.DEFLATE=1,r.INFLATE=2,r.GZIP=3,r.GUNZIP=4,r.DEFLATERAW=5,r.INFLATERAW=6,r.UNZIP=7,i.prototype.init=function(e,t,n,i){switch(this.windowBits=e,this.level=t,this.memLevel=n,this.strategy=i,(this.mode===r.GZIP||this.mode===r.GUNZIP)&&(this.windowBits+=16),this.mode===r.UNZIP&&(this.windowBits+=32),(this.mode===r.DEFLATERAW||this.mode===r.INFLATERAW)&&(this.windowBits=-this.windowBits),this.strm=new s,this.mode){case r.DEFLATE:case r.GZIP:case r.DEFLATERAW:var o=c.deflateInit2(this.strm,this.level,r.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case r.INFLATE:case r.GUNZIP:case r.INFLATERAW:case r.UNZIP:var o=u.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}return o!==r.Z_OK?(this._error(o),void 0):(this.write_in_progress=!1,this.init_done=!0,void 0)},i.prototype.params=function(){throw new Error("deflateParams Not supported")},i.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===r.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},i.prototype.write=function(e,r,n,i,o,a,s){this._writeCheck(),this.write_in_progress=!0;var c=this;return t.nextTick(function(){c.write_in_progress=!1;var t=c._write(e,r,n,i,o,a,s);c.callback(t[0],t[1]),c.pending_close&&c.close()}),this},i.prototype.writeSync=function(e,t,r,n,i,o,a){return this._writeCheck(),this._write(e,t,r,n,i,o,a)},i.prototype._write=function(e,t,i,a,s,h,l){if(this.write_in_progress=!0,e!==r.Z_NO_FLUSH&&e!==r.Z_PARTIAL_FLUSH&&e!==r.Z_SYNC_FLUSH&&e!==r.Z_FULL_FLUSH&&e!==r.Z_FINISH&&e!==r.Z_BLOCK)throw new Error("Invalid flush value");null==t&&(t=new n(0),a=0,i=0),s.set=s._set?s._set:o;var f=this.strm;switch(f.avail_in=a,f.input=t,f.next_in=i,f.avail_out=l,f.output=s,f.next_out=h,this.mode){case r.DEFLATE:case r.GZIP:case r.DEFLATERAW:var d=c.deflate(f,e);break;case r.UNZIP:case r.INFLATE:case r.GUNZIP:case r.INFLATERAW:var d=u.inflate(f,e);break;default:throw new Error("Unknown mode "+this.mode)}return d!==r.Z_STREAM_END&&d!==r.Z_OK&&this._error(d),this.write_in_progress=!1,[f.avail_in,f.avail_out]},i.prototype.close=function(){return this.write_in_progress?(this.pending_close=!0,void 0):(this.pending_close=!1,this.mode===r.DEFLATE||this.mode===r.GZIP||this.mode===r.DEFLATERAW?c.deflateEnd(this.strm):u.inflateEnd(this.strm),this.mode=r.NONE,void 0)},i.prototype.reset=function(){switch(this.mode){case r.DEFLATE:case r.DEFLATERAW:var e=c.deflateReset(this.strm);break;case r.INFLATE:case r.INFLATERAW:var e=u.inflateReset(this.strm)}e!==r.Z_OK&&this._error(e)},i.prototype._error=function(e){this.onerror(a[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()},r.Zlib=i}.call(this,e("_process"),e("buffer").Buffer)},{_process:109,buffer:21,"pako/lib/zlib/constants":99,"pako/lib/zlib/deflate.js":101,"pako/lib/zlib/inflate.js":103,"pako/lib/zlib/messages":105,"pako/lib/zlib/zstream":107}],19:[function(e,t,r){!function(t,n){function i(e,t,r){function i(){for(var t;null!==(t=e.read());)s.push(t),c+=t.length;e.once("readable",i)}function o(t){e.removeListener("end",a),e.removeListener("readable",i),r(t)}function a(){var t=n.concat(s,c);s=[],r(null,t),e.close()}var s=[],c=0;e.on("error",o),e.on("end",a),e.end(t),i()}function o(e,t){if("string"==typeof t&&(t=new n(t)),!n.isBuffer(t))throw new TypeError("Not a string or buffer");var r=b.Z_FINISH;return e._processChunk(t,r)}function a(e){return this instanceof a?(d.call(this,e,b.DEFLATE),void 0):new a(e)}function s(e){return this instanceof s?(d.call(this,e,b.INFLATE),void 0):new s(e)}function c(e){return this instanceof c?(d.call(this,e,b.GZIP),void 0):new c(e)}function u(e){return this instanceof u?(d.call(this,e,b.GUNZIP),void 0):new u(e)}function h(e){return this instanceof h?(d.call(this,e,b.DEFLATERAW),void 0):new h(e)}function l(e){return this instanceof l?(d.call(this,e,b.INFLATERAW),void 0):new l(e)}function f(e){return this instanceof f?(d.call(this,e,b.UNZIP),void 0):new f(e)}function d(e,t){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||r.Z_DEFAULT_CHUNK,p.call(this,e),e.flush&&e.flush!==b.Z_NO_FLUSH&&e.flush!==b.Z_PARTIAL_FLUSH&&e.flush!==b.Z_SYNC_FLUSH&&e.flush!==b.Z_FULL_FLUSH&&e.flush!==b.Z_FINISH&&e.flush!==b.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||b.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<r.Z_MIN_CHUNK||e.chunkSize>r.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<r.Z_MIN_WINDOWBITS||e.windowBits>r.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<r.Z_MIN_LEVEL||e.level>r.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<r.Z_MIN_MEMLEVEL||e.memLevel>r.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=r.Z_FILTERED&&e.strategy!=r.Z_HUFFMAN_ONLY&&e.strategy!=r.Z_RLE&&e.strategy!=r.Z_FIXED&&e.strategy!=r.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!n.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new b.Zlib(t);var i=this;this._hadError=!1,this._binding.onerror=function(e,t){i._binding=null,i._hadError=!0;var n=new Error(e);n.errno=t,n.code=r.codes[t],i.emit("error",n)};var o=r.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(o=e.level);var a=r.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(a=e.strategy),this._binding.init(e.windowBits||r.Z_DEFAULT_WINDOWBITS,o,e.memLevel||r.Z_DEFAULT_MEMLEVEL,a,e.dictionary),this._buffer=new n(this._chunkSize),this._offset=0,this._closed=!1,this._level=o,this._strategy=a,this.once("end",this.close)}var p=e("_stream_transform"),b=e("./binding"),_=e("util"),m=e("assert").ok;b.Z_MIN_WINDOWBITS=8,b.Z_MAX_WINDOWBITS=15,b.Z_DEFAULT_WINDOWBITS=15,b.Z_MIN_CHUNK=64,b.Z_MAX_CHUNK=1/0,b.Z_DEFAULT_CHUNK=16384,b.Z_MIN_MEMLEVEL=1,b.Z_MAX_MEMLEVEL=9,b.Z_DEFAULT_MEMLEVEL=8,b.Z_MIN_LEVEL=-1,b.Z_MAX_LEVEL=9,b.Z_DEFAULT_LEVEL=b.Z_DEFAULT_COMPRESSION,Object.keys(b).forEach(function(e){e.match(/^Z/)&&(r[e]=b[e])}),r.codes={Z_OK:b.Z_OK,Z_STREAM_END:b.Z_STREAM_END,Z_NEED_DICT:b.Z_NEED_DICT,Z_ERRNO:b.Z_ERRNO,Z_STREAM_ERROR:b.Z_STREAM_ERROR,Z_DATA_ERROR:b.Z_DATA_ERROR,Z_MEM_ERROR:b.Z_MEM_ERROR,Z_BUF_ERROR:b.Z_BUF_ERROR,Z_VERSION_ERROR:b.Z_VERSION_ERROR},Object.keys(r.codes).forEach(function(e){r.codes[r.codes[e]]=e}),r.Deflate=a,r.Inflate=s,r.Gzip=c,r.Gunzip=u,r.DeflateRaw=h,r.InflateRaw=l,r.Unzip=f,r.createDeflate=function(e){return new a(e)},r.createInflate=function(e){return new s(e)},r.createDeflateRaw=function(e){return new h(e)},r.createInflateRaw=function(e){return new l(e)},r.createGzip=function(e){return new c(e)},r.createGunzip=function(e){return new u(e)},r.createUnzip=function(e){return new f(e)},r.deflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),i(new a(t),e,r)},r.deflateSync=function(e,t){return o(new a(t),e)},r.gzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),i(new c(t),e,r)},r.gzipSync=function(e,t){return o(new c(t),e)},r.deflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),i(new h(t),e,r)},r.deflateRawSync=function(e,t){return o(new h(t),e)},r.unzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),i(new f(t),e,r)},r.unzipSync=function(e,t){return o(new f(t),e)},r.inflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),i(new s(t),e,r)},r.inflateSync=function(e,t){return o(new s(t),e)},r.gunzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),i(new u(t),e,r)},r.gunzipSync=function(e,t){return o(new u(t),e)},r.inflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),i(new l(t),e,r)},r.inflateRawSync=function(e,t){return o(new l(t),e)},_.inherits(d,p),d.prototype.params=function(e,n,i){if(e<r.Z_MIN_LEVEL||e>r.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(n!=r.Z_FILTERED&&n!=r.Z_HUFFMAN_ONLY&&n!=r.Z_RLE&&n!=r.Z_FIXED&&n!=r.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==e||this._strategy!==n){var o=this;this.flush(b.Z_SYNC_FLUSH,function(){o._binding.params(e,n),o._hadError||(o._level=e,o._strategy=n,i&&i())})}else t.nextTick(i)},d.prototype.reset=function(){return this._binding.reset()},d.prototype._flush=function(e){this._transform(new n(0),"",e)},d.prototype.flush=function(e,r){var i=this._writableState;if(("function"==typeof e||void 0===e&&!r)&&(r=e,e=b.Z_FULL_FLUSH),i.ended)r&&t.nextTick(r);else if(i.ending)r&&this.once("end",r);else if(i.needDrain){var o=this;this.once("drain",function(){o.flush(r)})}else this._flushFlag=e,this.write(new n(0),"",r)},d.prototype.close=function(e){if(e&&t.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var r=this;t.nextTick(function(){r.emit("close")})}},d.prototype._transform=function(e,t,r){var i,o=this._writableState,a=o.ending||o.ended,s=a&&(!e||o.length===e.length);return null!==!e||n.isBuffer(e)?(s?i=b.Z_FINISH:(i=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||b.Z_NO_FLUSH)),this._processChunk(e,i,r),void 0):r(new Error("invalid input"))},d.prototype._processChunk=function(e,t,r){function i(h,d){if(!c._hadError){var p=a-d;if(m(p>=0,"have should not go down"),p>0){var b=c._buffer.slice(c._offset,c._offset+p);c._offset+=p,u?c.push(b):(l.push(b),f+=b.length)}if((0===d||c._offset>=c._chunkSize)&&(a=c._chunkSize,c._offset=0,c._buffer=new n(c._chunkSize)),0===d){if(s+=o-h,o=h,!u)return!0;var _=c._binding.write(t,e,s,o,c._buffer,c._offset,c._chunkSize);return _.callback=i,_.buffer=e,void 0}return u?(r(),void 0):!1}}var o=e&&e.length,a=this._chunkSize-this._offset,s=0,c=this,u="function"==typeof r;if(!u){var h,l=[],f=0;this.on("error",function(e){h=e});do var d=this._binding.writeSync(t,e,s,o,this._buffer,this._offset,a);while(!this._hadError&&i(d[0],d[1]));if(this._hadError)throw h;var p=n.concat(l,f);return this.close(),p}var b=this._binding.write(t,e,s,o,this._buffer,this._offset,a);b.buffer=e,b.callback=i},_.inherits(a,d),_.inherits(s,d),_.inherits(c,d),_.inherits(u,d),_.inherits(h,d),_.inherits(l,d),_.inherits(f,d)}.call(this,e("_process"),e("buffer").Buffer)},{"./binding":18,_process:109,_stream_transform:124,assert:13,buffer:21,util:139}],20:[function(e,t,r){!function(t){"use strict";var n=e("buffer"),i=n.Buffer,o=n.SlowBuffer,a=n.kMaxLength||2147483647;r.alloc=function(e,t,r){if("function"==typeof i.alloc)return i.alloc(e,t,r);if("number"==typeof r)throw new TypeError("encoding must not be number");if("number"!=typeof e)throw new TypeError("size must be a number");if(e>a)throw new RangeError("size is too large");var n=r,o=t;void 0===o&&(n=void 0,o=0);var s=new i(e);if("string"==typeof o)for(var c=new i(o,n),u=c.length,h=-1;++h<e;)s[h]=c[h%u];else s.fill(o);return s},r.allocUnsafe=function(e){if("function"==typeof i.allocUnsafe)return i.allocUnsafe(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>a)throw new RangeError("size is too large");return new i(e)},r.from=function(e,r,n){if("function"==typeof i.from&&(!t.Uint8Array||Uint8Array.from!==i.from))return i.from(e,r,n);if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("string"==typeof e)return new i(e,r);if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){var o=r;if(1===arguments.length)return new i(e);"undefined"==typeof o&&(o=0);var a=n;if("undefined"==typeof a&&(a=e.byteLength-o),o>=e.byteLength)throw new RangeError("'offset' is out of bounds");if(a>e.byteLength-o)throw new RangeError("'length' is out of bounds");return new i(e.slice(o,o+a))}if(i.isBuffer(e)){var s=new i(e.length);return e.copy(s,0,0,e.length),s}if(e){if(Array.isArray(e)||"undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return new i(e);if("Buffer"===e.type&&Array.isArray(e.data))return new i(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},r.allocUnsafeSlow=function(e){if("function"==typeof i.allocUnsafeSlow)return i.allocUnsafeSlow(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>=a)throw new RangeError("size is too large");return new o(e)}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:21}],21:[function(e,t,r){"use strict";function n(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}function i(e){if(e>X)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=o.prototype,t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(e)}return a(e,t,r)}function a(e,t,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return e instanceof ArrayBuffer?f(e,t,r):"string"==typeof e?h(e,t):d(e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(0>e)throw new RangeError('"size" argument must not be negative')}function c(e,t,r){return s(e),0>=e?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)}function u(e){return s(e),i(0>e?0:0|p(e))}function h(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var r=0|_(e,t),n=i(r),a=n.write(e,t);return a!==r&&(n=n.slice(0,a)),n}function l(e){for(var t=e.length<0?0:0|p(e.length),r=i(t),n=0;t>n;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(0>t||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(r||0))throw new RangeError("'length' is out of bounds");var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),n.__proto__=o.prototype,n}function d(e){if(o.isBuffer(e)){var t=0|p(e.length),r=i(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(e){if(W(e)||"length"in e)return"number"!=typeof e.length||V(e.length)?i(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=X)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+X.toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),o.alloc(+e)}function _(e,t){if(o.isBuffer(e))return e.length;if(W(e)||e instanceof ArrayBuffer)return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),0>=r)return"";if(r>>>=0,t>>>=0,t>=r)return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return O(this,t,r);case"latin1":case"binary":return j(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;
if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:-2147483648>r&&(r=-2147483648),r=+r,V(r)&&(r=i?0:e.length-1),0>r&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(0>r){if(!i)return-1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t=255&t,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,c=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}var u;if(i){var h=-1;for(u=r;s>u;u++)if(o(e,u)===o(t,-1===h?0:u-h)){if(-1===h&&(h=u),u-h+1===c)return h*a}else-1!==h&&(u-=u-h),h=-1}else for(r+c>s&&(r=s-c),u=r;u>=0;u--){for(var l=!0,f=0;c>f;f++)if(o(e,u+f)!==o(t,f)){l=!1;break}if(l)return u}return-1}function w(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(0!==o%2)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;n>a;++a){var s=parseInt(t.substr(2*a,2),16);if(V(s))return a;e[r+a]=s}return a}function k(e,t,r,n){return G(q(t,e.length-r),e,r,n)}function E(e,t,r,n){return G(F(t),e,r,n)}function x(e,t,r,n){return E(e,t,r,n)}function S(e,t,r,n){return G(Z(t),e,r,n)}function T(e,t,r,n){return G(H(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?Y.fromByteArray(e):Y.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;r>i;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(r>=i+s){var c,u,h,l;switch(s){case 1:128>o&&(a=o);break;case 2:c=e[i+1],128===(192&c)&&(l=(31&o)<<6|63&c,l>127&&(a=l));break;case 3:c=e[i+1],u=e[i+2],128===(192&c)&&128===(192&u)&&(l=(15&o)<<12|(63&c)<<6|63&u,l>2047&&(55296>l||l>57343)&&(a=l));break;case 4:c=e[i+1],u=e[i+2],h=e[i+3],128===(192&c)&&128===(192&u)&&128===(192&h)&&(l=(15&o)<<18|(63&c)<<12|(63&u)<<6|63&h,l>65535&&1114112>l&&(a=l))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(55296|1023&a>>>10),a=56320|1023&a),n.push(a),i+=s}return B(n)}function B(e){var t=e.length;if($>=t)return String.fromCharCode.apply(String,e);for(var r="",n=0;t>n;)r+=String.fromCharCode.apply(String,e.slice(n,n+=$));return r}function O(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;++i)n+=String.fromCharCode(127&e[i]);return n}function j(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;++i)n+=String.fromCharCode(e[i]);return n}function N(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var i="",o=t;r>o;++o)i+=D(e[o]);return i}function R(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function L(e,t,r){if(0!==e%1||0>e)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||a>t)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}function P(e,t,r,n,i){return t=+t,r>>>=0,i||M(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,i){return t=+t,r>>>=0,i||M(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,r,n,52,8),r+8}function z(e){if(e=e.trim().replace(J,""),e.length<2)return"";for(;0!==e.length%4;)e+="=";return e}function D(e){return 16>e?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;n>a;++a){if(r=e.charCodeAt(a),r>55295&&57344>r){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(56320>r){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,128>r){if((t-=1)<0)break;o.push(r)}else if(2048>r){if((t-=2)<0)break;o.push(192|r>>6,128|63&r)}else if(65536>r){if((t-=3)<0)break;o.push(224|r>>12,128|63&r>>6,128|63&r)}else{if(!(1114112>r))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(240|r>>18,128|63&r>>12,128|63&r>>6,128|63&r)}}return o}function F(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function H(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function Z(e){return Y.toByteArray(z(e))}function G(e,t,r,n){for(var i=0;n>i&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function W(e){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(e)}function V(e){return e!==e}var Y=e("base64-js"),K=e("ieee754");r.Buffer=o,r.SlowBuffer=b,r.INSPECT_MAX_BYTES=50;var X=2147483647;r.kMaxLength=X,o.TYPED_ARRAY_SUPPORT=n(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(e,t,r){return a(e,t,r)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(e,t,r){return c(e,t,r)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)},o.isBuffer=function(e){return null!=e&&e._isBuffer===!0},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);a>i;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return n>r?-1:r>n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=o.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},o.byteLength=_,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(0!==e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;e>t;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(0!==e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;e>t;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(0!==e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;e>t;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,r,n,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),0>t||r>e.length||0>n||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var a=i-n,s=r-t,c=Math.min(a,s),u=this.slice(n,i),h=e.slice(t,r),l=0;c>l;++l)if(u[l]!==h[l]){a=u[l],s=h[l];break}return s>a?-1:a>s?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(0>r||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return k(this,e,t,r);case"ascii":return E(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;o.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),e>t&&(t=e);var n=this.subarray(e,t);return n.__proto__=o.prototype,n},o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),K.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),K.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),K.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),K.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;I(this,e,t,r,i,0)}var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=255&e/o;return t+r},o.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;I(this,e,t,r,i,0)}var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=255&e/a;return t+r},o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)0>e&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=255&(e/a>>0)-s;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);I(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)0>e&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=255&(e/a>>0)-s;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,127,-128),0>e&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,r){return P(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return P(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&r>n&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&t>r&&n>t)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(1e3>o)for(i=0;o>i;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);256>i&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e=255&e);if(0>t||this.length<t||this.length<r)throw new RangeError("Out of range index");if(t>=r)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;r>a;++a)this[a]=e;else{var s=o.isBuffer(e)?e:new o(e,n),c=s.length;for(a=0;r-t>a;++a)this[a+t]=s[a%c]}return this};var J=/[^+\/0-9A-Za-z-_]/g},{"base64-js":16,ieee754:86}],22:[function(e,t){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],23:[function(){"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){"use strict";if("Element"in e){var t="classList",r="prototype",n=e.Element[r],i=Object,o=String[r].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[r].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},c=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(e,t)},u=function(e){for(var t=o.call(e.getAttribute("class")||""),r=t?t.split(/\s+/):[],n=0,i=r.length;i>n;n++)this.push(r[n]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},h=u[r]=[],l=function(){return new u(this)};if(s[r]=Error[r],h.item=function(e){return this[e]||null},h.contains=function(e){return e+="",-1!==c(this,e)},h.add=function(){var e,t=arguments,r=0,n=t.length,i=!1;do e=t[r]+"",-1===c(this,e)&&(this.push(e),i=!0);while(++r<n);i&&this._updateClassName()},h.remove=function(){var e,t,r=arguments,n=0,i=r.length,o=!1;do for(e=r[n]+"",t=c(this,e);-1!==t;)this.splice(t,1),o=!0,t=c(this,e);while(++n<i);o&&this._updateClassName()},h.toggle=function(e,t){e+="";var r=this.contains(e),n=r?t!==!0&&"remove":t!==!1&&"add";return n&&this[n](e),t===!0||t===!1?t:!r},h.toString=function(){return this.join(" ")},i.defineProperty){var f={get:l,enumerable:!0,configurable:!0};try{i.defineProperty(n,t,f)}catch(d){(void 0===d.number||-2146823252===d.number)&&(f.enumerable=!1,i.defineProperty(n,t,f))}}else i[r].__defineGetter__&&n.__defineGetter__(t,l)}}(window.self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var r,n=arguments.length;for(r=0;n>r;r++)e=arguments[r],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:r.call(this,e)}}e=null}())},{}],24:[function(e,t){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":29,"../../modules/es6.object.assign":59}],25:[function(e,t){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],26:[function(e,t){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":42}],27:[function(e,t){var r=e("./_to-iobject"),n=e("./_to-length"),i=e("./_to-index");t.exports=function(e){return function(t,o,a){var s,c=r(t),u=n(c.length),h=i(a,u);if(e&&o!=o){for(;u>h;)if(s=c[h++],s!=s)return!0}else for(;u>h;h++)if((e||h in c)&&c[h]===o)return e||h||0;return!e&&-1}}},{"./_to-index":52,"./_to-iobject":54,"./_to-length":55}],28:[function(e,t){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],29:[function(e,t){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},{}],30:[function(e,t){var r=e("./_a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":25}],31:[function(e,t){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],32:[function(e,t){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":36}],33:[function(e,t){var r=e("./_is-object"),n=e("./_global").document,i=r(n)&&r(n.createElement);t.exports=function(e){return i?n.createElement(e):{}}},{"./_global":37,"./_is-object":42}],34:[function(e,t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],35:[function(e,t){var r=e("./_global"),n=e("./_core"),i=e("./_ctx"),o=e("./_hide"),a="prototype",s=function(e,t,c){var u,h,l,f=e&s.F,d=e&s.G,p=e&s.S,b=e&s.P,_=e&s.B,m=e&s.W,y=d?n:n[t]||(n[t]={}),g=y[a],v=d?r:p?r[t]:(r[t]||{})[a];d&&(c=t);for(u in c)h=!f&&v&&void 0!==v[u],h&&u in y||(l=h?v[u]:c[u],y[u]=d&&"function"!=typeof v[u]?c[u]:_&&h?i(l,r):m&&v[u]==l?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[a]=e[a],t}(l):b&&"function"==typeof l?i(Function.call,l):l,b&&((y.virtual||(y.virtual={}))[u]=l,e&s.R&&g&&!g[u]&&o(g,u,l)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},{"./_core":29,"./_ctx":30,"./_global":37,"./_hide":39}],36:[function(e,t){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],37:[function(e,t){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],38:[function(e,t){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],39:[function(e,t){var r=e("./_object-dp"),n=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,i){return r.f(e,t,n(1,i))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":32,"./_object-dp":44,"./_property-desc":49}],40:[function(e,t){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":32,"./_dom-create":33,"./_fails":36}],41:[function(e,t){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":28}],42:[function(e,t){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],43:[function(e,t){"use strict";var r=e("./_object-keys"),n=e("./_object-gops"),i=e("./_object-pie"),o=e("./_to-object"),a=e("./_iobject"),s=Object.assign;t.exports=!s||e("./_fails")(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=s({},e)[r]||Object.keys(s({},t)).join("")!=n})?function(e){for(var t=o(e),s=arguments.length,c=1,u=n.f,h=i.f;s>c;)for(var l,f=a(arguments[c++]),d=u?r(f).concat(u(f)):r(f),p=d.length,b=0;p>b;)h.call(f,l=d[b++])&&(t[l]=f[l]);return t}:s},{"./_fails":36,"./_iobject":41,"./_object-gops":45,"./_object-keys":47,"./_object-pie":48,"./_to-object":56}],44:[function(e,t,r){var n=e("./_an-object"),i=e("./_ie8-dom-define"),o=e("./_to-primitive"),a=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(s){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":26,"./_descriptors":32,"./_ie8-dom-define":40,"./_to-primitive":57}],45:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],46:[function(e,t){var r=e("./_has"),n=e("./_to-iobject"),i=e("./_array-includes")(!1),o=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var a,s=n(e),c=0,u=[];for(a in s)a!=o&&r(s,a)&&u.push(a);for(;t.length>c;)r(s,a=t[c++])&&(~i(u,a)||u.push(a));return u}},{"./_array-includes":27,"./_has":38,"./_shared-key":50,"./_to-iobject":54}],47:[function(e,t){var r=e("./_object-keys-internal"),n=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,n)}},{"./_enum-bug-keys":34,"./_object-keys-internal":46}],48:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],49:[function(e,t){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],50:[function(e,t){var r=e("./_shared")("keys"),n=e("./_uid");t.exports=function(e){return r[e]||(r[e]=n(e))}},{"./_shared":51,"./_uid":58}],51:[function(e,t){var r=e("./_global"),n="__core-js_shared__",i=r[n]||(r[n]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./_global":37}],52:[function(e,t){var r=e("./_to-integer"),n=Math.max,i=Math.min;t.exports=function(e,t){return e=r(e),0>e?n(e+t,0):i(e,t)}},{"./_to-integer":53}],53:[function(e,t){var r=Math.ceil,n=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},{}],54:[function(e,t){var r=e("./_iobject"),n=e("./_defined");t.exports=function(e){return r(n(e))}},{"./_defined":31,"./_iobject":41}],55:[function(e,t){var r=e("./_to-integer"),n=Math.min;t.exports=function(e){return e>0?n(r(e),9007199254740991):0}},{"./_to-integer":53}],56:[function(e,t){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":31}],57:[function(e,t){var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":42}],58:[function(e,t){var r=0,n=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},{}],59:[function(e){var t=e("./_export");t(t.S+t.F,"Object",{assign:e("./_object-assign")})},{"./_export":35,"./_object-assign":43}],60:[function(e,t,r){!function(e){function t(e){return Array.isArray?Array.isArray(e):"[object Array]"===_(e)}function n(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function c(e){return"symbol"==typeof e}function u(e){return void 0===e}function h(e){return"[object RegExp]"===_(e)}function l(e){return"object"==typeof e&&null!==e}function f(e){return"[object Date]"===_(e)}function d(e){return"[object Error]"===_(e)||e instanceof Error}function p(e){return"function"==typeof e}function b(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function _(e){return Object.prototype.toString.call(e)}r.isArray=t,r.isBoolean=n,r.isNull=i,r.isNullOrUndefined=o,r.isNumber=a,r.isString=s,r.isSymbol=c,r.isUndefined=u,r.isRegExp=h,r.isObject=l,r.isDate=f,r.isError=d,r.isFunction=p,r.isPrimitive=b,r.isBuffer=e.isBuffer}.call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":88}],61:[function(e,t){!function(r){"use strict";function n(e,t,n,s){n=a(n||"UTF-8"),t=a(t||"UTF-8"),e=e||"";var u;if("UTF-8"!==n&&"string"==typeof e&&(e=new r(e,"binary")),n===t)u="string"==typeof e?new r(e):e;else if(c&&!s)try{u=i(e,t,n)}catch(h){console.error(h);try{u=o(e,t,n)}catch(h){console.error(h),u=e}}else try{u=o(e,t,n)}catch(h){console.error(h),u=e}return"string"==typeof u&&(u=new r(u,"utf-8")),u}function i(e,t,r){var n,i;return i=new c(r,t+"//TRANSLIT//IGNORE"),n=i.convert(e),n.slice(0,n.length)}function o(e,t,r){return"UTF-8"===t?s.decode(e,r):"UTF-8"===r?s.encode(e,t):s.encode(s.decode(e,r),t)}function a(e){return(e||"").toString().trim().replace(/^latin[\-_]?(\d+)$/i,"ISO-8859-$1").replace(/^win(?:dows)?[\-_]?(\d+)$/i,"WINDOWS-$1").replace(/^utf[\-_]?(\d+)$/i,"UTF-$1").replace(/^ks_c_5601\-1987$/i,"CP949").replace(/^us[\-_]?ascii$/i,"ASCII").toUpperCase()}var s=e("iconv-lite"),c=e("./iconv-loader");t.exports.convert=n}.call(this,e("buffer").Buffer)},{"./iconv-loader":62,buffer:21,"iconv-lite":84}],62:[function(e,t){"use strict";var r,n;try{r="iconv",n=e(r).Iconv}catch(i){}t.exports=n},{}],63:[function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,i,s,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(r=this._events[e],a(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(o(r))for(s=Array.prototype.slice.call(arguments,1),u=r.slice(),i=u.length,c=0;i>c;c++)u[c].apply(this,s);return!0},r.prototype.addListener=function(e,t){var i;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,i,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],a=r.length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(s=a;s-->0;)if(r[s]===t||r[s].listener&&r[s].listener===t){i=s;break}if(0>i)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this
},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],64:[function(e,t){function r(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}var n=e("http"),i=e("url"),o=t.exports;for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);o.request=function(e,t){return e=r(e),n.request.call(this,e,t)},o.get=function(e,t){return e=r(e),n.get.call(this,e,t)}},{http:129,url:135}],65:[function(e,t,r){"use strict";function n(e,t){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var r=e.table();this.decodeTables=[],this.decodeTables[0]=f.slice(0),this.decodeTableSeq=[];for(var n=0;n<r.length;n++)this._addDecodeChunk(r[n]);this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var i={};if(e.encodeSkipVals)for(var n=0;n<e.encodeSkipVals.length;n++){var o=e.encodeSkipVals[n];if("number"==typeof o)i[o]=!0;else for(var a=o.from;a<=o.to;a++)i[a]=!0}if(this._fillEncodeTable(0,0,i),e.encodeAdd)for(var s in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,s)&&this._setEncodeChar(s.charCodeAt(0),e.encodeAdd[s]);if(this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===c&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===c&&(this.defCharSB="?".charCodeAt(0)),"function"==typeof e.gb18030){this.gb18030=e.gb18030();for(var h=this.decodeTables.length,d=this.decodeTables[h]=f.slice(0),p=this.decodeTables.length,b=this.decodeTables[p]=f.slice(0),n=129;254>=n;n++)for(var _=l-this.decodeTables[0][n],m=this.decodeTables[_],a=48;57>=a;a++)m[a]=l-h;for(var n=129;254>=n;n++)d[n]=l-p;for(var n=48;57>=n;n++)b[n]=u}}function i(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function o(e,t){this.nodeIdx=0,this.prevBuf=new s(0),this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function a(e,t){if(e[0]>t)return-1;for(var r=0,n=e.length;n-1>r;){var i=r+Math.floor((n-r+1)/2);e[i]<=t?r=i:n=i}return r}var s=e("buffer").Buffer;r._dbcs=n;for(var c=-1,u=-2,h=-10,l=-1e3,f=new Array(256),d=-1,p=0;256>p;p++)f[p]=c;n.prototype.encoder=i,n.prototype.decoder=o,n.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>=8)t.push(255&e);0==t.length&&t.push(0);for(var r=this.decodeTables[0],n=t.length-1;n>0;n--){var i=r[t[n]];if(i==c)r[t[n]]=l-this.decodeTables.length,this.decodeTables.push(r=f.slice(0));else{if(!(l>=i))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));r=this.decodeTables[l-i]}}return r},n.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),r=this._getDecodeTrieNode(t);t=255&t;for(var n=1;n<e.length;n++){var i=e[n];if("string"==typeof i)for(var o=0;o<i.length;){var a=i.charCodeAt(o++);if(a>=55296&&56320>a){var s=i.charCodeAt(o++);if(!(s>=56320&&57344>s))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);r[t++]=65536+1024*(a-55296)+(s-56320)}else if(a>4080&&4095>=a){for(var c=4095-a+2,u=[],l=0;c>l;l++)u.push(i.charCodeAt(o++));r[t++]=h-this.decodeTableSeq.length,this.decodeTableSeq.push(u)}else r[t++]=a}else{if("number"!=typeof i)throw new Error("Incorrect type '"+typeof i+"' given in "+this.encodingName+" at chunk "+e[0]);for(var f=r[t-1]+1,o=0;i>o;o++)r[t++]=f++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},n.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=f.slice(0)),this.encodeTable[t]},n.prototype._setEncodeChar=function(e,t){var r=this._getEncodeBucket(e),n=255&e;r[n]<=h?this.encodeTableSeq[h-r[n]][d]=t:r[n]==c&&(r[n]=t)},n.prototype._setEncodeSequence=function(e,t){var r,n=e[0],i=this._getEncodeBucket(n),o=255&n;i[o]<=h?r=this.encodeTableSeq[h-i[o]]:(r={},i[o]!==c&&(r[d]=i[o]),i[o]=h-this.encodeTableSeq.length,this.encodeTableSeq.push(r));for(var a=1;a<e.length-1;a++){var s=r[n];"object"==typeof s?r=s:(r=r[n]={},void 0!==s&&(r[d]=s))}n=e[e.length-1],r[n]=t},n.prototype._fillEncodeTable=function(e,t,r){for(var n=this.decodeTables[e],i=0;256>i;i++){var o=n[i],a=t+i;r[a]||(o>=0?this._setEncodeChar(o,a):l>=o?this._fillEncodeTable(l-o,a<<8,r):h>=o&&this._setEncodeSequence(this.decodeTableSeq[h-o],a))}},i.prototype.write=function(e){for(var t=new s(e.length*(this.gb18030?4:3)),r=this.leadSurrogate,n=this.seqObj,i=-1,o=0,u=0;;){if(-1===i){if(o==e.length)break;var l=e.charCodeAt(o++)}else{var l=i;i=-1}if(l>=55296&&57344>l)if(56320>l){if(-1===r){r=l;continue}r=l,l=c}else-1!==r?(l=65536+1024*(r-55296)+(l-56320),r=-1):l=c;else-1!==r&&(i=l,l=c,r=-1);var f=c;if(void 0!==n&&l!=c){var p=n[l];if("object"==typeof p){n=p;continue}"number"==typeof p?f=p:void 0==p&&(p=n[d],void 0!==p&&(f=p,i=l)),n=void 0}else if(l>=0){var b=this.encodeTable[l>>8];if(void 0!==b&&(f=b[255&l]),h>=f){n=this.encodeTableSeq[h-f];continue}if(f==c&&this.gb18030){var _=a(this.gb18030.uChars,l);if(-1!=_){var f=this.gb18030.gbChars[_]+(l-this.gb18030.uChars[_]);t[u++]=129+Math.floor(f/12600),f%=12600,t[u++]=48+Math.floor(f/1260),f%=1260,t[u++]=129+Math.floor(f/10),f%=10,t[u++]=48+f;continue}}}f===c&&(f=this.defaultCharSingleByte),256>f?t[u++]=f:65536>f?(t[u++]=f>>8,t[u++]=255&f):(t[u++]=f>>16,t[u++]=255&f>>8,t[u++]=255&f)}return this.seqObj=n,this.leadSurrogate=r,t.slice(0,u)},i.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=new s(10),t=0;if(this.seqObj){var r=this.seqObj[d];void 0!==r&&(256>r?e[t++]=r:(e[t++]=r>>8,e[t++]=255&r)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},i.prototype.findIdx=a,o.prototype.write=function(e){var t,r=new s(2*e.length),n=this.nodeIdx,i=this.prevBuf,o=this.prevBuf.length,f=-this.prevBuf.length;o>0&&(i=s.concat([i,e.slice(0,10)]));for(var d=0,p=0;d<e.length;d++){var b=d>=0?e[d]:i[d+o],t=this.decodeTables[n][b];if(t>=0);else if(t===c)d=f,t=this.defaultCharUnicode.charCodeAt(0);else if(t===u){var _=f>=0?e.slice(f,d+1):i.slice(f+o,d+1+o),m=12600*(_[0]-129)+1260*(_[1]-48)+10*(_[2]-129)+(_[3]-48),y=a(this.gb18030.gbChars,m);t=this.gb18030.uChars[y]+m-this.gb18030.gbChars[y]}else{if(l>=t){n=l-t;continue}if(!(h>=t))throw new Error("iconv-lite internal error: invalid decoding table value "+t+" at "+n+"/"+b);for(var g=this.decodeTableSeq[h-t],v=0;v<g.length-1;v++)t=g[v],r[p++]=255&t,r[p++]=t>>8;t=g[g.length-1]}if(t>65535){t-=65536;var w=55296+Math.floor(t/1024);r[p++]=255&w,r[p++]=w>>8,t=56320+t%1024}r[p++]=255&t,r[p++]=t>>8,n=0,f=d+1}return this.nodeIdx=n,this.prevBuf=f>=0?e.slice(f):i.slice(f+o),r.slice(0,p).toString("ucs2")},o.prototype.end=function(){for(var e="";this.prevBuf.length>0;){e+=this.defaultCharUnicode;var t=this.prevBuf.slice(1);this.prevBuf=new s(0),this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.nodeIdx=0,e}},{buffer:21}],66:[function(e,t){"use strict";t.exports={shiftjis:{type:"_dbcs",table:function(){return e("./tables/shiftjis.json")},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return e("./tables/eucjp.json")},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return e("./tables/cp936.json")}},gbk:{type:"_dbcs",table:function(){return e("./tables/cp936.json").concat(e("./tables/gbk-added.json"))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return e("./tables/cp936.json").concat(e("./tables/gbk-added.json"))},gb18030:function(){return e("./tables/gb18030-ranges.json")},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return e("./tables/cp949.json")}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return e("./tables/cp950.json")}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return e("./tables/cp950.json").concat(e("./tables/big5-added.json"))},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},{"./tables/big5-added.json":72,"./tables/cp936.json":73,"./tables/cp949.json":74,"./tables/cp950.json":75,"./tables/eucjp.json":76,"./tables/gb18030-ranges.json":77,"./tables/gbk-added.json":78,"./tables/shiftjis.json":79}],67:[function(e,t,r){"use strict";for(var n=[e("./internal"),e("./utf16"),e("./utf7"),e("./sbcs-codec"),e("./sbcs-data"),e("./sbcs-data-generated"),e("./dbcs-codec"),e("./dbcs-data")],i=0;i<n.length;i++){var t=n[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}},{"./dbcs-codec":65,"./dbcs-data":66,"./internal":68,"./sbcs-codec":69,"./sbcs-data":71,"./sbcs-data-generated":70,"./utf16":80,"./utf7":81}],68:[function(e,t){"use strict";function r(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=o:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=a,""!==new c("eda0bdedb2a9","hex").toString()&&(this.decoder=s,this.defaultCharUnicode=t.defaultCharUnicode))}function n(e,t){u.call(this,t.enc)}function i(e,t){this.enc=t.enc}function o(){this.prevStr=""}function a(){}function s(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}var c=e("buffer").Buffer;t.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},iso88591:"binary",base64:{type:"_internal"},hex:{type:"_internal"},_internal:r},r.prototype.encoder=i,r.prototype.decoder=n;var u=e("string_decoder").StringDecoder;u.prototype.end||(u.prototype.end=function(){}),n.prototype=u.prototype,i.prototype.write=function(e){return new c(e,this.enc)},i.prototype.end=function(){},o.prototype.write=function(e){e=this.prevStr+e;var t=e.length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),new c(e,"base64")},o.prototype.end=function(){return new c(this.prevStr,"base64")},a.prototype.write=function(e){for(var t=new c(3*e.length),r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t[r++]=i:2048>i?(t[r++]=192+(i>>>6),t[r++]=128+(63&i)):(t[r++]=224+(i>>>12),t[r++]=128+(63&i>>>6),t[r++]=128+(63&i))}return t.slice(0,r)},a.prototype.end=function(){},s.prototype.write=function(e){for(var t=this.acc,r=this.contBytes,n=this.accBytes,i="",o=0;o<e.length;o++){var a=e[o];128!==(192&a)?(r>0&&(i+=this.defaultCharUnicode,r=0),128>a?i+=String.fromCharCode(a):224>a?(t=31&a,r=1,n=1):240>a?(t=15&a,r=2,n=1):i+=this.defaultCharUnicode):r>0?(t=t<<6|63&a,r--,n++,0===r&&(i+=2===n&&128>t&&t>0?this.defaultCharUnicode:3===n&&2048>t?this.defaultCharUnicode:String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=r,this.accBytes=n,i},s.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},{buffer:21,string_decoder:133}],69:[function(e,t,r){"use strict";function n(e,t){if(!e)throw new Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var r="",n=0;128>n;n++)r+=String.fromCharCode(n);e.chars=r+e.chars}this.decodeBuf=new a(e.chars,"ucs2");var i=new a(65536);i.fill(t.defaultCharSingleByte.charCodeAt(0));for(var n=0;n<e.chars.length;n++)i[e.chars.charCodeAt(n)]=n;this.encodeBuf=i}function i(e,t){this.encodeBuf=t.encodeBuf}function o(e,t){this.decodeBuf=t.decodeBuf}var a=e("buffer").Buffer;r._sbcs=n,n.prototype.encoder=i,n.prototype.decoder=o,i.prototype.write=function(e){for(var t=new a(e.length),r=0;r<e.length;r++)t[r]=this.encodeBuf[e.charCodeAt(r)];return t},i.prototype.end=function(){},o.prototype.write=function(e){for(var t=this.decodeBuf,r=new a(2*e.length),n=0,i=0,o=0;o<e.length;o++)n=2*e[o],i=2*o,r[i]=t[n],r[i+1]=t[n+1];return r.toString("ucs2")},o.prototype.end=function(){}},{buffer:21}],70:[function(e,t){"use strict";t.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b	\n\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:""},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b	\n\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},{}],71:[function(e,t){"use strict";t.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cp28591:"iso88591",28591:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",10000:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},{}],72:[function(e,t){t.exports=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]
},{}],73:[function(e,t){t.exports=[["0","\0",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]},{}],74:[function(e,t){t.exports=[["0","\0",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]
},{}],75:[function(e,t){t.exports=[["0","\0",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]},{}],76:[function(e,t){t.exports=[["0","\0",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]},{}],77:[function(e,t){t.exports={uChars:[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],gbChars:[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3]}
},{}],78:[function(e,t){t.exports=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]},{}],79:[function(e,t){t.exports=[["0","\0",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]},{}],80:[function(e,t,r){"use strict";function n(){}function i(){}function o(){this.overflowByte=-1}function a(e,t){this.iconv=t}function s(e,t){e=e||{},void 0===e.addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function c(e,t){this.decoder=null,this.initialBytes=[],this.initialBytesLen=0,this.options=e||{},this.iconv=t.iconv}function u(e,t){var r=t||"utf-16le";if(e.length>=2)if(254==e[0]&&255==e[1])r="utf-16be";else if(255==e[0]&&254==e[1])r="utf-16le";else{for(var n=0,i=0,o=Math.min(e.length-e.length%2,64),a=0;o>a;a+=2)0===e[a]&&0!==e[a+1]&&i++,0!==e[a]&&0===e[a+1]&&n++;i>n?r="utf-16be":n>i&&(r="utf-16le")}return r}var h=e("buffer").Buffer;r.utf16be=n,n.prototype.encoder=i,n.prototype.decoder=o,n.prototype.bomAware=!0,i.prototype.write=function(e){for(var t=new h(e,"ucs2"),r=0;r<t.length;r+=2){var n=t[r];t[r]=t[r+1],t[r+1]=n}return t},i.prototype.end=function(){},o.prototype.write=function(e){if(0==e.length)return"";var t=new h(e.length+1),r=0,n=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,r=1,n=2);r<e.length-1;r+=2,n+=2)t[n]=e[r+1],t[n+1]=e[r];return this.overflowByte=r==e.length-1?e[e.length-1]:-1,t.slice(0,n).toString("ucs2")},o.prototype.end=function(){},r.utf16=a,a.prototype.encoder=s,a.prototype.decoder=c,s.prototype.write=function(e){return this.encoder.write(e)},s.prototype.end=function(){return this.encoder.end()},c.prototype.write=function(e){if(!this.decoder){if(this.initialBytes.push(e),this.initialBytesLen+=e.length,this.initialBytesLen<16)return"";var e=h.concat(this.initialBytes),t=u(e,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options),this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(e)},c.prototype.end=function(){if(!this.decoder){var e=h.concat(this.initialBytes),t=u(e,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);var r=this.decoder.write(e),n=this.decoder.end();return n?r+n:r}return this.decoder.end()}},{buffer:21}],81:[function(e,t,r){"use strict";function n(e,t){this.iconv=t}function i(e,t){this.iconv=t.iconv}function o(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}function a(e,t){this.iconv=t}function s(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=new u(6),this.base64AccumIdx=0}function c(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}var u=e("buffer").Buffer;r.utf7=n,r.unicode11utf7="utf7",n.prototype.encoder=i,n.prototype.decoder=o,n.prototype.bomAware=!0;var h=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;i.prototype.write=function(e){return new u(e.replace(h,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},i.prototype.end=function(){};for(var l=/[A-Za-z0-9\/+]/,f=[],d=0;256>d;d++)f[d]=l.test(String.fromCharCode(d));var p="+".charCodeAt(0),b="-".charCodeAt(0),_="&".charCodeAt(0);o.prototype.write=function(e){for(var t="",r=0,n=this.inBase64,i=this.base64Accum,o=0;o<e.length;o++)if(n){if(!f[e[o]]){if(o==r&&e[o]==b)t+="+";else{var a=i+e.slice(r,o).toString();t+=this.iconv.decode(new u(a,"base64"),"utf16-be")}e[o]!=b&&o--,r=o+1,n=!1,i=""}}else e[o]==p&&(t+=this.iconv.decode(e.slice(r,o),"ascii"),r=o+1,n=!0);if(n){var a=i+e.slice(r).toString(),s=a.length-a.length%8;i=a.slice(s),a=a.slice(0,s),t+=this.iconv.decode(new u(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=n,this.base64Accum=i,t},o.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(new u(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},r.utf7imap=a,a.prototype.encoder=s,a.prototype.decoder=c,a.prototype.bomAware=!0,s.prototype.write=function(e){for(var t=this.inBase64,r=this.base64Accum,n=this.base64AccumIdx,i=new u(5*e.length+10),o=0,a=0;a<e.length;a++){var s=e.charCodeAt(a);s>=32&&126>=s?(t&&(n>0&&(o+=i.write(r.slice(0,n).toString("base64").replace(/\//g,",").replace(/=+$/,""),o),n=0),i[o++]=b,t=!1),t||(i[o++]=s,s===_&&(i[o++]=b))):(t||(i[o++]=_,t=!0),t&&(r[n++]=s>>8,r[n++]=255&s,n==r.length&&(o+=i.write(r.toString("base64").replace(/\//g,","),o),n=0)))}return this.inBase64=t,this.base64AccumIdx=n,i.slice(0,o)},s.prototype.end=function(){var e=new u(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=b,this.inBase64=!1),e.slice(0,t)};var m=f.slice();m[",".charCodeAt(0)]=!0,c.prototype.write=function(e){for(var t="",r=0,n=this.inBase64,i=this.base64Accum,o=0;o<e.length;o++)if(n){if(!m[e[o]]){if(o==r&&e[o]==b)t+="&";else{var a=i+e.slice(r,o).toString().replace(/,/g,"/");t+=this.iconv.decode(new u(a,"base64"),"utf16-be")}e[o]!=b&&o--,r=o+1,n=!1,i=""}}else e[o]==_&&(t+=this.iconv.decode(e.slice(r,o),"ascii"),r=o+1,n=!0);if(n){var a=i+e.slice(r).toString().replace(/,/g,"/"),s=a.length-a.length%8;i=a.slice(s),a=a.slice(0,s),t+=this.iconv.decode(new u(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=n,this.base64Accum=i,t},c.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(new u(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},{buffer:21}],82:[function(e,t,r){"use strict";function n(e){this.encoder=e,this.addBOM=!0}function i(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}var o="";r.PrependBOM=n,n.prototype.write=function(e){return this.addBOM&&(e=o+e,this.addBOM=!1),this.encoder.write(e)},n.prototype.end=function(){return this.encoder.end()},r.StripBOM=i,i.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t?t:(t[0]===o&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0,t)},i.prototype.end=function(){return this.decoder.end()}},{}],83:[function(e,t){"use strict";var r=e("buffer").Buffer;t.exports=function(t){var n=void 0;t.supportsNodeEncodingsExtension=!(new r(0)instanceof Uint8Array),t.extendNodeEncodings=function(){if(!n){if(n={},!t.supportsNodeEncodingsExtension)return console.error("ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node"),console.error("See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility"),void 0;var i={hex:!0,utf8:!0,"utf-8":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,"ucs-2":!0,utf16le:!0,"utf-16le":!0};r.isNativeEncoding=function(e){return e&&i[e.toLowerCase()]};var o=e("buffer").SlowBuffer;if(n.SlowBufferToString=o.prototype.toString,o.prototype.toString=function(e,i,o){return e=String(e||"utf8").toLowerCase(),r.isNativeEncoding(e)?n.SlowBufferToString.call(this,e,i,o):("undefined"==typeof i&&(i=0),"undefined"==typeof o&&(o=this.length),t.decode(this.slice(i,o),e))},n.SlowBufferWrite=o.prototype.write,o.prototype.write=function(e,i,o,a){if(isFinite(i))isFinite(o)||(a=o,o=void 0);else{var s=a;a=i,i=o,o=s}i=+i||0;var c=this.length-i;if(o?(o=+o,o>c&&(o=c)):o=c,a=String(a||"utf8").toLowerCase(),r.isNativeEncoding(a))return n.SlowBufferWrite.call(this,e,i,o,a);if(e.length>0&&(0>o||0>i))throw new RangeError("attempt to write beyond buffer bounds");var u=t.encode(e,a);return u.length<o&&(o=u.length),u.copy(this,i,0,o),o},n.BufferIsEncoding=r.isEncoding,r.isEncoding=function(e){return r.isNativeEncoding(e)||t.encodingExists(e)},n.BufferByteLength=r.byteLength,r.byteLength=o.byteLength=function(e,i){return i=String(i||"utf8").toLowerCase(),r.isNativeEncoding(i)?n.BufferByteLength.call(this,e,i):t.encode(e,i).length},n.BufferToString=r.prototype.toString,r.prototype.toString=function(e,i,o){return e=String(e||"utf8").toLowerCase(),r.isNativeEncoding(e)?n.BufferToString.call(this,e,i,o):("undefined"==typeof i&&(i=0),"undefined"==typeof o&&(o=this.length),t.decode(this.slice(i,o),e))},n.BufferWrite=r.prototype.write,r.prototype.write=function(e,i,o,a){var s=i,c=o,u=a;if(isFinite(i))isFinite(o)||(a=o,o=void 0);else{var h=a;a=i,i=o,o=h}if(a=String(a||"utf8").toLowerCase(),r.isNativeEncoding(a))return n.BufferWrite.call(this,e,s,c,u);i=+i||0;var l=this.length-i;if(o?(o=+o,o>l&&(o=l)):o=l,e.length>0&&(0>o||0>i))throw new RangeError("attempt to write beyond buffer bounds");var f=t.encode(e,a);return f.length<o&&(o=f.length),f.copy(this,i,0,o),o},t.supportsStreams){var a=e("stream").Readable;n.ReadableSetEncoding=a.prototype.setEncoding,a.prototype.setEncoding=function(e,r){this._readableState.decoder=t.getDecoder(e,r),this._readableState.encoding=e},a.prototype.collect=t._collect}}},t.undoExtendNodeEncodings=function(){if(t.supportsNodeEncodingsExtension){if(!n)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete r.isNativeEncoding;var i=e("buffer").SlowBuffer;if(i.prototype.toString=n.SlowBufferToString,i.prototype.write=n.SlowBufferWrite,r.isEncoding=n.BufferIsEncoding,r.byteLength=n.BufferByteLength,r.prototype.toString=n.BufferToString,r.prototype.write=n.BufferWrite,t.supportsStreams){var o=e("stream").Readable;o.prototype.setEncoding=n.ReadableSetEncoding,delete o.prototype.collect}n=void 0}}}},{buffer:21,stream:128}],84:[function(e,t){!function(r){"use strict";var n=e("buffer").Buffer,i=e("./bom-handling"),o=t.exports;o.encodings=null,o.defaultCharUnicode="",o.defaultCharSingleByte="?",o.encode=function(e,t,r){e=""+(e||"");var i=o.getEncoder(t,r),a=i.write(e),s=i.end();return s&&s.length>0?n.concat([a,s]):a},o.decode=function(e,t,r){"string"==typeof e&&(o.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),o.skipDecodeWarning=!0),e=new n(""+(e||""),"binary"));var i=o.getDecoder(t,r),a=i.write(e),s=i.end();return s?a+s:a},o.encodingExists=function(e){try{return o.getCodec(e),!0}catch(t){return!1}},o.toEncoding=o.encode,o.fromEncoding=o.decode,o._codecDataCache={},o.getCodec=function(t){o.encodings||(o.encodings=e("../encodings"));for(var r=(""+t).toLowerCase().replace(/[^0-9a-z]|:\d{4}$/g,""),n={};;){var i=o._codecDataCache[r];if(i)return i;var a=o.encodings[r];switch(typeof a){case"string":r=a;break;case"object":for(var s in a)n[s]=a[s];n.encodingName||(n.encodingName=r),r=a.type;break;case"function":return n.encodingName||(n.encodingName=r),i=new a(n,o),o._codecDataCache[n.encodingName]=i,i;default:throw new Error("Encoding not recognized: '"+t+"' (searched as: '"+r+"')")}}},o.getEncoder=function(e,t){var r=o.getCodec(e),n=new r.encoder(t,r);return r.bomAware&&t&&t.addBOM&&(n=new i.PrependBOM(n,t)),n},o.getDecoder=function(e,t){var r=o.getCodec(e),n=new r.decoder(t,r);return!r.bomAware||t&&t.stripBOM===!1||(n=new i.StripBOM(n,t)),n};var a="undefined"!=typeof r&&r.versions&&r.versions.node;if(a){var s=a.split(".").map(Number);(s[0]>0||s[1]>=10)&&e("./streams")(o),e("./extend-node")(o)}}.call(this,e("_process"))},{"../encodings":67,"./bom-handling":82,"./extend-node":83,"./streams":85,_process:109,buffer:21}],85:[function(e,t){"use strict";function r(e,t){this.conv=e,t=t||{},t.decodeStrings=!1,o.call(this,t)}function n(e,t){this.conv=e,t=t||{},t.encoding=this.encoding="utf8",o.call(this,t)}var i=e("buffer").Buffer,o=e("stream").Transform;t.exports=function(e){e.encodeStream=function(t,n){return new r(e.getEncoder(t,n),n)},e.decodeStream=function(t,r){return new n(e.getDecoder(t,r),r)},e.supportsStreams=!0,e.IconvLiteEncoderStream=r,e.IconvLiteDecoderStream=n,e._collect=n.prototype.collect},r.prototype=Object.create(o.prototype,{constructor:{value:r}}),r.prototype._transform=function(e,t,r){if("string"!=typeof e)return r(new Error("Iconv encoding stream needs strings as its input."));try{var n=this.conv.write(e);n&&n.length&&this.push(n),r()}catch(i){r(i)}},r.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(r){e(r)}},r.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",function(e){t.push(e)}),this.on("end",function(){e(null,i.concat(t))}),this},n.prototype=Object.create(o.prototype,{constructor:{value:n}}),n.prototype._transform=function(e,t,r){if(!i.isBuffer(e))return r(new Error("Iconv decoding stream needs buffers as its input."));try{var n=this.conv.write(e);n&&n.length&&this.push(n,this.encoding),r()}catch(o){r(o)}},n.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(r){e(r)}},n.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",function(e){t+=e}),this.on("end",function(){e(null,t)}),this}},{buffer:21,stream:128}],86:[function(e,t,r){r.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,u=c>>1,h=-7,l=r?i-1:0,f=r?-1:1,d=e[t+l];for(l+=f,o=d&(1<<-h)-1,d>>=-h,h+=s;h>0;o=256*o+e[t+l],l+=f,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=n;h>0;a=256*a+e[t+l],l+=f,h-=8);if(0===o)o=1-u;else{if(o===c)return a?0/0:1/0*(d?-1:1);a+=Math.pow(2,n),o-=u}return(d?-1:1)*a*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var a,s,c,u=8*o-i-1,h=(1<<u)-1,l=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,b=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(s=isNaN(t)?1:0,a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),t+=a+l>=1?f/c:f*Math.pow(2,1-l),t*c>=2&&(a++,c/=2),a+l>=h?(s=0,a=h):a+l>=1?(s=(t*c-1)*Math.pow(2,i),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+d]=255&a,d+=p,a/=256,u-=8);e[r+d-p]|=128*b}},{}],87:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],88:[function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function n(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}t.exports=function(e){return null!=e&&(r(e)||n(e)||!!e._isBuffer)}},{}],89:[function(e,t){"use strict";var r=t.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe};r.writable=function(e){return r(e)&&e.writable!==!1&&"function"==typeof e._write&&"object"==typeof e._writableState},r.readable=function(e){return r(e)&&e.readable!==!1&&"function"==typeof e._read&&"object"==typeof e._readableState},r.duplex=function(e){return r.writable(e)&&r.readable(e)},r.transform=function(e){return r.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState}},{}],90:[function(e,t){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],91:[function(e,t){!function(r,n){function i(e,t){if(!(this instanceof i))return new i(e,t);if(!i.Promise)throw new Error("native promise missing, set Fetch.Promise to your favorite alternative");h.Promise=i.Promise;var r=this;return new i.Promise(function(h,b){var _=new d(e,t);if(!_.protocol||!_.hostname)throw new Error("only absolute urls are supported");if("http:"!==_.protocol&&"https:"!==_.protocol)throw new Error("only http(s) protocols are supported");var m;m="https:"===_.protocol?s.request:a.request;var y=new f(_.headers);_.compress&&y.set("accept-encoding","gzip,deflate"),y.has("user-agent")||y.set("user-agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),y.has("connection")||_.agent||y.set("connection","close"),y.has("accept")||y.set("accept","*/*"),!y.has("content-type")&&_.body&&"function"==typeof _.body.getBoundary&&y.set("content-type","multipart/form-data; boundary="+_.body.getBoundary()),!y.has("content-length")&&/post|put|patch|delete/i.test(_.method)&&("string"==typeof _.body?y.set("content-length",n.byteLength(_.body)):_.body&&"function"==typeof _.body.getLengthSync?_.body._lengthRetrievers&&0==_.body._lengthRetrievers.length?y.set("content-length",_.body.getLengthSync().toString()):_.body.hasKnownLength&&_.body.hasKnownLength()&&y.set("content-length",_.body.getLengthSync().toString()):(void 0===_.body||null===_.body)&&y.set("content-length","0")),_.headers=y.raw(),_.headers.host&&(_.headers.host=_.headers.host[0]);var g,v=m(_);_.timeout&&v.once("socket",function(){g=setTimeout(function(){v.abort(),b(new p("network timeout at: "+_.url,"request-timeout"))},_.timeout)}),v.on("error",function(e){clearTimeout(g),b(new p("request to "+_.url+" failed, reason: "+e.message,"system",e))}),v.on("response",function(e){if(clearTimeout(g),r.isRedirect(e.statusCode)&&"manual"!==_.redirect)return"error"===_.redirect?(b(new p("redirect mode is set to error: "+_.url,"no-redirect")),void 0):_.counter>=_.follow?(b(new p("maximum redirect reached at: "+_.url,"max-redirect")),void 0):e.headers.location?((303===e.statusCode||(301===e.statusCode||302===e.statusCode)&&"POST"===_.method)&&(_.method="GET",delete _.body,delete _.headers["content-length"]),_.counter++,h(i(o(_.url,e.headers.location),_)),void 0):(b(new p("redirect location header missing at: "+_.url,"invalid-redirect")),void 0);var t=new f(e.headers);"manual"===_.redirect&&t.has("location")&&t.set("location",o(_.url,t.get("location")));var n,a=e.pipe(new u.PassThrough),s={url:_.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:_.size,timeout:_.timeout};if(!_.compress||"HEAD"===_.method||!t.has("content-encoding")||204===e.statusCode||304===e.statusCode)return n=new l(a,s),h(n),void 0;var d=t.get("content-encoding");if("gzip"==d||"x-gzip"==d)return a=a.pipe(c.createGunzip()),n=new l(a,s),h(n),void 0;if("deflate"==d||"x-deflate"==d){var m=e.pipe(new u.PassThrough);return m.once("data",function(e){a=8===(15&e[0])?a.pipe(c.createInflate()):a.pipe(c.createInflateRaw()),n=new l(a,s),h(n)}),void 0}n=new l(a,s),h(n)}),"string"==typeof _.body?(v.write(_.body),v.end()):_.body instanceof n?(v.write(_.body),v.end()):"object"==typeof _.body&&_.body.pipe?_.body.pipe(v):"object"==typeof _.body?(v.write(_.body.toString()),v.end()):v.end()})}e("url").parse;var o=e("url").resolve,a=e("http"),s=e("https"),c=e("zlib"),u=e("stream"),h=e("./lib/body"),l=e("./lib/response"),f=e("./lib/headers"),d=e("./lib/request"),p=e("./lib/fetch-error");t.exports=i,t.exports.default=t.exports,i.prototype.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},i.Promise=r.Promise,i.Response=l,i.Headers=f,i.Request=d}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./lib/body":92,"./lib/fetch-error":93,"./lib/headers":94,"./lib/request":95,"./lib/response":96,buffer:21,http:129,https:64,stream:128,url:135,zlib:19}],92:[function(e,t){!function(r,n){function i(e,t){t=t||{},this.body=e,this.bodyUsed=!1,this.size=t.size||0,this.timeout=t.timeout||0,this._raw=[],this._abort=!1}var o=e("encoding").convert,a=e("is-stream"),s=e("stream").PassThrough,c=e("./fetch-error");t.exports=i,i.prototype.json=function(){var e=this;return this._decode().then(function(t){try{return JSON.parse(t.toString())}catch(r){return i.Promise.reject(new c("invalid json response body at "+e.url+" reason: "+r.message,"invalid-json"))}})},i.prototype.text=function(){return this._decode().then(function(e){return e.toString()})},i.prototype.buffer=function(){return this._decode()},i.prototype._decode=function(){var e=this;return this.bodyUsed?i.Promise.reject(new Error("body used already for: "+this.url)):(this.bodyUsed=!0,this._bytes=0,this._abort=!1,this._raw=[],new i.Promise(function(t,r){var i;return"string"==typeof e.body?(e._bytes=e.body.length,e._raw=[new n(e.body)],t(e._convert())):e.body instanceof n?(e._bytes=e.body.length,e._raw=[e.body],t(e._convert())):(e.timeout&&(i=setTimeout(function(){e._abort=!0,r(new c("response timeout at "+e.url+" over limit: "+e.timeout,"body-timeout"))},e.timeout)),e.body.on("error",function(t){r(new c("invalid response body at: "+e.url+" reason: "+t.message,"system",t))}),e.body.on("data",function(t){if(!e._abort&&null!==t){if(e.size&&e._bytes+t.length>e.size)return e._abort=!0,r(new c("content size at "+e.url+" over limit: "+e.size,"max-size")),void 0;e._bytes+=t.length,e._raw.push(t)}}),e.body.on("end",function(){e._abort||(clearTimeout(i),t(e._convert()))}),void 0)}))},i.prototype._convert=function(e){e=e||"utf-8";var t,r,i=this.headers.get("content-type"),a="utf-8";if(i){if(!/text\/html|text\/plain|\+xml|\/xml/i.test(i))return n.concat(this._raw);t=/charset=([^;]*)/i.exec(i)}if(!t&&this._raw.length>0){for(var s=0;s<this._raw.length&&(r+=this._raw[s].toString(),!(r.length>1024));s++);r=r.substr(0,1024)}return!t&&r&&(t=/<meta.+?charset=(['"])(.+?)\1/i.exec(r)),!t&&r&&(t=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(r),t&&(t=/charset=(.*)/i.exec(t.pop()))),!t&&r&&(t=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(r)),t&&(a=t.pop(),("gb2312"===a||"gbk"===a)&&(a="gb18030")),o(n.concat(this._raw),e,a)},i.prototype._clone=function(e){var t,r,n=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return a(n)&&"function"!=typeof n.getBoundary&&(t=new s,r=new s,n.pipe(t),n.pipe(r),e.body=t,n=r),n},i.Promise=r.Promise}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./fetch-error":93,buffer:21,encoding:61,"is-stream":89,stream:128}],93:[function(e,t){function r(e,t,r){Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=e,this.type=t,r&&(this.code=this.errno=r.code)}t.exports=r,e("util").inherits(r,Error)},{util:139}],94:[function(e,t){function r(e){var t=this;this._headers={},e instanceof r&&(e=e.raw());for(var n in e)e.hasOwnProperty(n)&&("string"==typeof e[n]?this.set(n,e[n]):"number"!=typeof e[n]||isNaN(e[n])?e[n]instanceof Array&&e[n].forEach(function(e){t.append(n,e.toString())}):this.set(n,e[n].toString()))}t.exports=r,r.prototype.get=function(e){var t=this._headers[e.toLowerCase()];
return t?t[0]:null},r.prototype.getAll=function(e){return this.has(e)?this._headers[e.toLowerCase()]:[]},r.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this._headers).forEach(function(r){this._headers[r].forEach(function(n){e.call(t,n,r,this)},this)},this)},r.prototype.set=function(e,t){this._headers[e.toLowerCase()]=[t]},r.prototype.append=function(e,t){return this.has(e)?(this._headers[e.toLowerCase()].push(t),void 0):(this.set(e,t),void 0)},r.prototype.has=function(e){return this._headers.hasOwnProperty(e.toLowerCase())},r.prototype["delete"]=function(e){delete this._headers[e.toLowerCase()]},r.prototype.raw=function(){return this._headers}},{}],95:[function(e,t){function r(e,t){var a,s;e instanceof r?(a=e.url,s=n(a)):(a=e,s=n(a),e={}),t=t||{},this.method=t.method||e.method||"GET",this.redirect=t.redirect||e.redirect||"follow",this.headers=new i(t.headers||e.headers||{}),this.url=a,this.follow=void 0!==t.follow?t.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==t.compress?t.compress:void 0!==e.compress?e.compress:!0,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,o.call(this,t.body||this._clone(e),{timeout:t.timeout||e.timeout||0,size:t.size||e.size||0}),this.protocol=s.protocol,this.hostname=s.hostname,this.port=s.port,this.path=s.path,this.auth=s.auth}var n=e("url").parse,i=e("./headers"),o=e("./body");t.exports=r,r.prototype=Object.create(o.prototype),r.prototype.clone=function(){return new r(this)}},{"./body":92,"./headers":94,url:135}],96:[function(e,t){function r(e,t){t=t||{},this.url=t.url,this.status=t.status||200,this.statusText=t.statusText||n.STATUS_CODES[this.status],this.headers=new i(t.headers),this.ok=this.status>=200&&this.status<300,o.call(this,e,t)}var n=e("http"),i=e("./headers"),o=e("./body");t.exports=r,r.prototype=Object.create(o.prototype),r.prototype.clone=function(){return new r(this._clone(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok})}},{"./body":92,"./headers":94,http:129}],97:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)return e.set(t.subarray(r,r+n),i),void 0;for(var o=0;n>o;o++)e[i+o]=t[r+o]},flattenChunks:function(e){var t,r,n,i,o,a;for(n=0,t=0,r=e.length;r>t;t++)n+=e[t].length;for(a=new Uint8Array(n),i=0,t=0,r=e.length;r>t;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,r,n,i){for(var o=0;n>o;o++)e[i+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(n)},{}],98:[function(e,t){"use strict";function r(e,t,r,n){for(var i=0|65535&e,o=0|65535&e>>>16,a=0;0!==r;){a=r>2e3?2e3:r,r-=a;do i=0|i+t[n++],o=0|o+i;while(--a);i%=65521,o%=65521}return 0|(i|o<<16)}t.exports=r},{}],99:[function(e,t){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],100:[function(e,t){"use strict";function r(){for(var e,t=[],r=0;256>r;r++){e=r;for(var n=0;8>n;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}function n(e,t,r,n){var o=i,a=n+r;e^=-1;for(var s=n;a>s;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}var i=r();t.exports=n},{}],101:[function(e,t,r){"use strict";function n(e,t){return e.msg=L[t],t}function i(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(O.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function s(e,t){j._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function c(e,t){e.pending_buf[e.pending++]=t}function u(e,t){e.pending_buf[e.pending++]=255&t>>>8,e.pending_buf[e.pending++]=255&t}function h(e,t,r,n){var i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,O.arraySet(t,e.input,e.next_in,i,r),1===e.state.wrap?e.adler=N(e.adler,t,i,r):2===e.state.wrap&&(e.adler=R(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function l(e,t){var r,n,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-lt?e.strstart-(e.w_size-lt):0,u=e.window,h=e.w_mask,l=e.prev,f=e.strstart+ht,d=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do if(r=t,u[r+a]===p&&u[r+a-1]===d&&u[r]===u[o]&&u[++r]===u[o+1]){o+=2,r++;do;while(u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&f>o);if(n=ht-(f-o),o=f-ht,n>a){if(e.match_start=t,a=n,n>=s)break;d=u[o+a-1],p=u[o+a]}}while((t=l[t&h])>c&&0!==--i);return a<=e.lookahead?a:e.lookahead}function f(e){var t,r,n,i,o,a=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-lt)){O.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,r=e.hash_size,t=r;do n=e.head[--t],e.head[t]=n>=a?n-a:0;while(--r);r=a,t=r;do n=e.prev[--t],e.prev[t]=n>=a?n-a:0;while(--r);i+=a}if(0===e.strm.avail_in)break;if(r=h(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=r,e.lookahead+e.insert>=ut)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+ut-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<ut)););}while(e.lookahead<lt&&0!==e.strm.avail_in)}function d(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(f(e),0===e.lookahead&&t===I)return vt;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,s(e,!1),0===e.strm.avail_out))return vt;if(e.strstart-e.block_start>=e.w_size-lt&&(s(e,!1),0===e.strm.avail_out))return vt}return e.insert=0,t===U?(s(e,!0),0===e.strm.avail_out?kt:Et):e.strstart>e.block_start&&(s(e,!1),0===e.strm.avail_out)?vt:vt}function p(e,t){for(var r,n;;){if(e.lookahead<lt){if(f(e),e.lookahead<lt&&t===I)return vt;if(0===e.lookahead)break}if(r=0,e.lookahead>=ut&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ut-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-lt&&(e.match_length=l(e,r)),e.match_length>=ut)if(n=j._tr_tally(e,e.strstart-e.match_start,e.match_length-ut),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ut){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ut-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=j._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(s(e,!1),0===e.strm.avail_out))return vt}return e.insert=e.strstart<ut-1?e.strstart:ut-1,t===U?(s(e,!0),0===e.strm.avail_out?kt:Et):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?vt:wt}function b(e,t){for(var r,n,i;;){if(e.lookahead<lt){if(f(e),e.lookahead<lt&&t===I)return vt;if(0===e.lookahead)break}if(r=0,e.lookahead>=ut&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ut-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ut-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-lt&&(e.match_length=l(e,r),e.match_length<=5&&(e.strategy===W||e.match_length===ut&&e.strstart-e.match_start>4096)&&(e.match_length=ut-1)),e.prev_length>=ut&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-ut,n=j._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ut),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ut-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=ut-1,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return vt}else if(e.match_available){if(n=j._tr_tally(e,0,e.window[e.strstart-1]),n&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return vt}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=j._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ut-1?e.strstart:ut-1,t===U?(s(e,!0),0===e.strm.avail_out?kt:Et):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?vt:wt}function _(e,t){for(var r,n,i,o,a=e.window;;){if(e.lookahead<=ht){if(f(e),e.lookahead<=ht&&t===I)return vt;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ut&&e.strstart>0&&(i=e.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=e.strstart+ht;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&o>i);e.match_length=ht-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ut?(r=j._tr_tally(e,1,e.match_length-ut),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=j._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(s(e,!1),0===e.strm.avail_out))return vt}return e.insert=0,t===U?(s(e,!0),0===e.strm.avail_out?kt:Et):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?vt:wt}function m(e,t){for(var r;;){if(0===e.lookahead&&(f(e),0===e.lookahead)){if(t===I)return vt;break}if(e.match_length=0,r=j._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(s(e,!1),0===e.strm.avail_out))return vt}return e.insert=0,t===U?(s(e,!0),0===e.strm.avail_out?kt:Et):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?vt:wt}function y(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function g(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=B[e.level].max_lazy,e.good_match=B[e.level].good_length,e.nice_match=B[e.level].nice_length,e.max_chain_length=B[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ut-1,e.match_available=0,e.ins_h=0}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=J,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new O.Buf16(2*st),this.dyn_dtree=new O.Buf16(2*(2*ot+1)),this.bl_tree=new O.Buf16(2*(2*at+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new O.Buf16(ct+1),this.heap=new O.Buf16(2*it+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new O.Buf16(2*it+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=$,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?dt:yt,e.adler=2===t.wrap?0:1,t.last_flush=I,j._tr_init(t),D):n(e,F)}function k(e){var t=w(e);return t===D&&g(e.state),t}function E(e,t){return e&&e.state?2!==e.state.wrap?F:(e.state.gzhead=t,D):F}function x(e,t,r,i,o,a){if(!e)return F;var s=1;if(t===G&&(t=6),0>i?(s=0,i=-i):i>15&&(s=2,i-=16),1>o||o>Q||r!==J||8>i||i>15||0>t||t>9||0>a||a>K)return n(e,F);8===i&&(i=9);var c=new v;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+ut-1)/ut),c.window=new O.Buf8(2*c.w_size),c.head=new O.Buf16(c.hash_size),c.prev=new O.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new O.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=r,k(e)}function S(e,t){return x(e,t,J,et,tt,X)}function T(e,t){var r,s,h,l;if(!e||!e.state||t>z||0>t)return e?n(e,F):F;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===gt&&t!==U)return n(e,0===e.avail_out?Z:F);if(s.strm=e,r=s.last_flush,s.last_flush=t,s.status===dt)if(2===s.wrap)e.adler=0,c(s,31),c(s,139),c(s,8),s.gzhead?(c(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),c(s,255&s.gzhead.time),c(s,255&s.gzhead.time>>8),c(s,255&s.gzhead.time>>16),c(s,255&s.gzhead.time>>24),c(s,9===s.level?2:s.strategy>=V||s.level<2?4:0),c(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(c(s,255&s.gzhead.extra.length),c(s,255&s.gzhead.extra.length>>8)),s.gzhead.hcrc&&(e.adler=R(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=pt):(c(s,0),c(s,0),c(s,0),c(s,0),c(s,0),c(s,9===s.level?2:s.strategy>=V||s.level<2?4:0),c(s,xt),s.status=yt);else{var f=J+(s.w_bits-8<<4)<<8,d=-1;d=s.strategy>=V||s.level<2?0:s.level<6?1:6===s.level?2:3,f|=d<<6,0!==s.strstart&&(f|=ft),f+=31-f%31,s.status=yt,u(s,f),0!==s.strstart&&(u(s,e.adler>>>16),u(s,65535&e.adler)),e.adler=1}if(s.status===pt)if(s.gzhead.extra){for(h=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>h&&(e.adler=R(e.adler,s.pending_buf,s.pending-h,h)),a(e),h=s.pending,s.pending!==s.pending_buf_size));)c(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>h&&(e.adler=R(e.adler,s.pending_buf,s.pending-h,h)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=bt)}else s.status=bt;if(s.status===bt)if(s.gzhead.name){h=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>h&&(e.adler=R(e.adler,s.pending_buf,s.pending-h,h)),a(e),h=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,c(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>h&&(e.adler=R(e.adler,s.pending_buf,s.pending-h,h)),0===l&&(s.gzindex=0,s.status=_t)}else s.status=_t;if(s.status===_t)if(s.gzhead.comment){h=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>h&&(e.adler=R(e.adler,s.pending_buf,s.pending-h,h)),a(e),h=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,c(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>h&&(e.adler=R(e.adler,s.pending_buf,s.pending-h,h)),0===l&&(s.status=mt)}else s.status=mt;if(s.status===mt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(e),s.pending+2<=s.pending_buf_size&&(c(s,255&e.adler),c(s,255&e.adler>>8),e.adler=0,s.status=yt)):s.status=yt),0!==s.pending){if(a(e),0===e.avail_out)return s.last_flush=-1,D}else if(0===e.avail_in&&i(t)<=i(r)&&t!==U)return n(e,Z);if(s.status===gt&&0!==e.avail_in)return n(e,Z);if(0!==e.avail_in||0!==s.lookahead||t!==I&&s.status!==gt){var p=s.strategy===V?m(s,t):s.strategy===Y?_(s,t):B[s.level].func(s,t);if((p===kt||p===Et)&&(s.status=gt),p===vt||p===kt)return 0===e.avail_out&&(s.last_flush=-1),D;if(p===wt&&(t===M?j._tr_align(s):t!==z&&(j._tr_stored_block(s,0,0,!1),t===P&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(e),0===e.avail_out))return s.last_flush=-1,D}return t!==U?D:s.wrap<=0?q:(2===s.wrap?(c(s,255&e.adler),c(s,255&e.adler>>8),c(s,255&e.adler>>16),c(s,255&e.adler>>24),c(s,255&e.total_in),c(s,255&e.total_in>>8),c(s,255&e.total_in>>16),c(s,255&e.total_in>>24)):(u(s,e.adler>>>16),u(s,65535&e.adler)),a(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?D:q)}function A(e){var t;return e&&e.state?(t=e.state.status,t!==dt&&t!==pt&&t!==bt&&t!==_t&&t!==mt&&t!==yt&&t!==gt?n(e,F):(e.state=null,t===yt?n(e,H):D)):F}function C(e,t){var r,n,i,a,s,c,u,h,l=t.length;if(!e||!e.state)return F;if(r=e.state,a=r.wrap,2===a||1===a&&r.status!==dt||r.lookahead)return F;for(1===a&&(e.adler=N(e.adler,t,l,0)),r.wrap=0,l>=r.w_size&&(0===a&&(o(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new O.Buf8(r.w_size),O.arraySet(h,t,l-r.w_size,r.w_size,0),t=h,l=r.w_size),s=e.avail_in,c=e.next_in,u=e.input,e.avail_in=l,e.next_in=0,e.input=t,f(r);r.lookahead>=ut;){n=r.strstart,i=r.lookahead-(ut-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+ut-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++;while(--i);r.strstart=n,r.lookahead=ut-1,f(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=ut-1,r.match_available=0,e.next_in=c,e.input=u,e.avail_in=s,r.wrap=a,D}var B,O=e("../utils/common"),j=e("./trees"),N=e("./adler32"),R=e("./crc32"),L=e("./messages"),I=0,M=1,P=3,U=4,z=5,D=0,q=1,F=-2,H=-3,Z=-5,G=-1,W=1,V=2,Y=3,K=4,X=0,$=2,J=8,Q=9,et=15,tt=8,rt=29,nt=256,it=nt+1+rt,ot=30,at=19,st=2*it+1,ct=15,ut=3,ht=258,lt=ht+ut+1,ft=32,dt=42,pt=69,bt=73,_t=91,mt=103,yt=113,gt=666,vt=1,wt=2,kt=3,Et=4,xt=3;B=[new y(0,0,0,0,d),new y(4,4,8,4,p),new y(4,5,16,8,p),new y(4,6,32,32,p),new y(4,4,16,16,b),new y(8,16,32,32,b),new y(8,16,128,128,b),new y(8,32,128,256,b),new y(32,128,258,1024,b),new y(32,258,258,4096,b)],r.deflateInit=S,r.deflateInit2=x,r.deflateReset=k,r.deflateResetKeep=w,r.deflateSetHeader=E,r.deflate=T,r.deflateEnd=A,r.deflateSetDictionary=C,r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":97,"./adler32":98,"./crc32":100,"./messages":105,"./trees":106}],102:[function(e,t){"use strict";var r=30,n=12;t.exports=function(e,t){var i,o,a,s,c,u,h,l,f,d,p,b,_,m,y,g,v,w,k,E,x,S,T,A,C;i=e.state,o=e.next_in,A=e.input,a=o+(e.avail_in-5),s=e.next_out,C=e.output,c=s-(t-e.avail_out),u=s+(e.avail_out-257),h=i.dmax,l=i.wsize,f=i.whave,d=i.wnext,p=i.window,b=i.hold,_=i.bits,m=i.lencode,y=i.distcode,g=(1<<i.lenbits)-1,v=(1<<i.distbits)-1;e:do{15>_&&(b+=A[o++]<<_,_+=8,b+=A[o++]<<_,_+=8),w=m[b&g];t:for(;;){if(k=w>>>24,b>>>=k,_-=k,k=255&w>>>16,0===k)C[s++]=65535&w;else{if(!(16&k)){if(0===(64&k)){w=m[(65535&w)+(b&(1<<k)-1)];continue t}if(32&k){i.mode=n;break e}e.msg="invalid literal/length code",i.mode=r;break e}E=65535&w,k&=15,k&&(k>_&&(b+=A[o++]<<_,_+=8),E+=b&(1<<k)-1,b>>>=k,_-=k),15>_&&(b+=A[o++]<<_,_+=8,b+=A[o++]<<_,_+=8),w=y[b&v];r:for(;;){if(k=w>>>24,b>>>=k,_-=k,k=255&w>>>16,!(16&k)){if(0===(64&k)){w=y[(65535&w)+(b&(1<<k)-1)];continue r}e.msg="invalid distance code",i.mode=r;break e}if(x=65535&w,k&=15,k>_&&(b+=A[o++]<<_,_+=8,k>_&&(b+=A[o++]<<_,_+=8)),x+=b&(1<<k)-1,x>h){e.msg="invalid distance too far back",i.mode=r;break e}if(b>>>=k,_-=k,k=s-c,x>k){if(k=x-k,k>f&&i.sane){e.msg="invalid distance too far back",i.mode=r;break e}if(S=0,T=p,0===d){if(S+=l-k,E>k){E-=k;do C[s++]=p[S++];while(--k);S=s-x,T=C}}else if(k>d){if(S+=l+d-k,k-=d,E>k){E-=k;do C[s++]=p[S++];while(--k);if(S=0,E>d){k=d,E-=k;do C[s++]=p[S++];while(--k);S=s-x,T=C}}}else if(S+=d-k,E>k){E-=k;do C[s++]=p[S++];while(--k);S=s-x,T=C}for(;E>2;)C[s++]=T[S++],C[s++]=T[S++],C[s++]=T[S++],E-=3;E&&(C[s++]=T[S++],E>1&&(C[s++]=T[S++]))}else{S=s-x;do C[s++]=C[S++],C[s++]=C[S++],C[s++]=C[S++],E-=3;while(E>2);E&&(C[s++]=C[S++],E>1&&(C[s++]=C[S++]))}break}}break}}while(a>o&&u>s);E=_>>3,o-=E,_-=E<<3,b&=(1<<_)-1,e.next_in=o,e.next_out=s,e.avail_in=a>o?5+(a-o):5-(o-a),e.avail_out=u>s?257+(u-s):257-(s-u),i.hold=b,i.bits=_}},{}],103:[function(e,t,r){"use strict";function n(e){return(255&e>>>24)+(65280&e>>>8)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=P,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new y.Buf32(bt),t.distcode=t.distdyn=new y.Buf32(_t),t.sane=1,t.back=-1,B):N}function a(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,o(e)):N}function s(e,t){var r,n;return e&&e.state?(n=e.state,0>t?(r=0,t=-t):(r=(t>>4)+1,48>t&&(t&=15)),t&&(8>t||t>15)?N:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,a(e))):N}function c(e,t){var r,n;return e?(n=new i,e.state=n,n.window=null,r=s(e,t),r!==B&&(e.state=null),r):N}function u(e){return c(e,yt)}function h(e){if(gt){var t;for(_=new y.Buf32(512),m=new y.Buf32(32),t=0;144>t;)e.lens[t++]=8;for(;256>t;)e.lens[t++]=9;for(;280>t;)e.lens[t++]=7;for(;288>t;)e.lens[t++]=8;for(k(x,e.lens,0,288,_,0,e.work,{bits:9}),t=0;32>t;)e.lens[t++]=5;k(S,e.lens,0,32,m,0,e.work,{bits:5}),gt=!1}e.lencode=_,e.lenbits=9,e.distcode=m,e.distbits=5}function l(e,t,r,n){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new y.Buf8(o.wsize)),n>=o.wsize?(y.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),y.arraySet(o.window,t,r-n,i,o.wnext),n-=i,n?(y.arraySet(o.window,t,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function f(e,t){var r,i,o,a,s,c,u,f,d,p,b,_,m,bt,_t,mt,yt,gt,vt,wt,kt,Et,xt,St,Tt=0,At=new y.Buf8(4),Ct=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return N;r=e.state,r.mode===Y&&(r.mode=K),s=e.next_out,o=e.output,u=e.avail_out,a=e.next_in,i=e.input,c=e.avail_in,f=r.hold,d=r.bits,p=c,b=u,Et=B;e:for(;;)switch(r.mode){case P:if(0===r.wrap){r.mode=K;break}for(;16>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}if(2&r.wrap&&35615===f){r.check=0,At[0]=255&f,At[1]=255&f>>>8,r.check=v(r.check,At,2,0),f=0,d=0,r.mode=U;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=ft;break}if((15&f)!==M){e.msg="unknown compression method",r.mode=ft;break}if(f>>>=4,d-=4,kt=(15&f)+8,0===r.wbits)r.wbits=kt;else if(kt>r.wbits){e.msg="invalid window size",r.mode=ft;break}r.dmax=1<<kt,e.adler=r.check=1,r.mode=512&f?W:Y,f=0,d=0;break;case U:for(;16>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}if(r.flags=f,(255&r.flags)!==M){e.msg="unknown compression method",r.mode=ft;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=ft;break}r.head&&(r.head.text=1&f>>8),512&r.flags&&(At[0]=255&f,At[1]=255&f>>>8,r.check=v(r.check,At,2,0)),f=0,d=0,r.mode=z;case z:for(;32>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}r.head&&(r.head.time=f),512&r.flags&&(At[0]=255&f,At[1]=255&f>>>8,At[2]=255&f>>>16,At[3]=255&f>>>24,r.check=v(r.check,At,4,0)),f=0,d=0,r.mode=D;case D:for(;16>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}r.head&&(r.head.xflags=255&f,r.head.os=f>>8),512&r.flags&&(At[0]=255&f,At[1]=255&f>>>8,r.check=v(r.check,At,2,0)),f=0,d=0,r.mode=q;case q:if(1024&r.flags){for(;16>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}r.length=f,r.head&&(r.head.extra_len=f),512&r.flags&&(At[0]=255&f,At[1]=255&f>>>8,r.check=v(r.check,At,2,0)),f=0,d=0}else r.head&&(r.head.extra=null);r.mode=F;case F:if(1024&r.flags&&(_=r.length,_>c&&(_=c),_&&(r.head&&(kt=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),y.arraySet(r.head.extra,i,a,_,kt)),512&r.flags&&(r.check=v(r.check,i,_,a)),c-=_,a+=_,r.length-=_),r.length))break e;r.length=0,r.mode=H;case H:if(2048&r.flags){if(0===c)break e;_=0;do kt=i[a+_++],r.head&&kt&&r.length<65536&&(r.head.name+=String.fromCharCode(kt));while(kt&&c>_);if(512&r.flags&&(r.check=v(r.check,i,_,a)),c-=_,a+=_,kt)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Z;case Z:if(4096&r.flags){if(0===c)break e;_=0;do kt=i[a+_++],r.head&&kt&&r.length<65536&&(r.head.comment+=String.fromCharCode(kt));while(kt&&c>_);if(512&r.flags&&(r.check=v(r.check,i,_,a)),c-=_,a+=_,kt)break e}else r.head&&(r.head.comment=null);r.mode=G;case G:if(512&r.flags){for(;16>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}if(f!==(65535&r.check)){e.msg="header crc mismatch",r.mode=ft;break}f=0,d=0}r.head&&(r.head.hcrc=1&r.flags>>9,r.head.done=!0),e.adler=r.check=0,r.mode=Y;break;case W:for(;32>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}e.adler=r.check=n(f),f=0,d=0,r.mode=V;case V:if(0===r.havedict)return e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=c,r.hold=f,r.bits=d,j;e.adler=r.check=1,r.mode=Y;case Y:if(t===A||t===C)break e;case K:if(r.last){f>>>=7&d,d-=7&d,r.mode=ut;break}for(;3>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}switch(r.last=1&f,f>>>=1,d-=1,3&f){case 0:r.mode=X;break;case 1:if(h(r),r.mode=rt,t===C){f>>>=2,d-=2;break e}break;case 2:r.mode=Q;break;case 3:e.msg="invalid block type",r.mode=ft}f>>>=2,d-=2;break;case X:for(f>>>=7&d,d-=7&d;32>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}if((65535&f)!==(65535^f>>>16)){e.msg="invalid stored block lengths",r.mode=ft;break}if(r.length=65535&f,f=0,d=0,r.mode=$,t===C)break e;case $:r.mode=J;case J:if(_=r.length){if(_>c&&(_=c),_>u&&(_=u),0===_)break e;y.arraySet(o,i,a,_,s),c-=_,a+=_,u-=_,s+=_,r.length-=_;break}r.mode=Y;break;case Q:for(;14>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}if(r.nlen=(31&f)+257,f>>>=5,d-=5,r.ndist=(31&f)+1,f>>>=5,d-=5,r.ncode=(15&f)+4,f>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=ft;break}r.have=0,r.mode=et;case et:for(;r.have<r.ncode;){for(;3>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}r.lens[Ct[r.have++]]=7&f,f>>>=3,d-=3}for(;r.have<19;)r.lens[Ct[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,xt={bits:r.lenbits},Et=k(E,r.lens,0,19,r.lencode,0,r.work,xt),r.lenbits=xt.bits,Et){e.msg="invalid code lengths set",r.mode=ft;break}r.have=0,r.mode=tt;case tt:for(;r.have<r.nlen+r.ndist;){for(;Tt=r.lencode[f&(1<<r.lenbits)-1],_t=Tt>>>24,mt=255&Tt>>>16,yt=65535&Tt,!(d>=_t);){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}if(16>yt)f>>>=_t,d-=_t,r.lens[r.have++]=yt;else{if(16===yt){for(St=_t+2;St>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}if(f>>>=_t,d-=_t,0===r.have){e.msg="invalid bit length repeat",r.mode=ft;break}kt=r.lens[r.have-1],_=3+(3&f),f>>>=2,d-=2}else if(17===yt){for(St=_t+3;St>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}f>>>=_t,d-=_t,kt=0,_=3+(7&f),f>>>=3,d-=3}else{for(St=_t+7;St>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}f>>>=_t,d-=_t,kt=0,_=11+(127&f),f>>>=7,d-=7}if(r.have+_>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=ft;break}for(;_--;)r.lens[r.have++]=kt}}if(r.mode===ft)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=ft;break}if(r.lenbits=9,xt={bits:r.lenbits},Et=k(x,r.lens,0,r.nlen,r.lencode,0,r.work,xt),r.lenbits=xt.bits,Et){e.msg="invalid literal/lengths set",r.mode=ft;break}if(r.distbits=6,r.distcode=r.distdyn,xt={bits:r.distbits},Et=k(S,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,xt),r.distbits=xt.bits,Et){e.msg="invalid distances set",r.mode=ft;break}if(r.mode=rt,t===C)break e;case rt:r.mode=nt;case nt:if(c>=6&&u>=258){e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=c,r.hold=f,r.bits=d,w(e,b),s=e.next_out,o=e.output,u=e.avail_out,a=e.next_in,i=e.input,c=e.avail_in,f=r.hold,d=r.bits,r.mode===Y&&(r.back=-1);break}for(r.back=0;Tt=r.lencode[f&(1<<r.lenbits)-1],_t=Tt>>>24,mt=255&Tt>>>16,yt=65535&Tt,!(d>=_t);){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}if(mt&&0===(240&mt)){for(gt=_t,vt=mt,wt=yt;Tt=r.lencode[wt+((f&(1<<gt+vt)-1)>>gt)],_t=Tt>>>24,mt=255&Tt>>>16,yt=65535&Tt,!(d>=gt+_t);){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}f>>>=gt,d-=gt,r.back+=gt}if(f>>>=_t,d-=_t,r.back+=_t,r.length=yt,0===mt){r.mode=ct;break}if(32&mt){r.back=-1,r.mode=Y;break}if(64&mt){e.msg="invalid literal/length code",r.mode=ft;break}r.extra=15&mt,r.mode=it;case it:if(r.extra){for(St=r.extra;St>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=ot;case ot:for(;Tt=r.distcode[f&(1<<r.distbits)-1],_t=Tt>>>24,mt=255&Tt>>>16,yt=65535&Tt,!(d>=_t);){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}if(0===(240&mt)){for(gt=_t,vt=mt,wt=yt;Tt=r.distcode[wt+((f&(1<<gt+vt)-1)>>gt)],_t=Tt>>>24,mt=255&Tt>>>16,yt=65535&Tt,!(d>=gt+_t);){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}f>>>=gt,d-=gt,r.back+=gt}if(f>>>=_t,d-=_t,r.back+=_t,64&mt){e.msg="invalid distance code",r.mode=ft;break}r.offset=yt,r.extra=15&mt,r.mode=at;case at:if(r.extra){for(St=r.extra;St>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=ft;break}r.mode=st;case st:if(0===u)break e;if(_=b-u,r.offset>_){if(_=r.offset-_,_>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=ft;break}_>r.wnext?(_-=r.wnext,m=r.wsize-_):m=r.wnext-_,_>r.length&&(_=r.length),bt=r.window}else bt=o,m=s-r.offset,_=r.length;_>u&&(_=u),u-=_,r.length-=_;do o[s++]=bt[m++];while(--_);0===r.length&&(r.mode=nt);break;case ct:if(0===u)break e;o[s++]=r.length,u--,r.mode=nt;break;case ut:if(r.wrap){for(;32>d;){if(0===c)break e;c--,f|=i[a++]<<d,d+=8}if(b-=u,e.total_out+=b,r.total+=b,b&&(e.adler=r.check=r.flags?v(r.check,o,b,s-b):g(r.check,o,b,s-b)),b=u,(r.flags?f:n(f))!==r.check){e.msg="incorrect data check",r.mode=ft;break}f=0,d=0}r.mode=ht;case ht:if(r.wrap&&r.flags){for(;32>d;){if(0===c)break e;c--,f+=i[a++]<<d,d+=8}if(f!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=ft;break}f=0,d=0}r.mode=lt;case lt:Et=O;break e;case ft:Et=R;break e;case dt:return L;case pt:default:return N}return e.next_out=s,e.avail_out=u,e.next_in=a,e.avail_in=c,r.hold=f,r.bits=d,(r.wsize||b!==e.avail_out&&r.mode<ft&&(r.mode<ut||t!==T))&&l(e,e.output,e.next_out,b-e.avail_out)?(r.mode=dt,L):(p-=e.avail_in,b-=e.avail_out,e.total_in+=p,e.total_out+=b,r.total+=b,r.wrap&&b&&(e.adler=r.check=r.flags?v(r.check,o,b,e.next_out-b):g(r.check,o,b,e.next_out-b)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Y?128:0)+(r.mode===rt||r.mode===$?256:0),(0===p&&0===b||t===T)&&Et===B&&(Et=I),Et)}function d(e){if(!e||!e.state)return N;var t=e.state;return t.window&&(t.window=null),e.state=null,B}function p(e,t){var r;return e&&e.state?(r=e.state,0===(2&r.wrap)?N:(r.head=t,t.done=!1,B)):N}function b(e,t){var r,n,i,o=t.length;return e&&e.state?(r=e.state,0!==r.wrap&&r.mode!==V?N:r.mode===V&&(n=1,n=g(n,t,o,0),n!==r.check)?R:(i=l(e,t,o,o))?(r.mode=dt,L):(r.havedict=1,B)):N}var _,m,y=e("../utils/common"),g=e("./adler32"),v=e("./crc32"),w=e("./inffast"),k=e("./inftrees"),E=0,x=1,S=2,T=4,A=5,C=6,B=0,O=1,j=2,N=-2,R=-3,L=-4,I=-5,M=8,P=1,U=2,z=3,D=4,q=5,F=6,H=7,Z=8,G=9,W=10,V=11,Y=12,K=13,X=14,$=15,J=16,Q=17,et=18,tt=19,rt=20,nt=21,it=22,ot=23,at=24,st=25,ct=26,ut=27,ht=28,lt=29,ft=30,dt=31,pt=32,bt=852,_t=592,mt=15,yt=mt,gt=!0;r.inflateReset=a,r.inflateReset2=s,r.inflateResetKeep=o,r.inflateInit=u,r.inflateInit2=c,r.inflate=f,r.inflateEnd=d,r.inflateGetHeader=p,r.inflateSetDictionary=b,r.inflateInfo="pako inflate (from Nodeca project)"
},{"../utils/common":97,"./adler32":98,"./crc32":100,"./inffast":102,"./inftrees":104}],104:[function(e,t){"use strict";var r=e("../utils/common"),n=15,i=852,o=592,a=0,s=1,c=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,d,p,b,_,m,y){var g,v,w,k,E,x,S,T,A,C=y.bits,B=0,O=0,j=0,N=0,R=0,L=0,I=0,M=0,P=0,U=0,z=null,D=0,q=new r.Buf16(n+1),F=new r.Buf16(n+1),H=null,Z=0;for(B=0;n>=B;B++)q[B]=0;for(O=0;p>O;O++)q[t[d+O]]++;for(R=C,N=n;N>=1&&0===q[N];N--);if(R>N&&(R=N),0===N)return b[_++]=20971520,b[_++]=20971520,y.bits=1,0;for(j=1;N>j&&0===q[j];j++);for(j>R&&(R=j),M=1,B=1;n>=B;B++)if(M<<=1,M-=q[B],0>M)return-1;if(M>0&&(e===a||1!==N))return-1;for(F[1]=0,B=1;n>B;B++)F[B+1]=F[B]+q[B];for(O=0;p>O;O++)0!==t[d+O]&&(m[F[t[d+O]]++]=O);if(e===a?(z=H=m,x=19):e===s?(z=u,D-=257,H=h,Z-=257,x=256):(z=l,H=f,x=-1),U=0,O=0,B=j,E=_,L=R,I=0,w=-1,P=1<<R,k=P-1,e===s&&P>i||e===c&&P>o)return 1;for(var G=0;;){G++,S=B-I,m[O]<x?(T=0,A=m[O]):m[O]>x?(T=H[Z+m[O]],A=z[D+m[O]]):(T=96,A=0),g=1<<B-I,v=1<<L,j=v;do v-=g,b[E+(U>>I)+v]=0|(S<<24|T<<16|A);while(0!==v);for(g=1<<B-1;U&g;)g>>=1;if(0!==g?(U&=g-1,U+=g):U=0,O++,0===--q[B]){if(B===N)break;B=t[d+m[O]]}if(B>R&&(U&k)!==w){for(0===I&&(I=R),E+=j,L=B-I,M=1<<L;N>L+I&&(M-=q[L+I],!(0>=M));)L++,M<<=1;if(P+=1<<L,e===s&&P>i||e===c&&P>o)return 1;w=U&k,b[w]=0|(R<<24|L<<16|E-_)}}return 0!==U&&(b[E+U]=0|(B-I<<24|64<<16)),y.bits=R,0}},{"../utils/common":97}],105:[function(e,t){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],106:[function(e,t,r){"use strict";function n(e){for(var t=e.length;--t>=0;)e[t]=0}function i(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return 256>e?ct[e]:ct[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=255&t>>>8}function c(e,t,r){e.bi_valid>K-r?(e.bi_buf|=65535&t<<e.bi_valid,s(e,e.bi_buf),e.bi_buf=t>>K-e.bi_valid,e.bi_valid+=r-K):(e.bi_buf|=65535&t<<e.bi_valid,e.bi_valid+=r)}function u(e,t,r){c(e,r[2*t],r[2*t+1])}function h(e,t){var r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0);return r>>>1}function l(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function f(e,t){var r,n,i,o,a,s,c=t.dyn_tree,u=t.max_code,h=t.stat_desc.static_tree,l=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,b=0;for(o=0;Y>=o;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;V>r;r++)n=e.heap[r],o=c[2*c[2*n+1]+1]+1,o>p&&(o=p,b++),c[2*n+1]=o,n>u||(e.bl_count[o]++,a=0,n>=d&&(a=f[n-d]),s=c[2*n],e.opt_len+=s*(o+a),l&&(e.static_len+=s*(h[2*n+1]+a)));if(0!==b){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,b-=2}while(b>0);for(o=p;0!==o;o--)for(n=e.bl_count[o];0!==n;)i=e.heap[--r],i>u||(c[2*i+1]!==o&&(e.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),n--)}}function d(e,t,r){var n,i,o=new Array(Y+1),a=0;for(n=1;Y>=n;n++)o[n]=a=a+r[n-1]<<1;for(i=0;t>=i;i++){var s=e[2*i+1];0!==s&&(e[2*i]=h(o[s]++,s))}}function p(){var e,t,r,n,o,a=new Array(Y+1);for(r=0,n=0;F-1>n;n++)for(ht[n]=r,e=0;e<1<<tt[n];e++)ut[r++]=n;for(ut[r-1]=n,o=0,n=0;16>n;n++)for(lt[n]=o,e=0;e<1<<rt[n];e++)ct[o++]=n;for(o>>=7;G>n;n++)for(lt[n]=o<<7,e=0;e<1<<rt[n]-7;e++)ct[256+o++]=n;for(t=0;Y>=t;t++)a[t]=0;for(e=0;143>=e;)at[2*e+1]=8,e++,a[8]++;for(;255>=e;)at[2*e+1]=9,e++,a[9]++;for(;279>=e;)at[2*e+1]=7,e++,a[7]++;for(;287>=e;)at[2*e+1]=8,e++,a[8]++;for(d(at,Z+1,a),e=0;G>e;e++)st[2*e+1]=5,st[2*e]=h(e,5);ft=new i(at,tt,H+1,Z,Y),dt=new i(st,rt,0,G,Y),pt=new i(new Array(0),nt,0,W,X)}function b(e){var t;for(t=0;Z>t;t++)e.dyn_ltree[2*t]=0;for(t=0;G>t;t++)e.dyn_dtree[2*t]=0;for(t=0;W>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*$]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function _(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function m(e,t,r,n){_(e),n&&(s(e,r),s(e,~r)),N.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function y(e,t,r,n){var i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function g(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&y(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!y(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function v(e,t,r){var n,i,o,s,h=0;if(0!==e.last_lit)do n=e.pending_buf[e.d_buf+2*h]<<8|e.pending_buf[e.d_buf+2*h+1],i=e.pending_buf[e.l_buf+h],h++,0===n?u(e,i,t):(o=ut[i],u(e,o+H+1,t),s=tt[o],0!==s&&(i-=ht[o],c(e,i,s)),n--,o=a(n),u(e,o,r),s=rt[o],0!==s&&(n-=lt[o],c(e,n,s)));while(h<e.last_lit);u(e,$,t)}function w(e,t){var r,n,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=V,r=0;c>r;r++)0!==o[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)i=e.heap[++e.heap_len]=2>u?++u:0,o[2*i]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)g(e,o,r);i=c;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],g(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,g(e,o,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],f(e,t),d(o,u,e.bl_count)}function k(e,t,r){var n,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(r+1)+1]=65535,n=0;r>=n;n++)i=a,a=t[2*(n+1)+1],++s<c&&i===a||(u>s?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*J]++):10>=s?e.bl_tree[2*Q]++:e.bl_tree[2*et]++,s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))}function E(e,t,r){var n,i,o=-1,a=t[1],s=0,h=7,l=4;for(0===a&&(h=138,l=3),n=0;r>=n;n++)if(i=a,a=t[2*(n+1)+1],!(++s<h&&i===a)){if(l>s){do u(e,i,e.bl_tree);while(0!==--s)}else 0!==i?(i!==o&&(u(e,i,e.bl_tree),s--),u(e,J,e.bl_tree),c(e,s-3,2)):10>=s?(u(e,Q,e.bl_tree),c(e,s-3,3)):(u(e,et,e.bl_tree),c(e,s-11,7));s=0,o=i,0===a?(h=138,l=3):i===a?(h=6,l=3):(h=7,l=4)}}function x(e){var t;for(k(e,e.dyn_ltree,e.l_desc.max_code),k(e,e.dyn_dtree,e.d_desc.max_code),w(e,e.bl_desc),t=W-1;t>=3&&0===e.bl_tree[2*it[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function S(e,t,r,n){var i;for(c(e,t-257,5),c(e,r-1,5),c(e,n-4,4),i=0;n>i;i++)c(e,e.bl_tree[2*it[i]+1],3);E(e,e.dyn_ltree,t-1),E(e,e.dyn_dtree,r-1)}function T(e){var t,r=4093624447;for(t=0;31>=t;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return L;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return I;for(t=32;H>t;t++)if(0!==e.dyn_ltree[2*t])return I;return L}function A(e){bt||(p(),bt=!0),e.l_desc=new o(e.dyn_ltree,ft),e.d_desc=new o(e.dyn_dtree,dt),e.bl_desc=new o(e.bl_tree,pt),e.bi_buf=0,e.bi_valid=0,b(e)}function C(e,t,r,n){c(e,(P<<1)+(n?1:0),3),m(e,t,r,!0)}function B(e){c(e,U<<1,3),u(e,$,at),l(e)}function O(e,t,r,n){var i,o,a=0;e.level>0?(e.strm.data_type===M&&(e.strm.data_type=T(e)),w(e,e.l_desc),w(e,e.d_desc),a=x(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,i>=o&&(i=o)):i=o=r+5,i>=r+4&&-1!==t?C(e,t,r,n):e.strategy===R||o===i?(c(e,(U<<1)+(n?1:0),3),v(e,at,st)):(c(e,(z<<1)+(n?1:0),3),S(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),v(e,e.dyn_ltree,e.dyn_dtree)),b(e),n&&_(e)}function j(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=255&t>>>8,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(ut[r]+H+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1}var N=e("../utils/common"),R=4,L=0,I=1,M=2,P=0,U=1,z=2,D=3,q=258,F=29,H=256,Z=H+1+F,G=30,W=19,V=2*Z+1,Y=15,K=16,X=7,$=256,J=16,Q=17,et=18,tt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],rt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],it=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ot=512,at=new Array(2*(Z+2));n(at);var st=new Array(2*G);n(st);var ct=new Array(ot);n(ct);var ut=new Array(q-D+1);n(ut);var ht=new Array(F);n(ht);var lt=new Array(G);n(lt);var ft,dt,pt,bt=!1;r._tr_init=A,r._tr_stored_block=C,r._tr_flush_block=O,r._tr_tally=j,r._tr_align=B},{"../utils/common":97}],107:[function(e,t){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}],108:[function(e,t){!function(e){"use strict";function r(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}t.exports=!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?r:e.nextTick}.call(this,e("_process"))},{_process:109}],109:[function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(h===setTimeout)return setTimeout(e,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function o(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function a(){b&&d&&(b=!1,d.length?p=d.concat(p):_=-1,p.length&&s())}function s(){if(!b){var e=i(a);b=!0;for(var t=p.length;t;){for(d=p,p=[];++_<t;)d&&d[_].run();_=-1,t=p.length}d=null,b=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var h,l,f=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(e){h=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var d,p=[],b=!1,_=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new c(e,t)),1!==p.length||b||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(){return[]},f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],110:[function(t,r,n){!function(t){!function(i){function o(e){throw new RangeError(L[e])}function a(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function s(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(R,".");var i=e.split("."),o=a(i,t).join(".");return n+o}function c(e){for(var t,r,n=[],i=0,o=e.length;o>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&o>i?(r=e.charCodeAt(i++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--)):n.push(t);return n}function u(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=P(55296|1023&e>>>10),e=56320|1023&e),t+=P(e)}).join("")}function h(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:E}function l(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function f(e,t,r){var n=0;for(e=r?M(e/A):e>>1,e+=M(e/t);e>I*S>>1;n+=E)e=M(e/I);return M(n+(I+1)*e/(e+T))}function d(e){var t,r,n,i,a,s,c,l,d,p,b=[],_=e.length,m=0,y=B,g=C;for(r=e.lastIndexOf(O),0>r&&(r=0),n=0;r>n;++n)e.charCodeAt(n)>=128&&o("not-basic"),b.push(e.charCodeAt(n));for(i=r>0?r+1:0;_>i;){for(a=m,s=1,c=E;i>=_&&o("invalid-input"),l=h(e.charCodeAt(i++)),(l>=E||l>M((k-m)/s))&&o("overflow"),m+=l*s,d=g>=c?x:c>=g+S?S:c-g,!(d>l);c+=E)p=E-d,s>M(k/p)&&o("overflow"),s*=p;t=b.length+1,g=f(m-a,t,0==a),M(m/t)>k-y&&o("overflow"),y+=M(m/t),m%=t,b.splice(m++,0,y)}return u(b)}function p(e){var t,r,n,i,a,s,u,h,d,p,b,_,m,y,g,v=[];for(e=c(e),_=e.length,t=B,r=0,a=C,s=0;_>s;++s)b=e[s],128>b&&v.push(P(b));for(n=i=v.length,i&&v.push(O);_>n;){for(u=k,s=0;_>s;++s)b=e[s],b>=t&&u>b&&(u=b);for(m=n+1,u-t>M((k-r)/m)&&o("overflow"),r+=(u-t)*m,t=u,s=0;_>s;++s)if(b=e[s],t>b&&++r>k&&o("overflow"),b==t){for(h=r,d=E;p=a>=d?x:d>=a+S?S:d-a,!(p>h);d+=E)g=h-p,y=E-p,v.push(P(l(p+g%y,0))),h=M(g/y);v.push(P(l(h,0))),a=f(r,m,n==i),r=0,++n}++r,++t}return v.join("")}function b(e){return s(e,function(e){return j.test(e)?d(e.slice(4).toLowerCase()):e})}function _(e){return s(e,function(e){return N.test(e)?"xn--"+p(e):e})}var m="object"==typeof n&&n&&!n.nodeType&&n,y="object"==typeof r&&r&&!r.nodeType&&r,g="object"==typeof t&&t;(g.global===g||g.window===g||g.self===g)&&(i=g);var v,w,k=2147483647,E=36,x=1,S=26,T=38,A=700,C=72,B=128,O="-",j=/^xn--/,N=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=E-x,M=Math.floor,P=String.fromCharCode;if(v={version:"1.4.1",ucs2:{decode:c,encode:u},decode:d,encode:p,toASCII:_,toUnicode:b},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return v});else if(m&&y)if(r.exports==m)y.exports=v;else for(w in v)v.hasOwnProperty(w)&&(m[w]=v[w]);else i.punycode=v}(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],111:[function(e,t){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,i,o){t=t||"&",i=i||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var h=0;u>h;++h){var l,f,d,p,b=e[h].replace(s,"%20"),_=b.indexOf(i);_>=0?(l=b.substr(0,_),f=b.substr(_+1)):(l=b,f=""),d=decodeURIComponent(l),p=decodeURIComponent(f),r(a,d)?n(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],112:[function(e,t){"use strict";function r(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,a,s){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?r(o(e),function(o){var s=encodeURIComponent(n(o))+a;return i(e[o])?r(e[o],function(e){return s+encodeURIComponent(n(e))}).join(t):s+encodeURIComponent(n(e[o]))}).join(t):s?encodeURIComponent(n(s))+a+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],113:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":111,"./encode":112}],114:[function(e,t){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":115}],115:[function(e,t){"use strict";function r(e){return this instanceof r?(c.call(this,e),u.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",n),void 0):new r(e)}function n(){this.allowHalfOpen||this._writableState.ended||a(i,this)}function i(e){e.end()}var o=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=r;var a=e("process-nextick-args"),s=e("core-util-is");s.inherits=e("inherits");var c=e("./_stream_readable"),u=e("./_stream_writable");s.inherits(r,c);for(var h=o(u.prototype),l=0;l<h.length;l++){var f=h[l];r.prototype[f]||(r.prototype[f]=u.prototype[f])}},{"./_stream_readable":117,"./_stream_writable":119,"core-util-is":60,inherits:87,"process-nextick-args":108}],116:[function(e,t){"use strict";function r(e){return this instanceof r?(n.call(this,e),void 0):new r(e)}t.exports=r;var n=e("./_stream_transform"),i=e("core-util-is");i.inherits=e("inherits"),i.inherits(r,n),r.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":118,"core-util-is":60,inherits:87}],117:[function(e,t){!function(r){"use strict";function n(e,t,r){return"function"==typeof e.prependListener?e.prependListener(t,r):(e._events&&e._events[t]?O(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r),void 0)}function i(t,r){C=C||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,r instanceof C&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=~~this.highWaterMark,this.buffer=new z,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(U||(U=e("string_decoder/").StringDecoder),this.decoder=new U(t.encoding),this.encoding=t.encoding)}function o(t){return C=C||e("./_stream_duplex"),this instanceof o?(this._readableState=new i(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),N.call(this),void 0):new o(t)}function a(e,t,r,n,i){var o=h(t,r);if(o)e.emit("error",o);else if(null===r)t.reading=!1,l(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var c=new Error("stream.unshift() after end event");e.emit("error",c)}else{var u;!t.decoder||i||n||(r=t.decoder.write(r),u=!t.objectMode&&0===r.length),i||(t.reading=!1),u||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&f(e))),p(e,t)}else i||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function c(e){return e>=q?e=q:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function u(e,t){return 0>=e||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=c(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function h(e,t){var r=null;return R.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function l(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,f(e)}}function f(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(P("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?B(d,e):d(e))}function d(e){P("emit readable"),e.emit("readable"),v(e)}function p(e,t){t.readingMore||(t.readingMore=!0,B(b,e,t))}function b(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(P("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function _(e){return function(){var t=e._readableState;P("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&j(e,"data")&&(t.flowing=!0,v(e))}}function m(e){P("readable nexttick read 0"),e.read(0)}function y(e,t){t.resumeScheduled||(t.resumeScheduled=!0,B(g,e,t))}function g(e,t){t.reading||(P("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),v(e),t.flowing&&!t.reading&&e.read(0)}function v(e){var t=e._readableState;for(P("flow",t.flowing);t.flowing&&null!==e.read(););}function w(e,t){if(0===t.length)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=k(e,t.buffer,t.decoder),r}function k(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?E(e,t):x(e,t),n}function E(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(i+=a===o.length?o:o.slice(0,e),e-=a,0===e){a===o.length?(++n,t.head=r.next?r.next:t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}function x(e,t){var r=L.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),e-=a,0===e){a===o.length?(++i,t.head=n.next?n.next:t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}function S(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,B(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function A(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r]===t)return r;return-1}t.exports=o;var C,B=e("process-nextick-args"),O=e("isarray");o.ReadableState=i,e("events").EventEmitter;var j=function(e,t){return e.listeners(t).length},N=e("./internal/streams/stream"),R=e("buffer").Buffer,L=e("buffer-shims"),I=e("core-util-is");I.inherits=e("inherits");var M=e("util"),P=void 0;P=M&&M.debuglog?M.debuglog("stream"):function(){};var U,z=e("./internal/streams/BufferList");I.inherits(o,N);var D=["error","close","destroy","pause","resume"];o.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding,t!==r.encoding&&(e=L.from(e,t),t="")),a(this,r,e,t,!1)},o.prototype.unshift=function(e){var t=this._readableState;return a(this,t,e,"",!0)},o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(t){return U||(U=e("string_decoder/").StringDecoder),this._readableState.decoder=new U(t),this._readableState.encoding=t,this};var q=8388608;o.prototype.read=function(e){P("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return P("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?S(this):f(this),null;if(e=u(e,t),0===e&&t.ended)return 0===t.length&&S(this),null;var n=t.needReadable;P("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,P("length less than watermark",n)),t.ended||t.reading?(n=!1,P("reading or ended",n)):n&&(P("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=u(r,t)));var i;return i=e>0?w(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&S(this)),null!==i&&this.emit("data",i),i},o.prototype._read=function(){this.emit("error",new Error("_read() is not implemented"))},o.prototype.pipe=function(e,t){function i(e){P("onunpipe"),e===f&&a()}function o(){P("onend"),e.end()}function a(){P("cleanup"),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("drain",m),e.removeListener("error",c),e.removeListener("unpipe",i),f.removeListener("end",o),f.removeListener("end",a),f.removeListener("data",s),y=!0,!d.awaitDrain||e._writableState&&!e._writableState.needDrain||m()}function s(t){P("ondata"),g=!1;var r=e.write(t);!1!==r||g||((1===d.pipesCount&&d.pipes===e||d.pipesCount>1&&-1!==A(d.pipes,e))&&!y&&(P("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,g=!0),f.pause())}function c(t){P("onerror",t),l(),e.removeListener("error",c),0===j(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",h),l()}function h(){P("onfinish"),e.removeListener("close",u),l()}function l(){P("unpipe"),f.unpipe(e)}var f=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1,P("pipe count=%d opts=%j",d.pipesCount,t);var p=(!t||t.end!==!1)&&e!==r.stdout&&e!==r.stderr,b=p?o:a;d.endEmitted?B(b):f.once("end",b),e.on("unpipe",i);var m=_(f);e.on("drain",m);var y=!1,g=!1;return f.on("data",s),n(e,"error",c),e.once("close",u),e.once("finish",h),e.emit("pipe",f),d.flowing||(P("pipe resume"),f.resume()),e},o.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;n>i;i++)r[i].emit("unpipe",this);return this}var o=A(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},o.prototype.on=function(e,t){var r=N.prototype.on.call(this,e,t);if("data"===e)this._readableState.flowing!==!1&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&f(this,n):B(m,this))}return r},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var e=this._readableState;return e.flowing||(P("resume"),e.flowing=!0,y(this,e)),this},o.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(P("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){if(P("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){var o=n.push(i);o||(r=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<D.length;o++)e.on(D[o],n.emit.bind(n,D[o]));return n._read=function(t){P("wrapped _read",t),r&&(r=!1,e.resume())},n},o._fromList=w}.call(this,e("_process"))},{"./_stream_duplex":115,"./internal/streams/BufferList":120,"./internal/streams/stream":121,_process:109,buffer:21,"buffer-shims":20,"core-util-is":60,events:63,inherits:87,isarray:90,"process-nextick-args":108,"string_decoder/":133,util:17}],118:[function(e,t){"use strict";function r(e){this.afterTransform=function(t,r){return n(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function n(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==r&&void 0!==r&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);a.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,r){o(t,e,r)}):o(t)})}function o(e,t,r){if(t)return e.emit("error",t);null!==r&&void 0!==r&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}t.exports=i;var a=e("./_stream_duplex"),s=e("core-util-is");s.inherits=e("inherits"),s.inherits(i,a),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},i.prototype._transform=function(){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./_stream_duplex":115,"core-util-is":60,inherits:87}],119:[function(e,t){!function(r){"use strict";function n(){}function i(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function o(t,r){E=E||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,r instanceof E&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){p(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new k(this)}function a(t){return E=E||e("./_stream_duplex"),j.call(a,this)||this instanceof E?(this._writableState=new o(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),C.call(this),void 0):new a(t)}function s(e,t){var r=new Error("write after end");e.emit("error",r),x(t,r)}function c(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),x(n,o),i=!1),i}function u(e,t,r){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=O.from(t,r)),t}function h(e,t,r,n,o,a){r||(n=u(t,n,o),B.isBuffer(n)&&(o="buffer"));var s=t.objectMode?1:n.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest=new i(n,o,a),h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else l(e,t,!1,s,n,o,a);return c}function l(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function f(e,t,r,n,i){--t.pendingcb,r?x(i,n):i(n),e._writableState.errorEmitted=!0,e.emit("error",n)}function d(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function p(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(d(r),t)f(e,r,n,t,i);else{var o=y(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||m(e,r),n?S(b,e,r,o,i):b(e,r,o,i)}}function b(e,t,r,n){r||_(e,t),t.pendingcb--,n(),v(e,t)}function _(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function m(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0;r;)i[a]=r,r=r.next,a+=1;l(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new k(t)
}else{for(;r;){var s=r.chunk,c=r.encoding,u=r.callback,h=t.objectMode?1:s.length;if(l(e,t,!1,h,s,c,u),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function y(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function g(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function v(e,t){var r=y(t);return r&&(0===t.pendingcb?(g(e,t),t.finished=!0,e.emit("finish")):g(e,t)),r}function w(e,t,r){t.ending=!0,v(e,t),r&&(t.finished?x(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function k(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}t.exports=a;var E,x=e("process-nextick-args"),S=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?setImmediate:x;a.WritableState=o;var T=e("core-util-is");T.inherits=e("inherits");var A={deprecate:e("util-deprecate")},C=e("./internal/streams/stream"),B=e("buffer").Buffer,O=e("buffer-shims");T.inherits(a,C),o.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(o.prototype,"buffer",{get:A.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var j;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(j=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(e){return j.call(this,e)?!0:e&&e._writableState instanceof o}})):j=function(e){return e instanceof this},a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},a.prototype.write=function(e,t,r){var i=this._writableState,o=!1,a=B.isBuffer(e);return"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=n),i.ended?s(this,r):(a||c(this,i,e,r))&&(i.pendingcb++,o=h(this,i,a,e,t,r)),o},a.prototype.cork=function(){var e=this._writableState;e.corked++},a.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||m(this,e))},a.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},a.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},a.prototype._writev=null,a.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||w(this,n,r)}}.call(this,e("_process"))},{"./_stream_duplex":115,"./internal/streams/stream":121,_process:109,buffer:21,"buffer-shims":20,"core-util-is":60,inherits:87,"process-nextick-args":108,"util-deprecate":137}],120:[function(e,t){"use strict";function r(){this.head=null,this.tail=null,this.length=0}e("buffer").Buffer;var n=e("buffer-shims");t.exports=r,r.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},r.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},r.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}},r.prototype.clear=function(){this.head=this.tail=null,this.length=0},r.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},r.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t=n.allocUnsafe(e>>>0),r=this.head,i=0;r;)r.data.copy(t,i),i+=r.data.length,r=r.next;return t}},{buffer:21,"buffer-shims":20}],121:[function(e,t){t.exports=e("events").EventEmitter},{events:63}],122:[function(e,t){t.exports=e("./readable").PassThrough},{"./readable":123}],123:[function(e,t,r){r=t.exports=e("./lib/_stream_readable.js"),r.Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":115,"./lib/_stream_passthrough.js":116,"./lib/_stream_readable.js":117,"./lib/_stream_transform.js":118,"./lib/_stream_writable.js":119}],124:[function(e,t){t.exports=e("./readable").Transform},{"./readable":123}],125:[function(e,t){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":119}],126:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return Math.random()*(t-e)+e}Object.defineProperty(r,"__esModule",{value:!0});var o=e("babel-runtime/core-js/object/assign"),a=n(o),s=e("babel-runtime/helpers/classCallCheck"),c=n(s),u={debug:!1,automaticOpen:!0,reconnectOnError:!1,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null,randomRatio:3,binaryType:"blob",reconnectOnCleanClose:!1},h=function l(e){var t=this,r=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];c.default(this,l),this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3,this.open=function(){var e=t._socket=new WebSocket(t._url,t._protocols);e.binaryType=t._options.binaryType,t._options.maxReconnectAttempts&&t._options.maxReconnectAttempts<t._reconnectAttempts||(t._syncState(),e.onmessage=t._onmessage.bind(t),e.onopen=t._onopen.bind(t),e.onclose=t._onclose.bind(t),e.onerror=t._onerror.bind(t))},this.send=function(e){t._socket&&t._socket.readyState===WebSocket.OPEN&&0===t._messageQueue.length?t._socket.send(e):t._messageQueue.push(e)},this.close=function(e,r){"undefined"==typeof e&&(e=1e3),t._socket&&t._socket.close(e,r)},this._onmessage=function(e){t.onmessage&&t.onmessage(e)},this._onopen=function(e){t._syncState(),t._flushQueue(),t._reconnectAttempts=0,t.onopen&&t.onopen(e)},this._onclose=function(e){t._syncState(),t._debug("WebSocket: connection is broken",e),t.onclose&&t.onclose(e),t._tryReconnect(e)},this._onerror=function(e){t._socket.close(),t._debug("WebSocket: error",e),t.onerror&&t.onerror(e),t._options.reconnectOnError&&t._tryReconnect(e)},this._tryReconnect=function(e){(!e.wasClean||t._options.reconnectOnCleanClose)&&setTimeout(function(){(t.readyState===t.CLOSING||t.readyState===t.CLOSED)&&(t._reconnectAttempts++,t.open())},t._getTimeout())},this._flushQueue=function(){for(;0!==t._messageQueue.length;){var e=t._messageQueue.shift();t._socket.send(e)}},this._getTimeout=function(){var e=t._options.reconnectInterval*Math.pow(t._options.reconnectDecay,t._reconnectAttempts);return e=e>t._options.maxReconnectInterval?t._options.maxReconnectInterval:e,t._options.randomRatio?i(e/t._options.randomRatio,e):e},this._syncState=function(){t.readyState=t._socket.readyState},this._url=e,this._protocols=r,this._options=a.default({},u,n),this._messageQueue=[],this._reconnectAttempts=0,this.readyState=this.CONNECTING,this._debug="function"==typeof this._options.debug?this._options.debug:this._options.debug?console.log.bind(console):function(){},n.automaticOpen&&this.open()};r.default=h,t.exports=r["default"]},{"babel-runtime/core-js/object/assign":14,"babel-runtime/helpers/classCallCheck":15}],127:[function(e,t){t.exports=e("buffer")},{buffer:21}],128:[function(e,t){function r(){n.call(this)}t.exports=r;var n=e("events").EventEmitter,i=e("inherits");i(r,n),r.Readable=e("readable-stream/readable.js"),r.Writable=e("readable-stream/writable.js"),r.Duplex=e("readable-stream/duplex.js"),r.Transform=e("readable-stream/transform.js"),r.PassThrough=e("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(e,t){function r(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function i(){u.readable&&u.resume&&u.resume()}function o(){h||(h=!0,e.end())}function a(){h||(h=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){u.removeListener("data",r),e.removeListener("drain",i),u.removeListener("end",o),u.removeListener("close",a),u.removeListener("error",s),e.removeListener("error",s),u.removeListener("end",c),u.removeListener("close",c),e.removeListener("close",c)}var u=this;u.on("data",r),e.on("drain",i),e._isStdio||t&&t.end===!1||(u.on("end",o),u.on("close",a));var h=!1;return u.on("error",s),e.on("error",s),u.on("end",c),u.on("close",c),e.on("close",c),e.emit("pipe",u),e}},{events:63,inherits:87,"readable-stream/duplex.js":114,"readable-stream/passthrough.js":122,"readable-stream/readable.js":123,"readable-stream/transform.js":124,"readable-stream/writable.js":125}],129:[function(e,t,r){!function(t){var n=e("./lib/request"),i=e("xtend"),o=e("builtin-status-codes"),a=e("url"),s=r;s.request=function(e,r){e="string"==typeof e?a.parse(e):i(e);var o=-1===t.location.protocol.search(/^https?:$/)?"http:":"",s=e.protocol||o,c=e.hostname||e.host,u=e.port,h=e.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),e.url=(c?s+"//"+c:"")+(u?":"+u:"")+h,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var l=new n(e);return r&&l.on("response",r),l},s.get=function(e,t){var r=s.request(e,t);return r.end(),r},s.Agent=function(){},s.Agent.defaultMaxSockets=4,s.STATUS_CODES=o,s.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":131,"builtin-status-codes":22,url:135,xtend:141}],130:[function(e,t,r){!function(e){function t(){if(void 0!==a)return a;if(e.XMLHttpRequest){a=new e.XMLHttpRequest;try{a.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(t){a=null}}else a=null;return a}function n(e){var r=t();if(!r)return!1;try{return r.responseType=e,r.responseType===e}catch(n){}return!1}function i(e){return"function"==typeof e}r.fetch=i(e.fetch)&&i(e.ReadableStream),r.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),r.blobConstructor=!0}catch(o){}var a,s="undefined"!=typeof e.ArrayBuffer,c=s&&i(e.ArrayBuffer.prototype.slice);r.arraybuffer=r.fetch||s&&n("arraybuffer"),r.msstream=!r.fetch&&c&&n("ms-stream"),r.mozchunkedarraybuffer=!r.fetch&&s&&n("moz-chunked-arraybuffer"),r.overrideMimeType=r.fetch||(t()?i(t().overrideMimeType):!1),r.vbArray=i(e.VBArray),a=null}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],131:[function(e,t){!function(r,n,i){function o(e,t){return s.fetch&&t?"fetch":s.mozchunkedarraybuffer?"moz-chunked-arraybuffer":s.msstream?"ms-stream":s.arraybuffer&&e?"arraybuffer":s.vbArray&&e?"text:vbarray":"text"}function a(e){try{var t=e.status;return null!==t&&0!==t}catch(r){return!1}}var s=e("./capability"),c=e("inherits"),u=e("./response"),h=e("readable-stream"),l=e("to-arraybuffer"),f=u.IncomingMessage,d=u.readyStates,p=t.exports=function(e){var t=this;h.Writable.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+new i(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(r){t.setHeader(r,e.headers[r])});var r,n=!0;if("disable-fetch"===e.mode||"timeout"in e)n=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!s.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}t._mode=o(r,n),t.on("finish",function(){t._onFinish()})};c(p,h.Writable),p.prototype.setHeader=function(e,t){var r=this,n=e.toLowerCase();-1===b.indexOf(n)&&(r._headers[n]={name:e,value:t})},p.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},p.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]},p.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,o=e._headers,a=null;"GET"!==t.method&&"HEAD"!==t.method&&(a=s.blobConstructor?new n.Blob(e._body.map(function(e){return l(e)}),{type:(o["content-type"]||{}).value||""}):i.concat(e._body).toString());var c=[];if(Object.keys(o).forEach(function(e){var t=o[e].name,r=o[e].value;Array.isArray(r)?r.forEach(function(e){c.push([t,e])}):c.push([t,r])}),"fetch"===e._mode)n.fetch(e._opts.url,{method:e._opts.method,headers:c,body:a||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin"}).then(function(t){e._fetchResponse=t,e._connect()},function(t){e.emit("error",t)});else{var u=e._xhr=new n.XMLHttpRequest;try{u.open(e._opts.method,e._opts.url,!0)}catch(h){return r.nextTick(function(){e.emit("error",h)}),void 0}"responseType"in u&&(u.responseType=e._mode.split(":")[0]),"withCredentials"in u&&(u.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in u&&u.overrideMimeType("text/plain; charset=x-user-defined"),"timeout"in t&&(u.timeout=t.timeout,u.ontimeout=function(){e.emit("timeout")}),c.forEach(function(e){u.setRequestHeader(e[0],e[1])}),e._response=null,u.onreadystatechange=function(){switch(u.readyState){case d.LOADING:case d.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(u.onprogress=function(){e._onXHRProgress()}),u.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{u.send(a)}catch(h){return r.nextTick(function(){e.emit("error",h)}),void 0}}}},p.prototype._onXHRProgress=function(){var e=this;a(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},p.prototype._connect=function(){var e=this;e._destroyed||(e._response=new f(e._xhr,e._fetchResponse,e._mode),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},p.prototype._write=function(e,t,r){var n=this;n._body.push(e),r()},p.prototype.abort=p.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},p.prototype.end=function(e,t,r){var n=this;"function"==typeof e&&(r=e,e=void 0),h.Writable.prototype.end.call(n,e,t,r)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var b=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}.call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./capability":130,"./response":132,_process:109,buffer:21,inherits:87,"readable-stream":123,"to-arraybuffer":134}],132:[function(e,t,r){!function(t,n,i){var o=e("./capability"),a=e("inherits"),s=e("readable-stream"),c=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=r.IncomingMessage=function(e,r,n){function a(){u.read().then(function(e){if(!c._destroyed){if(e.done)return c.push(null),void 0;c.push(new i(e.value)),a()}}).catch(function(e){c.emit("error",e)})}var c=this;if(s.Readable.call(c),c._mode=n,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),"fetch"===n){c._fetchResponse=r,c.url=r.url,c.statusCode=r.status,c.statusMessage=r.statusText,r.headers.forEach(function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)});var u=r.body.getReader();a()}else{c._xhr=e,c._pos=0,c.url=e.responseURL,c.statusCode=e.status,c.statusMessage=e.statusText;var h=e.getAllResponseHeaders().split(/\r?\n/);if(h.forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(t[2])):void 0!==c.headers[r]?c.headers[r]+=", "+t[2]:c.headers[r]=t[2],c.rawHeaders.push(t[1],t[2])}}),c._charset="x-user-defined",!o.overrideMimeType){var l=c.rawHeaders["mime-type"];if(l){var f=l.match(/;\s*charset=([^;])(;|$)/);f&&(c._charset=f[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};a(u,s.Readable),u.prototype._read=function(){},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==c.DONE)break;try{r=new n.VBArray(t.responseBody).toArray()}catch(o){}if(null!==r){e.push(new i(r));break}case"text":try{r=t.responseText}catch(o){e._mode="text:vbarray";break}if(r.length>e._pos){var a=r.substr(e._pos);if("x-user-defined"===e._charset){for(var s=new i(a.length),u=0;u<a.length;u++)s[u]=255&a.charCodeAt(u);e.push(s)}else e.push(a,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;r=t.response,e.push(new i(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==c.LOADING||!r)break;e.push(new i(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==c.LOADING)break;var h=new n.MSStreamReader;h.onprogress=function(){h.result.byteLength>e._pos&&(e.push(new i(new Uint8Array(h.result.slice(e._pos)))),e._pos=h.result.byteLength)},h.onload=function(){e.push(null)},h.readAsArrayBuffer(r)}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}}.call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./capability":130,_process:109,buffer:21,inherits:87,"readable-stream":123}],133:[function(e,t,r){"use strict";function n(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=n(e);if("string"!=typeof t&&(y.isEncoding===g||!g(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=i(e);var t;switch(this.encoding){case"utf16le":this.text=f,this.end=d,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=p,this.end=b,t=3;break;default:return this.write=_,this.end=m,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(t)}function a(e){return 127>=e?0:6===e>>5?2:14===e>>4?3:30===e>>3?4:-1}function s(e,t,r){var n=t.length-1;if(r>n)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=a(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=a(t[n]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0))}function c(e,t,r){if(128!==(192&t[0]))return e.lastNeed=0,"".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"".repeat(r+2)}}function u(e){var t=this.lastTotal-this.lastNeed,r=c(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length,void 0)}function h(e,t){var r=s(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t}function f(e,t){if(0===(e.length-t)%2){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&56319>=n)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function p(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function b(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function _(e){return e.toString(this.encoding)}function m(e){return e&&e.length?this.write(e):""}var y=e("safe-buffer").Buffer,g=y.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};r.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=l,o.prototype.text=h,o.prototype.fillLast=function(e){return this.lastNeed<=e.length?(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length,void 0)}},{"safe-buffer":127}],134:[function(e,t){var r=e("buffer").Buffer;t.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,i=0;n>i;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},{buffer:21}],135:[function(e,t,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,r){if(e&&u.isObject(e)&&e instanceof n)return e;var i=new n;return i.parse(e,t,r),i}function o(e){return u.isString(e)&&(e=i(e)),e instanceof n?e.format():n.prototype.format.call(e)}function a(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}var c=e("punycode"),u=e("./util");r.parse=i,r.resolve=a,r.resolveObject=s,r.format=o,r.Url=n;var h=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","	"],p=["{","}","|","\\","^","`"].concat(d),b=["'"].concat(p),_=["%","/","?",";","#"].concat(b),m=["/","?","#"],y=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},k={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=e("querystring");n.prototype.parse=function(e,t,r){if(!u.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=-1!==n&&n<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!r&&1===e.split("#").length){var l=f.exec(s);if(l)return this.path=s,this.href=s,this.pathname=l[1],l[2]?(this.search=l[2],this.query=t?x.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var d=h.exec(s);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,s=s.substr(d.length)}if(r||d||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===s.substr(0,2);!S||d&&k[d]||(s=s.substr(2),this.slashes=!0)}if(!k[d]&&(S||d&&!E[d])){for(var T=-1,A=0;A<m.length;A++){var C=s.indexOf(m[A]);-1!==C&&(-1===T||T>C)&&(T=C)}var B,O;O=-1===T?s.lastIndexOf("@"):s.lastIndexOf("@",T),-1!==O&&(B=s.slice(0,O),s=s.slice(O+1),this.auth=decodeURIComponent(B)),T=-1;for(var A=0;A<_.length;A++){var C=s.indexOf(_[A]);-1!==C&&(-1===T||T>C)&&(T=C)}-1===T&&(T=s.length),this.host=s.slice(0,T),s=s.slice(T),this.parseHost(),this.hostname=this.hostname||"";var j="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!j)for(var N=this.hostname.split(/\./),A=0,R=N.length;R>A;A++){var L=N[A];if(L&&!L.match(g)){for(var I="",M=0,P=L.length;P>M;M++)I+=L.charCodeAt(M)>127?"x":L[M];if(!I.match(g)){var U=N.slice(0,A),z=N.slice(A+1),D=L.match(v);D&&(U.push(D[1]),z.unshift(D[2])),z.length&&(s="/"+z.join(".")+s),this.hostname=U.join(".");break}}}this.hostname=this.hostname.length>y?"":this.hostname.toLowerCase(),j||(this.hostname=c.toASCII(this.hostname));var q=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+q,this.href+=this.host,j&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!w[p])for(var A=0,R=b.length;R>A;A++){var H=b[A];if(-1!==s.indexOf(H)){var Z=encodeURIComponent(H);Z===H&&(Z=escape(H)),s=s.split(H).join(Z)}}var G=s.indexOf("#");-1!==G&&(this.hash=s.substr(G),s=s.slice(0,G));var W=s.indexOf("?");if(-1!==W?(this.search=s.substr(W),this.query=s.substr(W+1),t&&(this.query=x.parse(this.query)),s=s.slice(0,W)):t&&(this.search="",this.query={}),s&&(this.pathname=s),E[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var q=this.pathname||"",V=this.search||"";this.path=q+V}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(o=x.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||E[t])&&i!==!1?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+i+r+a+n},n.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(u.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var h=s[c];"protocol"!==h&&(r[h]=e[h])}return E[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!E[e.protocol]){for(var l=Object.keys(e),f=0;f<l.length;f++){var d=l[f];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||k[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var b=r.pathname||"",_=r.search||"";r.path=b+_}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),g=y||m||r.host&&e.pathname,v=g,w=r.pathname&&r.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],x=r.protocol&&!E[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),g=g&&(""===p[0]||""===w[0])),y)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),r.search=e.search,r.query=e.query;else if(!u.isNullOrUndefined(e.search)){if(x){r.hostname=r.host=w.shift();var S=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return r.search=e.search,r.query=e.query,u.isNull(r.pathname)&&u.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.path=r.search?"/"+r.search:null,r.href=r.format(),r;for(var T=w.slice(-1)[0],A=(r.host||e.host||w.length>1)&&("."===T||".."===T)||""===T,C=0,B=w.length;B>=0;B--)T=w[B],"."===T?w.splice(B,1):".."===T?(w.splice(B,1),C++):C&&(w.splice(B,1),C--);if(!g&&!v)for(;C--;C)w.unshift("..");!g||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),A&&"/"!==w.join("/").substr(-1)&&w.push("");var O=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(x){r.hostname=r.host=O?"":w.length?w.shift():"";var S=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return g=g||r.host&&w.length,g&&!O&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),u.isNull(r.pathname)&&u.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=l.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":136,punycode:110,querystring:113}],136:[function(e,t){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],137:[function(e,t){!function(e){function r(e,t){function r(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(n("noDeprecation"))return e;var i=!1;return r}function n(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null==n?!1:"true"===String(n).toLowerCase()}t.exports=r}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],138:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],139:[function(e,t,r){!function(t,n){function i(e,t){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(t)?n.showHidden=t:t&&r._extend(n,t),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),c(n,e,n.depth)}function o(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function a(e){return e}function s(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function c(e,t,n){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return g(i)||(i=c(e,i,n)),i}var o=u(e,t);if(o)return o;var a=Object.keys(t),b=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),S(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(t);if(0===a.length){if(T(t)){var _=t.name?": "+t.name:"";return e.stylize("[Function"+_+"]","special")}if(k(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(S(t))return h(t)}var m="",y=!1,v=["{","}"];if(p(t)&&(y=!0,v=["[","]"]),T(t)){var w=t.name?": "+t.name:"";m=" [Function"+w+"]"}if(k(t)&&(m=" "+RegExp.prototype.toString.call(t)),x(t)&&(m=" "+Date.prototype.toUTCString.call(t)),S(t)&&(m=" "+h(t)),0===a.length&&(!y||0==t.length))return v[0]+m+v[1];if(0>n)return k(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");
e.seen.push(t);var E;return E=y?l(e,t,n,b,a):a.map(function(r){return f(e,t,n,b,r,y)}),e.seen.pop(),d(E,m,v)}function u(e,t){if(w(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return y(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):_(t)?e.stylize("null","null"):void 0}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,r,n,i){for(var o=[],a=0,s=t.length;s>a;++a)j(t,String(a))?o.push(f(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(e,t,r,n,i,!0))}),o}function f(e,t,r,n,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),j(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=_(r)?c(e,u.value,null):c(e,u.value,r-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e,t,r){var n=0,i=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function p(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function _(e){return null===e}function m(e){return null==e}function y(e){return"number"==typeof e}function g(e){return"string"==typeof e}function v(e){return"symbol"==typeof e}function w(e){return void 0===e}function k(e){return E(e)&&"[object RegExp]"===C(e)}function E(e){return"object"==typeof e&&null!==e}function x(e){return E(e)&&"[object Date]"===C(e)}function S(e){return E(e)&&("[object Error]"===C(e)||e instanceof Error)}function T(e){return"function"==typeof e}function A(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function C(e){return Object.prototype.toString.call(e)}function B(e){return 10>e?"0"+e.toString(10):e.toString(10)}function O(){var e=new Date,t=[B(e.getHours()),B(e.getMinutes()),B(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=/%[sdj%]/g;r.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,o=n.length,a=String(e).replace(N,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}}),s=n[r];o>r;s=n[++r])a+=_(s)||!E(s)?" "+s:" "+i(s);return a},r.deprecate=function(e,i){function o(){if(!a){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),a=!0}return e.apply(this,arguments)}if(w(n.process))return function(){return r.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return o};var R,L={};r.debuglog=function(e){if(w(R)&&(R=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!L[e])if(new RegExp("\\b"+e+"\\b","i").test(R)){var n=t.pid;L[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else L[e]=function(){};return L[e]},r.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=p,r.isBoolean=b,r.isNull=_,r.isNullOrUndefined=m,r.isNumber=y,r.isString=g,r.isSymbol=v,r.isUndefined=w,r.isRegExp=k,r.isObject=E,r.isDate=x,r.isError=S,r.isFunction=T,r.isPrimitive=A,r.isBuffer=e("./support/isBuffer");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",O(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}.call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":138,_process:109,inherits:87}],140:[function(){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):(e.bodyUsed=!0,void 0)}function a(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function s(e){var t=new FileReader,r=a(t);return t.readAsArrayBuffer(e),r}function c(e){var t=new FileReader,r=a(t);return t.readAsText(e),r}function u(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&g(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!v(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var r=t.body;if("string"==typeof e)this.url=e;else{if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}if(this.credentials=t.credentials||this.credentials||"omit",(t.headers||!this.headers)&&(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function b(e){var t=new i;return e.split("\r\n").forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t}function _(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=function(e){return e&&DataView.prototype.isPrototypeOf(e)},v=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,n){e=t(e),n=r(n);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(n)},i.prototype["delete"]=function(e){delete this.map[t(e)]},i.prototype.get=function(e){var r=this.map[t(e)];return r?r[0]:null},i.prototype.getAll=function(e){return this.map[t(e)]||[]},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,n){this.map[t(e)]=[r(n)]},i.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(n){e.call(t,n,r,this)},this)},this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),n(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),n(e)},m.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},l.call(d.prototype),l.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];_.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=d,e.Response=_,e.fetch=function(e,t){return new Promise(function(r,n){var i=new d(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:b(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;r(new _(t,e))},o.onerror=function(){n(new TypeError("Network request failed"))},o.ontimeout=function(){n(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&m.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},{}],141:[function(e,t){function r(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e}t.exports=r;var n=Object.prototype.hasOwnProperty},{}],142:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("../utils/isBlurred"),s=n(a),c=e("../utils/createElement"),u=n(c),h=e("../utils/addEvent"),l=n(h),f=function(){function e(t,r,n,o){i(this,e),this.parent=t,this.chatBody=r,this.localize=n,this.options=o,this.closeFlyoutOnBlur=this.closeFlyoutOnBlur.bind(this),this.actionMuteHandler=this.actionMuteHandler.bind(this),this.actionIgnoreHandler=this.actionIgnoreHandler.bind(this),this.actionBanHandler=this.actionBanHandler.bind(this),this.actionModHandler=this.actionModHandler.bind(this),this.render(),this._blurEvent=l.default(document,"click",this.closeFlyoutOnBlur),this._blurEventTouch=l.default(document,"touchend",this.closeFlyoutOnBlur)}return o(e,[{key:"render",value:function(){this.flyout=u.default({tagName:"div",className:"chat__actions-flyout "+this.options.modifierClass}),this.parent.parentElement.appendChild(this.flyout);var e=u.default({tagName:"div",className:"chat__actions-flyout-username",text:this.options.username});if(this.flyout.appendChild(e),this.options.url){var t=u.default({tagName:"a",className:"chat__actions-flyout-button",text:this.localize("View"),attributes:{href:this.options.url}});this.flyout.appendChild(t)}(this.chatBody.isMod()||this.chatBody.isAdmin())&&(this.muteButton=u.default({tagName:"button",className:"chat__actions-flyout-button",text:this.localize("Mute"),events:{click:this.actionMuteHandler}}),this.flyout.appendChild(this.muteButton),this.banButton=u.default({tagName:"button",className:"chat__actions-flyout-button",text:this.localize("Ban IP"),events:{click:this.actionBanHandler}}),this.flyout.appendChild(this.banButton),this.ignoreButton=u.default({tagName:"button",className:"chat__actions-flyout-button",text:this.localize("Ignore"),events:{click:this.actionIgnoreHandler}}),this.flyout.appendChild(this.ignoreButton)),this.chatBody.isAdmin()&&(this.modButton=u.default({tagName:"button",className:"chat__actions-flyout-button",text:this.options.role?this.localize("Unmod"):this.localize("Mod"),events:{click:this.actionModHandler}}),this.flyout.appendChild(this.modButton))}},{key:"actionModHandler",value:function(){var e=this;return this.modButton.textContent===this.localize("Unmod")?(this.chatBody.unmodActionHandler(this.options.username,function(){e.modButton.textContent=e.localize("Mod")}),void 0):(this.chatBody.modActionHandler(this.options.username,function(){e.modButton.textContent=e.localize("Unmod")}),void 0)}},{key:"actionMuteHandler",value:function(){return this.muteButton.textContent===this.localize("Unmute")?(this.chatBody.unmuteActionHandler(this.options.username),void 0):(this.chatBody.muteActionHandler(this.options.username),this.muteButton.textContent=this.localize("Unmute"),void 0)}},{key:"actionIgnoreHandler",value:function(){return this.ignoreButton.textContent===this.localize("Unignore")?(this.chatBody.unignoreActionHandler(this.options.username),void 0):(this.chatBody.ignoreActionHandler(this.options.username),this.ignoreButton.textContent=this.localize("Unignore"),void 0)}},{key:"actionBanHandler",value:function(){return this.banButton.textContent===this.localize("Unban IP")?(this.chatBody.unbanActionHandler(this.options.username),void 0):(this.chatBody.banActionHandler(this.options.username),this.banButton.textContent=this.localize("Unban IP"),void 0)}},{key:"closeFlyoutOnBlur",value:function(e){s.default(e,this.flyout,this.parent)&&this.close()}},{key:"close",value:function(){this._blurEvent(),this._blurEventTouch(),this._closed=!0,this.flyout.parentElement.removeChild(this.flyout)}}]),e}();r.default=f,t.exports=r["default"]},{"../utils/addEvent":153,"../utils/createElement":154,"../utils/isBlurred":155}],143:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("../utils/createElement"),u=n(c),h=e("./chat-flyout"),l=n(h),f=[{name:"rateLimitDuration",value:1,text:"1s"},{name:"rateLimitDuration",value:5,text:"5s"},{name:"rateLimitDuration",value:30,text:"30s"},{name:"rateLimitDuration",value:60,text:"1m"},{name:"rateLimitDuration",value:300,text:"5m"},{name:"rateLimitDuration",value:900,text:"15m"}],d=[{name:"rateLimitMax",value:1,text:"1 chat"},{name:"rateLimitMax",value:5,text:"5 chats"},{name:"rateLimitMax",value:10,text:"10 chats"}],p=[{name:"mode",value:"user",text:"Everyone"},{name:"mode",value:"moderator",text:"Moderators"},{name:"mode",value:"owner",text:"Owner"}],b=function(e){function t(e,r,n,a){i(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"admin",n("admin")));return s.parent=e,s.chat=r,s.localize=n,s.errorHandler=a,s.handleRadioChange=s.handleRadioChange.bind(s),s}return a(t,e),s(t,[{key:"initUser",value:function(){this.chat._roomname&&this.chat._me&&("moderator"===this.chat._me.room.role||"owner"===this.chat._me.room.role||"admin"===this.chat._me.room.role)&&(this.render(),this.enableFlyout())}},{key:"render",value:function(){var e=u.default({tagName:"div",className:"chat__info chat__info--mode",text:this.localize("Chat Mode")});this.flyout.appendChild(e),this.radioRenderer(p);var t=u.default({tagName:"div",className:"chat__description chat__description--mode",text:this.localize("The current mode of the room specifying which users can chat")});this.flyout.appendChild(t);var r=u.default({tagName:"div",className:"chat__info",text:this.localize("Chat Rate Limit")});this.flyout.appendChild(r),this.radioRenderer(d),this.radioRenderer(f);var n=u.default({tagName:"div",className:"chat__description",text:this.localize("Maximum amount of chats during time period")});this.flyout.appendChild(n)}},{key:"radioRenderer",value:function(e){for(var t=[],r=0;r<e.length;r++){var n=u.default({tagName:"input",className:"chat__radio",attributes:{type:"radio",name:e[r].name,value:e[r].value,id:e[r].name+r},events:{change:this.handleRadioChange}});this.chat._room[e[r].name]===e[r].value&&(n.checked="checked"),t.push(n);var i=u.default({tagName:"label",className:"chat__radio-label chat__radio-label--"+e.length,text:this.localize(e[r].text),attributes:{"for":e[r].name+r}});t.push(i)}var o=u.default({tagName:"div",className:"chat__radio-slider chat__radio-slider--"+e.length});t.push(o);var a=u.default({tagName:"div",className:"chat__radio-wrapper",childs:t}),s=u.default({tagName:"div",className:"chat__radio-container chat__radio-container--restricted chat__radio-container--"+e[0].name,childs:[a]});this.flyout.appendChild(s)}},{key:"handleRadioChange",value:function(e){var t=this,r={};r[e.target.name]=isNaN(e.target.value)?e.target.value:parseInt(e.target.value,10),this.chat.patchRoom(this.chat._roomname,r,function(e,r){e&&r&&r[0]&&t.errorHandler(e,r[0])})}}]),t}(l.default);r.default=b,t.exports=r["default"]},{"../utils/createElement":154,"./chat-flyout":147}],144:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("../utils/createElement"),s=n(a),c=e("../utils/addEvent"),u=n(c),h=e("./chat-actions-flyout"),l=n(h),f=function(){function e(t,r,n,o,a){var s=this;i(this,e),this.parent=t,this.chat=r,this.localize=n,this.errorHandler=o,this.options=a,this._chatLineQueue=[],this._currentChunk=this.buildChunkElement(),this._currentChunkSize=0,this._chunkView=[],this._chunkHistory=[],this._chunkStorage=[],this._scrollLocked=!0,this._scrollPaused=!1,this._scrollThrottleCount=0,this._scrollThrottleRate=100,this._scrollThrottleNewRate=!1,this.scrollToggle=this.scrollToggle.bind(this),this.scrollWheelHandler=this.scrollWheelHandler.bind(this),this.actionDelete=this.actionDelete.bind(this),this.actionMore=this.actionMore.bind(this),this.render(),this._queueProcess=setInterval(function(){s.queueProcessor()},100),setTimeout(function(){s._scrollThrottleCount=0,s._scrollThrottleInterval=setInterval(function(){s.scrollThrottleHandler()},2e3)},500),this._wheelListener1=u.default(this.chatBody,"DOMMouseScroll",this.scrollWheelHandler),this._wheelListener2=u.default(this.chatBody,"mousewheel",this.scrollWheelHandler),this._wheelListener3=u.default(this.chatBody,"wheel",this.scrollWheelHandler)}return o(e,[{key:"queueProcessor",value:function(){if(!this._scrollPaused){this._chatLineQueue.length&&this._scrollThrottleCount++;for(var e=document.createDocumentFragment();this._chatLineQueue.length&&this._currentChunkSize!==this.options.chunkSize;){var t=this._chatLineQueue.shift();e.appendChild(t),this._currentChunkSize++}if(this._currentChunk.appendChild(e),this._currentChunk.parentElement||this._chunkStorage.push(this._currentChunk),this._currentChunkSize===this.options.chunkSize&&(this._currentChunk=this.buildChunkElement(),this._currentChunksProcessed++,this._currentChunkSize=0),this._chatLineQueue.length)return this.queueProcessor(),void 0;for(var r=document.createDocumentFragment(),n=this._chunkStorage.splice(-Math.abs(this.options.chunkView));n.length;){var i=n.shift();r.appendChild(i),this._chunkView.push(i)}for(this.chatBody.appendChild(r);this._chunkView.length>this.options.chunkView;){var o=this._chunkView.shift();this.chatBody.removeChild(o),this._chunkHistory.unshift(o)}for(;this._chunkStorage.length;)this._chunkHistory.unshift(this._chunkStorage.shift());for(;this._chunkHistory>this.options.chunkHistory;)this._chunkHistory.shift();this.scrollBottom()}}},{key:"scrollThrottleHandler",value:function(){var e=this;switch(this._scrollThrottleNewRate&&(this._scrollThrottleNewRate=!1,this._scrollThrottleCount++),this._scrollThrottleRate){case 100:this._scrollThrottleCount>=10&&(this._scrollThrottleRate=200,this._scrollThrottleNewRate=!0,clearInterval(this._queueProcess),this._queueProcess=setInterval(function(){e.queueProcessor()},this._scrollThrottleRate));break;case 200:this._scrollThrottleCount>=10?(this._scrollThrottleRate=250,this._scrollThrottleNewRate=!0,clearInterval(this._queueProcess),this._queueProcess=setInterval(function(){e.queueProcessor()},this._scrollThrottleRate)):this._scrollThrottleCount<5&&(this._scrollThrottleRate=100,this._scrollThrottleNewRate=!0,clearInterval(this._queueProcess),this._queueProcess=setInterval(function(){e.queueProcessor()},this._scrollThrottleRate));break;default:this._scrollThrottleCount<8&&(this._scrollThrottleRate=200,this._scrollThrottleNewRate=!0,clearInterval(this._queueProcess),this._queueProcess=setInterval(function(){e.queueProcessor()},this._scrollThrottleRate))}this._scrollThrottleCount=0}},{key:"processChat",value:function(e){if(!e.ignore){var t=this.buildLineElement(),r=this.writeChatToLine(t,e);this._chatLineQueue.push(r)}}},{key:"processMessage",value:function(e){var t=this.buildLineElement(),r=this.writeMessageToLine(t,e);this._chatLineQueue.push(r)}},{key:"render",value:function(){this.chatBody=s.default({tagName:"div",className:"chat__body"}),this.chatBodyContainer=s.default({tagName:"div",className:"chat__body-container",childs:[this.chatBody]}),this.chatBodyScrollButton=s.default({tagName:"div",className:"chat__body-scroll",events:{click:this.scrollToggle}}),this.parent.appendChild(this.chatBodyContainer),this.parent.appendChild(this.chatBodyScrollButton)}},{key:"buildChunkElement",value:function(){return this._chunkElement?this._chunkElement.cloneNode():(this._chunkElement=s.default({tagName:"div",className:"chat__chunk"}),this._chunkElement.cloneNode(!0))}},{key:"buildLineElement",value:function(){if(this._lineElement)return this._lineElement.cloneNode(!0);var e=[],t=s.default({tagName:"div",className:"chat__avatar"});e.push(t);var r=s.default({tagName:"span",className:"chat__line-role"});e.push(r);var n=s.default({tagName:"span",className:"chat__username"});e.push(n);var i=s.default({tagName:"span",className:"chat__line-timestamp"});e.push(i);var o=s.default({tagName:"div",className:"chat__line-content"});e.push(o);var a=s.default({tagName:"button",className:"chat__action chat__action--delete",attributes:{"data-tooltip":"Delete Chat"}});e.push(a);var c=s.default({tagName:"button",className:"chat__action chat__action--more",attributes:{"data-tooltip":"More Actions"}});return e.push(c),this._lineElement=s.default({tagName:"div",className:"chat__line",childs:e}),this._lineElement.cloneNode(!0)}},{key:"writeChatToLine",value:function(e,t){var r=e,n=r.childNodes;return n[0].setAttribute("style","background-color: "+t.actor.color+"; background-image: url("+t.actor.avatar+");"),n[1].className="chat__line-role chat__line-role--"+t.actor.role,n[1].textContent=t.actor.role,n[2].setAttribute("style","color: "+t.actor.color),n[2].textContent=t.actor.username,n[3].textContent=this.formatDate(t.timestamp),n[4].innerHTML=this.parseChatText(t),r.className="chat__line"+(t.actor.username===this.chat._username?" chat__line--currentUser":""),r.setAttribute("data-username",t.actor.username),r.setAttribute("data-id",t.id),"moderator"===t.actor.role&&r.setAttribute("data-role",t.actor.role),t.url&&r.setAttribute("data-url",t.url),u.default(n[5],"click",this.actionDelete),u.default(n[6],"click",this.actionMore),r}},{key:"writeMessageToLine",value:function(e,t){var r=e,n=r.childNodes,i="";switch(t.level){case"warn":i="#EBC844";break;case"info":i="#1395BA";break;default:i="#D94E1F"}n[0].setAttribute("style","background-color: "+i+"; background-image: none;"),n[1].className="",n[1].textContent="",n[2].setAttribute("style","color: "+i),n[2].textContent=t.level,n[3].textContent="",n[4].innerHTML='<div class="chat__text">'+t.message+"</div>",r.className="chat__line chat__line--message chat__line--"+t.level;var o=function(e){e.parentElement.removeChild(e)}.bind(this,r);return u.default(n[5],"click",o),r}},{key:"formatDate",value:function(e){var t=new Date(1e3*e),r="0"+t.getMinutes(),n=t.getHours();return n%=12,n=n||12,n+":"+r.substr(-2)}},{key:"parseChatText",value:function(e){var t="<div class='chat__text'>",r=e.message,n=e.positions,i=0;for(var o in n){o=parseInt(o,10);var a=r.slice(i,o),s=r.slice(o,o+n[o].length);switch(i=o+n[o].length,a.length&&(t+=a),n[o].type){case"emoticon":this.chat&&this.chat._me&&this.chat._me.showGifs,t+="<span class='chat__line-emoticon-wrap' data-pattern='"+s+"'><img class='chat__line-emoticon' src='"+n[o].url+"'/></span>";break;case"mention":var c=this.chat._username===n[o].username?"chat__line-mention chat__line-mention--me":"chat__line-mention";t+="<a class='"+c+"' href='/"+n[o].url+"' target='_blank'>"+s+"</a>";break;case"tag":t+="<a class='chat__line-tag' href='/tag/"+n[o].text+"' target='_blank'>"+s+"</a>";break;default:t+="<a class='chat__line-link' href='"+n[o].href+"' target='_blank'>"+s+"</a>"}}return i<r.length&&(t+=r.slice(i)),t+="</div>"}},{key:"scrollToggle",value:function(){return this._scrollPaused?(this._scrollPaused=!1,this.chatBodyScrollButton.classList.remove("chat__body-scroll--paused"),void 0):(this._scrollPaused=!0,this.chatBodyScrollButton.classList.add("chat__body-scroll--paused"),void 0)}},{key:"scrollBottom",value:function(){this.chatBody.scrollTop=this.chatBody.scrollHeight}},{key:"scrollWheelHandler",value:function(){if(this.chatBody.scrollTop<=0&&this._scrollPaused&&this._chunkHistory.length){var e=this._chunkHistory.shift();return this.chatBody.insertBefore(e,this.chatBody.firstChild),this._chunkView.unshift(e),void 0}return Math.abs(this.chatBody.scrollTop-(this.chatBody.scrollHeight-this.chatBody.offsetHeight))<=5?(this._scrollPaused&&this.scrollToggle(),void 0):(this._scrollPaused||this.scrollToggle(),void 0)}},{key:"isMod",value:function(){return this.chat._me&&this.chat._me.room&&this.chat._me.room.role?"moderator"===this.chat._me.room.role:!1}},{key:"isAdmin",value:function(){return this.chat._me&&this.chat._me.room&&this.chat._me.room.role?"owner"===this.chat._me.room.role||"admin"===this.chat._me.room.role:!1}},{key:"actionDelete",value:function(e){var t=e.target.parentElement.getAttribute("data-id");this.chat.command("/delete "+t)}},{key:"actionMore",value:function(e){var t={username:e.target.parentElement.getAttribute("data-username"),id:e.target.parentElement.getAttribute("data-id"),url:e.target.parentElement.getAttribute("data-url"),role:e.target.parentElement.getAttribute("data-role")};return this.flyout&&!this.flyout._closed&&t.id===this.flyout.options.id?(this.flyout.close(),this.flyout=!1,void 0):(this.flyout=new l.default(e.target,this,this.localize,t),void 0)}},{key:"modActionHandler",value:function(e,t){var r=this;this.chat.command("/mod "+e,function(e,n){return e||n&&n[0]?(r.errorHandler(e,n[0]),void 0):(t&&t(),void 0)})}},{key:"unmodActionHandler",value:function(e,t){var r=this;this.chat.command("/unmod "+e,function(e,n){return e||n&&n[0]?(r.errorHandler(e,n[0]),void 0):(t&&t(),void 0)})}},{key:"muteActionHandler",value:function(e,t){var r=this;this.chat.command("/mute "+e,function(e,n){return e||n&&n[0]?(r.errorHandler(e,n[0]),void 0):(t&&t(),void 0)}),this.deleteByUsername(e)}},{key:"unmuteActionHandler",value:function(e,t){var r=this;this.chat.command("/unmute "+e,function(e,n){return e||n&&n[0]?(r.errorHandler(e,n[0]),void 0):(t&&t(),void 0)})}},{key:"ignoreActionHandler",value:function(e,t){var r=this;this.chat.command("/ignore "+e,function(e,n){return e||n&&n[0]?(r.errorHandler(e,n[0]),void 0):(t&&t(),void 0)}),this.deleteByUsername(e,!0)}},{key:"unignoreActionHandler",value:function(e,t){var r=this;this.chat.command("/unignore "+e,function(e,n){return e||n&&n[0]?(r.errorHandler(e,n[0]),void 0):(t&&t(),void 0)})}},{key:"banActionHandler",value:function(e,t){var r=this;this.chat.command("/ban "+e,function(e,n){return e||n&&n[0]?(r.errorHandler(e,n[0]),void 0):(t&&t(),void 0)}),this.deleteByUsername(e)}},{key:"unbanActionHandler",value:function(e,t){var r=this;this.chat.command("/unban "+e,function(e,n){return e||n&&n[0]?(r.errorHandler(e,n[0]),void 0):(t&&t(),void 0)})}},{key:"deleteById",value:function(e){for(var t=0;t<this._chunkView.length;t++)for(var r=this._chunkView[t].childNodes,n=0;n<r.length;n++)if(r[n].getAttribute("data-id")===e){if(this.isMod||this.isAdmin)return r[n].classList.add("chat__line--removed"),void 0;r[n].parentElement.removeChild(r[n])}}},{key:"deleteByUsername",value:function(e,t){for(var r=0;r<this._chunkView.length;r++)for(var n=this._chunkView[r].childNodes,i=0;i<n.length;i++)if(n[i].getAttribute("data-username")===e){if(t)return n[i].parentElement.removeChild(n[i]),void 0;
this.actionDelete(n[i].getAttribute("data-id"))}}},{key:"destroy",value:function(){this._wheelListener1(),this._wheelListener2(),this._wheelListener3()}}]),e}();r.default=f,t.exports=r["default"]},{"../utils/addEvent":153,"../utils/createElement":154,"./chat-actions-flyout":142}],145:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("../utils/createElement"),s=n(a),c=function(){function e(t){i(this,e),this.parent=t,this.render()}return o(e,[{key:"render",value:function(){this.el=s.default({tagName:"div",className:"chat__controls"}),this.parent.appendChild(this.el)}}]),e}();r.default=c,t.exports=r["default"]},{"../utils/createElement":154}],146:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("../utils/createElement"),u=n(c),h=e("./chat-flyout"),l=n(h),f=function(e){function t(e,r,n,a,s){i(this,t);var c=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"emoticons",a("emoticons")));return c.parent=e,c.chat=r,c.chatInput=n,c.localize=a,c.errorHandler=s,c}return a(t,e),s(t,[{key:"initUser",value:function(){this.enableFlyout()}},{key:"getEmoticons",value:function(){var e=this;this.chat.getAllEmoticons(this.chat._roomname,this.chat._username,function(t,r){t&&e.errorHandler(t,e.localize("Chat Error")),e.emoticons=r.emoticons,e.render()})}},{key:"firstToggleHandler",value:function(){this.getEmoticons()}},{key:"render",value:function(){var e=this;Object.keys(this.emoticons).map(function(t){var r=e.emoticons[t],n=u.default({tagName:"button",className:"chat__emoticon-selector",attributes:{style:"background-image: url("+r.source+")",title:r.pattern}}),i=u.default({tagName:"span",className:"chat__emoticon-selector-container",childs:[n]}),o=e.selectEmoticon.bind(e,r.pattern);return i.addEventListener("click",o),e.flyout.appendChild(i)}),this.parent.appendChild(this.flyout);var t=u.default({tagName:"a",className:"chat__attribution-link",text:"EmojiOne",attributes:{href:"http://emojione.com"}}),r=u.default({tagName:"div",className:"chat__attribution",text:"Emoji provided free by ",childs:[t]});this.flyout.appendChild(r)}},{key:"selectEmoticon",value:function(e){this.chatInput.chatInput.value=""+this.chatInput.chatInput.value+e+" ",this.chatInput.chatInput.focus(),this.toggleFlyout()}}]),t}(l.default);r.default=f,t.exports=r["default"]},{"../utils/createElement":154,"./chat-flyout":147}],147:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("../utils/isBlurred"),s=n(a),c=e("../utils/createElement"),u=n(c),h=e("../utils/addEvent"),l=n(h),f=function(){function e(t,r,n){i(this,e),this.parent=t,this.flyoutClassModifier=r,this.tooltipText=n,this._firstToggle=!0,this._toggleState=!1,this.toggleFlyout=this.toggleFlyout.bind(this),this.closeFlyoutOnBlur=this.closeFlyoutOnBlur.bind(this),this.flyoutRender()}return o(e,[{key:"flyoutRender",value:function(){var e=u.default({tagName:"span",className:"chat__tooltip chat__tooltip--"+this.flyoutClassModifier,text:this.tooltipText});this.flyoutButton=u.default({tagName:"button",className:"chat__flyout-button chat__flyout-button--"+this.flyoutClassModifier+" chat__flyout-button--disabled",childs:[e]}),this.parent.appendChild(this.flyoutButton),this.flyout=u.default({tagName:"div",className:"chat__flyout chat__flyout--"+this.flyoutClassModifier}),this.parent.parentElement.appendChild(this.flyout)}},{key:"enableFlyout",value:function(){this.flyoutButton.classList.remove("chat__flyout-button--disabled"),l.default(this.flyoutButton,"click",this.toggleFlyout)}},{key:"closeFlyoutOnBlur",value:function(e){s.default(e,this.flyout,this.flyoutButton)&&(this._blurEvent(),this._blurEventTouch(),this._blurEvent=null,this.flyout.classList.remove("chat__flyout--visible"))}},{key:"toggleFlyout",value:function(){this._firstToggle&&this.firstToggleHandler&&(this._firstToggle=!1,this.firstToggleHandler()),this.toggleStateHandler&&(this.toggleStateHandler(this._toggleState),this._toggleState=!this._toggleState),this.flyout.classList.toggle("chat__flyout--visible"),this._blurEvent||(this._blurEvent=l.default(document,"click",this.closeFlyoutOnBlur),this._blurEventTouch=l.default(document,"touchend",this.closeFlyoutOnBlur))}}]),e}();r.default=f,t.exports=r["default"]},{"../utils/addEvent":153,"../utils/createElement":154,"../utils/isBlurred":155}],148:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("../utils/createElement"),s=n(a),c=function(){function e(t,r,n,o,a){i(this,e),this.parent=t,this.chat=r,this.chatBody=n,this.localize=o,this.errorHandler=a,this.send=this.send.bind(this),this.render()}return o(e,[{key:"initUser",value:function(){this.chatInput.classList.remove("chat__input--disabled"),this.chatInput.removeAttribute("disabled"),this.chatInput.setAttribute("placeholder",this.localize("Send message")),this.chatSend.classList.remove("chat__input-send--disabled"),this.chatSend.removeAttribute("disabled")}},{key:"render",value:function(){var e=this;this.chatInput=s.default({tagName:"input",className:"chat__input chat__input--disabled",attributes:{placeholder:this.localize("Login to chat"),disabled:"disabled"}});var t=s.default({tagName:"span",className:"chat__tooltip chat__tooltip--send",text:this.localize("send")});this.chatSend=s.default({tagName:"button",className:"chat__flyout-button chat__input-send chat__input-send--disabled",attributes:{disabled:"disabled"},events:{click:this.send},childs:[t]}),this.chatInputWrapper=s.default({tagName:"div",className:"chat__input-wrapper",childs:[this.chatInput,this.chatSend]}),this.chatInput.addEventListener("keyup",function(t){t.preventDefault(),13===t.keyCode&&e.send()}),this.parent.appendChild(this.chatInputWrapper)}},{key:"send",value:function(){var e=this,t=this.chatInput.value;return null!==t.match(/^\s+$/)?(this.chatInput.value="",void 0):(t&&(this.chatInput.value="",this.chat.command(t,function(t,r){if(t)throw t;if(r&&r.length)for(var n=0;n<r.length;n++){if(r[n].data&&r[n].data.help){for(var i in r[n].data.help){var o=r[n].data.help[i];e.chatBody.processMessage({level:"info",message:"/"+o.name+" "+o.text})}return}e.chatBody.processMessage(r[n])}})),void 0)}}]),e}();r.default=c,t.exports=r["default"]},{"../utils/createElement":154}],149:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("../utils/createElement"),u=n(c),h=e("./chat-flyout"),l=n(h),f=function(e){function t(e,r,n,a){i(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"options",n("options")));return s.parent=e,s.chat=r,s.localize=n,s.errorHandler=a,s.showGifsHandler=s.showGifsHandler.bind(s),s.showTimestampsHandler=s.showTimestampsHandler.bind(s),s}return a(t,e),s(t,[{key:"initUser",value:function(){this.enableFlyout(),this.renderOptions()}},{key:"renderOptions",value:function(){var e=u.default({tagName:"div",className:"chat__options-switch-slider"}),t=u.default({tagName:"div",className:"chat__options-switch-name",text:this.localize("Show Animated Gifs")}),r=u.default({tagName:"input",className:"chat__options-switch-checkbox",attributes:{type:"checkbox",id:"showGifs"},events:{change:this.showGifsHandler}});this.chat._me.showGifs&&(r.checked=!0);var n=u.default({tagName:"label",className:"chat__options-switch",childs:[e],attributes:{"for":"showGifs"}}),i=u.default({tagName:"div",className:"chat__options-switch-container",childs:[r,n,t]}),o=u.default({tagName:"div",className:"chat__options-switch-slider"}),a=u.default({tagName:"div",className:"chat__options-switch-name",text:this.localize("Show Timestamps")}),s=u.default({tagName:"input",className:"chat__options-switch-checkbox",attributes:{type:"checkbox",id:"showTimestamps"},events:{change:this.showTimestampsHandler}});this.chat._me.showTimestamps&&(s.checked=!0);var c=u.default({tagName:"label",className:"chat__options-switch",childs:[o],attributes:{"for":"showTimestamps"}}),h=u.default({tagName:"div",className:"chat__options-switch-container",childs:[s,c,a]});this.flyout.appendChild(h),this.flyout.appendChild(i)}},{key:"showGifsHandler",value:function(e){var t=this,r={};r.showGifs=e.target.checked,this.chat.patchUser(this.chat._username,r,function(e,r){e&&r&&t.errorHandler(e,r[0])})}},{key:"showTimestampsHandler",value:function(e){var t=this,r={};r.showTimestamps=e.target.checked,this.chat.patchUser(this.chat._username,r,function(e,r){e&&r&&t.errorHandler(e,r[0])})}}]),t}(l.default);r.default=f,t.exports=r["default"]},{"../utils/createElement":154,"./chat-flyout":147}],150:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("../utils/createElement"),s=n(a),c=function(){function e(t,r,n){i(this,e),this.parent=t,this.onClick=r,this.localize=n,this.render()}return o(e,[{key:"render",value:function(){var e=s.default({tagName:"span",className:"chat__tooltip",text:this.localize("popout")});this.el=s.default({tagName:"button",className:"chat__flyout-button chat__flyout-button--popout",events:{click:this.onClick},childs:[e]}),this.parent.appendChild(this.el)}}]),e}();r.default=c,t.exports=r["default"]},{"../utils/createElement":154}],151:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("../utils/createElement"),u=n(c),h=e("./chat-flyout"),l=n(h),f=e("./chat-actions-flyout"),d=n(f),p=function(e){function t(e,r,n,a,s,c){i(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,"roster",a("roster")));return u.parent=e,u.chat=r,u.chatBody=n,u.localize=a,u.errorHandler=s,u.options=c,u.updateRoster=u.updateRoster.bind(u),u.cleanUpdateRoster=u.cleanUpdateRoster.bind(u),u.handleRadioChange=u.handleRadioChange.bind(u),u.loadMoreHandler=u.loadMoreHandler.bind(u),u.actionMore=u.actionMore.bind(u),u}return a(t,e),s(t,[{key:"initUser",value:function(){this.render(),this.roster=this.chat.getRoster({limit:this.options.rosterLimit,role:""}),this.enableFlyout()}},{key:"toggleStateHandler",value:function(e){e||this.roster.update(this.cleanUpdateRoster)}},{key:"render",value:function(){this.rosterRadioUser=u.default({tagName:"input",className:"chat__radio",attributes:{type:"radio",name:"rosterSort",value:"",checked:"checked",id:"rosterSortUser"},events:{change:this.handleRadioChange}}),this.rosterRadioModerator=u.default({tagName:"input",className:"chat__radio",attributes:{type:"radio",name:"rosterSort",value:"moderator",id:"rosterSortModerator"},events:{change:this.handleRadioChange}}),this.rosterRadioUserLabel=u.default({tagName:"label",className:"chat__radio-label",text:this.localize("Everyone"),attributes:{"for":"rosterSortUser"}}),this.rosterRadioModeratorLabel=u.default({tagName:"label",className:"chat__radio-label",text:this.localize("Moderators"),attributes:{"for":"rosterSortModerator"}}),this.rosterRadioWrapper=u.default({tagName:"div",className:"chat__radio-wrapper",childs:[this.rosterRadioUser,this.rosterRadioUserLabel,this.rosterRadioModerator,this.rosterRadioModeratorLabel]}),this.rosterRadioContainer=u.default({tagName:"div",className:"chat__radio-container chat__radio-container--sort",childs:[this.rosterRadioWrapper]}),this.rosterLoadMore=u.default({tagName:"button",className:"chat__roster-load-more",text:this.localize("Load More"),events:{click:this.loadMoreHandler}}),this.rosterContainer=u.default({tagName:"div",className:"chat__roster-container"}),this.rosterScrollContainer=u.default({tagName:"div",className:"chat__roster-scroll",childs:[this.rosterContainer,this.rosterLoadMore]}),this.flyout.appendChild(this.rosterRadioContainer),this.flyout.appendChild(this.rosterScrollContainer)}},{key:"handleRadioChange",value:function(e){var t={limit:this.options.rosterLimit};t.role=e.target.value,this.roster._options=t,this.roster.update(this.cleanUpdateRoster)}},{key:"loadMoreHandler",value:function(){this.roster.next(this.updateRoster)}},{key:"cleanUpdateRoster",value:function(e,t){for(;this.rosterContainer.firstChild;)this.rosterContainer.removeChild(this.rosterContainer.firstChild);this.updateRoster(e,t)}},{key:"updateRoster",value:function(e,t){if(e)return this.errorHandler(e,{message:this.localize("Error updating roster"),level:"error"}),void 0;for(var r=0;r<t.length;r++){var n=[];if("user"!==t[r].role){var i=u.default({tagName:"span",className:"chat__roster-role",text:t[r].role,attributes:{style:"background:"+t[r].roleColor}});n.push(i)}var o=u.default({tagName:"span",className:"chat__roster-actor",text:t[r].username});n.push(o);var a=u.default({tagName:"button",className:"chat__action chat__action--more chat__action--roster",attributes:{"data-tooltip":"More Actions"},events:{click:this.actionMore}});n.push(a);var s=u.default({tagName:"div",className:"chat__roster-actor-container",childs:n,attributes:{"data-username":t[r].username,"data-role":t[r].role}});this.rosterContainer.appendChild(s)}return this.roster._nextParams?(this.rosterLoadMore.classList.remove("chat__roster-load-more--disable"),void 0):(this.rosterLoadMore.classList.add("chat__roster-load-more--disable"),void 0)}},{key:"actionMore",value:function(e){var t={username:e.target.parentElement.getAttribute("data-username"),id:e.target.parentElement.getAttribute("data-username"),role:e.target.parentElement.getAttribute("data-role"),modifierClass:"chat__actions-flyout--roster"};return this.actionsFlyout&&!this.actionsFlyout._closed&&t.id===this.actionsFlyout.options.id?(this.actionsFlyout.close(),this.actionsFlyout=!1,void 0):(this.actionsFlyout=new d.default(e.target,this.chatBody,this.localize,t),void 0)}}]),t}(l.default);r.default=p,t.exports=r["default"]},{"../utils/createElement":154,"./chat-actions-flyout":142,"./chat-flyout":147}],152:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("@livelyvideo/chat-core/lib"),u=n(c),h=e("@livelyvideo/localization"),l=n(h);e("classlist-polyfill");var f=e("./components/chat-body"),d=n(f),p=e("./components/chat-emoticons"),b=n(p),_=e("./components/chat-input"),m=n(_),y=e("./components/chat-options"),g=n(y),v=e("./components/chat-roster"),w=n(v),k=e("./components/chat-admin"),E=n(k),x=e("./components/chat-controls"),S=n(x),T=e("./components/chat-popout"),A=n(T),C=e("./utils/popout"),B=n(C),O=e("./utils/createElement"),j=n(O),N={user:null,room:null,host:null,authUrl:null,popout:null,chunkHistory:20,chunkSize:10,chunkView:5,rosterLimit:100,locale:null,messages:null,debug:!1},R=function(){function e(t,r){i(this,e),this.options=a({},N,r);var n=new l.default(this.options.locale,this.options.messages);this.localize=n.localize.bind(n),this.errorHandler=this.errorHandler.bind(this),this.mount(t),this.init()}return s(e,[{key:"init",value:function(){this.chat=new u.default({room:this.options.room,host:this.options.host,wshost:this.options.wshost,insecure:this.options.insecure,roleHistory:this.options.roleHistory},{url:this.options.authUrl}),this.render(),this.initUnauthedUser()}},{key:"mount",value:function(e){switch("undefined"==typeof e?"undefined":o(e)){case"string":this.el=document.querySelector(e);break;case"object":this.el=e;break;default:console.warn(this.localize("Invalid Element"))}this.el.classList.add("chat")}},{key:"errorHandler",value:function(e,t){var r=void 0;r="object"===("undefined"==typeof t?"undefined":o(t))?t:{message:this.localize("Chat Error"),level:"error"},this.chatBody&&this.chatBody.processMessage(r),this.options.debug&&console.error(e,r)}},{key:"render",value:function(){var e=this;this.chatBody=new d.default(this.el,this.chat,this.localize,this.errorHandler,this.options),this.chatInput=new m.default(this.el,this.chat,this.chatBody,this.localize),this.chatEmoticons=new b.default(this.el,this.chat,this.chatInput,this.localize,this.errorHandler),this.chatControls=new S.default(this.el),this.options.popout&&(this.chatPopout=new A.default(this.chatControls.el,this.openPopout.bind(this),this.localize)),this.chatAdmin=new E.default(this.chatControls.el,this.chat,this.localize,this.errorHandler,this.options),this.chatRoster=new w.default(this.chatControls.el,this.chat,this.chatBody,this.localize,this.errorHandler,this.options),this.chatOptions=new g.default(this.chatControls.el,this.chat,this.localize,this.errorHandler),this.chat.on("chat",function(t){return e.chatBody.processChat(t)}),this.chat.once("room",function(t){e.chat._roomname=t.name}),this.chat.on("message",function(t){return e.chatBody.processMessage(t)}),this.chat.on("delete",function(t){return e.chatBody.deleteById(t.id)})}},{key:"initUnauthedUser",value:function(){var e=this;this.chat.on("error",function(t){return e.errorHandler(t)}),this.chat.once("me",function(t){return e.chat._username=t.username,t?(e.meHandler(t),e.initAuthedUser(t),void 0):(e.roleHandler({room:{role:"anon"}}),void 0)}),this.chat.once("history",function(t){if(t)for(var r=0;r<t.messages.length;r++)e.chatBody.processChat(t.messages[r])})}},{key:"initAuthedUser",value:function(e){var t=this;this.chatOptions.initUser(),this.chatEmoticons.initUser(),this.chatInput.initUser(),this.chatRoster.initUser(),this.chatAdmin.initUser(),this._currentRole=e.room.role,this.chat.on("me",function(e){return t.meHandler(e)})}},{key:"meHandler",value:function(e){this.roleHandler(e),e.showTimestamps?this.el.classList.add("chat--timestamps"):this.el.classList.remove("chat--timestamps")}},{key:"roleHandler",value:function(e){if(this._currentRole&&this._currentRole!==e.room.role){var t={};switch(t.level="info",this._currentRole){case"user":t.message=this.localize("You have been modded");break;default:t.message=this.localize("You have been unmodded")}this.chatBody.processMessage(t)}this._currentRole=e.room.role;var r="chat";this.chatBody.isMod()&&(r+=" chat--isMod"),this.chatBody.isAdmin()&&(r+=" chat--isAdmin"),this.el.className=r}},{key:"openPopout",value:function(){var e=this;this.popout=new B.default(this.options.popout,{width:340,height:640}),this._unmountClose=this.popout.on("close",function(){setTimeout(function(){e.popout&&e.popout.instance&&e.popout.instance.closed&&e.closePopout()},250)}),this.destroy(),this.renderNoPopout()}},{key:"closePopout",value:function(){this.popout&&(this.popout.close(),this.popout=null),this._unmountClose&&(this._unmountClose=null),this.destroyNoPopout(),this.init()}},{key:"renderNoPopout",value:function(){var e=j.default({tagName:"div",className:"chat__poppedout-text",text:"Your chat is popped out"});this._popoutEl=j.default({tagName:"div",className:"chat__poppedout",childs:[e]}),this.el.appendChild(this._popoutEl)}},{key:"destroyNoPopout",value:function(){this.el.removeChild(this._popoutEl)}},{key:"destroy",value:function(){for(this.chat.destroy(),this.chatBody.destroy(),this.el.className="chat";this.el.firstChild;)this.el.removeChild(this.el.firstChild)}}]),e}();r.default=R,t.exports=r["default"]},{"./components/chat-admin":143,"./components/chat-body":144,"./components/chat-controls":145,"./components/chat-emoticons":146,"./components/chat-input":148,"./components/chat-options":149,"./components/chat-popout":150,"./components/chat-roster":151,"./utils/createElement":154,"./utils/popout":156,"@livelyvideo/chat-core/lib":7,"@livelyvideo/localization":12,"classlist-polyfill":23}],153:[function(e,t,r){"use strict";function n(e,t,r){if(e.addEventListener){e.addEventListener(t,r);var n=function(){e.removeEventListener(t,r)};return n}e.attachEvent("on"+t,function(){r.call(e)});var i=function(){e.detachEvent("on"+t,function(){r.call(e)})};return i}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n,t.exports=r["default"]},{}],154:[function(e,t,r){"use strict";function n(e){var t=void 0,r=void 0,i=void 0;if(e.tagName){if(t=document.createElement(e.tagName),e.className&&(t.className=e.className),e.attributes)for(r in e.attributes)t.setAttribute(r,e.attributes[r]);void 0!==e.html&&(t.innerHTML=e.html)}else t=document.createDocumentFragment();if(e.text&&t.appendChild(document.createTextNode(e.text)),void 0===window.HTMLElement&&(window.HTMLElement=Element),e.childs&&e.childs.length)for(i=0;i<e.childs.length;i++)t.appendChild(e.childs[i]instanceof window.HTMLElement?e.childs[i]:n(e.childs[i]));if(e.events)for(var o in e.events)t.addEventListener(o,e.events[o]);return t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n,t.exports=r["default"]},{}],155:[function(e,t,r){"use strict";function n(e,t,r){for(var n=e.target;n&&n!==document.body;){if(n===t||n===r)return!1;n=n.parentNode}return!0}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n,t.exports=r["default"]},{}],156:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("events"),u={width:640,height:550,toolbar:!1,menubar:!1,location:!1,status:!1,scrollbars:!1,resizable:!0,left:0,top:0},h=function(e){function t(e,r){n(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!(o instanceof t)){var s;return s=new t(e,r),i(o,s)}o.options=a({},u,r);var c=o.getParamsString(r);return o.instance=window.open(e,Date.now(),c),setTimeout(function(){return o.onPopupLoad()}),setTimeout(function(){return o.onPopupLoad()},250),o}return o(t,e),s(t,[{key:"onBeforeUnload",value:function(e){var t=this;this.emit("close",e),setTimeout(function(){t.instance.closed||(t.instance.onbeforeunload=t.onBeforeUnload.bind(t))},250)}},{key:"close",value:function(){this.instance.close()}},{key:"onPopupLoad",value:function(){try{this.instance.isPopup=!0,this.instance.onbeforeunload=this.onBeforeUnload.bind(this)}catch(e){}}},{key:"getParamsString",value:function(e){var t=[];for(var r in e)t.push(r+"="+e[r]);return t=t.join(",")}}]),t}(c.EventEmitter);r.default=h,t.exports=r["default"]},{events:63}]},{},[152])(152)});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}]},{},[1]);
