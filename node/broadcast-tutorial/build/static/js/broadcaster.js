!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=260)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";e.exports=r(261)},function(e,t,r){e.exports=r(393)()},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t,r){var n=r(397);e.exports=function(e,t){if(null==e)return{};var r,o,a=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.sheetsManager=void 0;var o=n(r(8)),a=n(r(3)),i=n(r(9)),s=n(r(10)),u=n(r(11)),l=n(r(12)),c=n(r(13)),d=n(r(4)),f=n(r(1)),p=n(r(2)),h=(n(r(19)),n(r(88))),m=r(7),v=r(198),y=n(r(418)),g=n(r(204)),b=n(r(205)),_=n(r(432)),w=n(r(139)),k=n(r(140)),E=n(r(210)),P=n(r(443)),S=n(r(444)),x=(0,v.create)((0,g.default)()),T=(0,E.default)(),C=-1e11,O=new Map;t.sheetsManager=O;var R={},M=(0,w.default)({typography:{suppressWarning:!0}});m.ponyfillGlobal.__MUI_STYLES__||(m.ponyfillGlobal.__MUI_STYLES__={}),m.ponyfillGlobal.__MUI_STYLES__.withStyles||(m.ponyfillGlobal.__MUI_STYLES__.withStyles=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var n,m=t.withTheme,v=void 0!==m&&m,g=t.flip,w=void 0===g?null:g,E=t.name,D=(0,d.default)(t,["withTheme","flip","name"]),j=(0,P.default)(e),I=j.themingEnabled||"string"===typeof E||v;C+=1,j.options.index=C;var A=function(e){function t(e,r){var n;(0,i.default)(this,t),(n=(0,u.default)(this,(0,l.default)(t).call(this,e,r))).jss=r[y.default.jss]||x,n.sheetsManager=O,n.unsubscribeId=null;var o=r.muiThemeProviderOptions;return o&&(o.sheetsManager&&(n.sheetsManager=o.sheetsManager),n.sheetsCache=o.sheetsCache,n.disableStylesGeneration=o.disableStylesGeneration),n.stylesCreatorSaved=j,n.sheetOptions=(0,a.default)({generateClassName:T},r[y.default.sheetOptions]),n.theme=I?k.default.initial(r)||M:R,n.attach(n.theme),n.cacheClasses={value:null,lastProp:null,lastJSS:{}},n}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;I&&(this.unsubscribeId=k.default.subscribe(this.context,function(t){var r=e.theme;e.theme=t,e.attach(e.theme),e.setState({},function(){e.detach(r)})}))}},{key:"componentDidUpdate",value:function(){this.stylesCreatorSaved}},{key:"componentWillUnmount",value:function(){this.detach(this.theme),null!==this.unsubscribeId&&k.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"getClasses",value:function(){if(this.disableStylesGeneration)return this.props.classes||{};var e=!1,t=_.default.get(this.sheetsManager,this.stylesCreatorSaved,this.theme);return t.sheet.classes!==this.cacheClasses.lastJSS&&(this.cacheClasses.lastJSS=t.sheet.classes,e=!0),this.props.classes!==this.cacheClasses.lastProp&&(this.cacheClasses.lastProp=this.props.classes,e=!0),e&&(this.cacheClasses.value=(0,b.default)({baseClasses:this.cacheClasses.lastJSS,newClasses:this.props.classes,Component:r})),this.cacheClasses.value}},{key:"attach",value:function(e){if(!this.disableStylesGeneration){var t=this.stylesCreatorSaved,r=_.default.get(this.sheetsManager,t,e);if(r||(r={refs:0,sheet:null},_.default.set(this.sheetsManager,t,e,r)),0===r.refs){var n;this.sheetsCache&&(n=_.default.get(this.sheetsCache,t,e)),n||((n=this.createSheet(e)).attach(),this.sheetsCache&&_.default.set(this.sheetsCache,t,e,n)),r.sheet=n;var o=this.context[y.default.sheetsRegistry];o&&o.add(n)}r.refs+=1}}},{key:"createSheet",value:function(e){var t=this.stylesCreatorSaved.create(e,E),n=E;return this.jss.createStyleSheet(t,(0,a.default)({meta:n,classNamePrefix:n,flip:"boolean"===typeof w?w:"rtl"===e.direction,link:!1},this.sheetOptions,this.stylesCreatorSaved.options,{name:E||r.displayName},D))}},{key:"detach",value:function(e){if(!this.disableStylesGeneration){var t=_.default.get(this.sheetsManager,this.stylesCreatorSaved,e);if(t.refs-=1,0===t.refs){_.default.delete(this.sheetsManager,this.stylesCreatorSaved,e),this.jss.removeStyleSheet(t.sheet);var r=this.context[y.default.sheetsRegistry];r&&r.remove(t.sheet)}}}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.innerRef),n=(0,d.default)(e,["classes","innerRef"]),o=(0,S.default)({theme:this.theme,name:E,props:n});return v&&!o.theme&&(o.theme=this.theme),f.default.createElement(r,(0,a.default)({},o,{classes:this.getClasses(),ref:t}))}}]),t}(f.default.Component);return A.contextTypes=(0,a.default)((n={muiThemeProviderOptions:p.default.object},(0,o.default)(n,y.default.jss,p.default.object),(0,o.default)(n,y.default.sheetOptions,p.default.object),(0,o.default)(n,y.default.sheetsRegistry,p.default.object),n),I?k.default.contextTypes:{}),(0,h.default)(A,r),A}});t.default=function(e,t){return m.ponyfillGlobal.__MUI_STYLES__.withStyles(e,(0,a.default)({defaultTheme:M},t))}},function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)&&n.length){var i=o.apply(null,n);i&&e.push(i)}else if("object"===a)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}"undefined"!==typeof e&&e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){"use strict";r.r(t);var n=r(193),o=r.n(n);r.d(t,"componentPropType",function(){return o.a});var a=r(194),i=r.n(a);r.d(t,"chainPropTypes",function(){return i.a});var s=r(195),u=r.n(s);r.d(t,"exactProp",function(){return u.a});var l=r(196),c=r.n(l);r.d(t,"getDisplayName",function(){return c.a});var d=r(197),f=r.n(d);r.d(t,"ponyfillGlobal",function(){return f.a})},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){var n=r(65),o=r(79);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?o(e):t}},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t,r){var n=r(399);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(48),a=(n=o)&&n.__esModule?n:{default:n};t.default=a.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){},a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,a;return t=e,(r=[{key:"debug",get:function(){return o}},{key:"warn",get:function(){return o}},{key:"error",get:function(){return o}}])&&n(t.prototype,r),a&&n(t,a),e}();t.default=a},function(e,t){var r=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(51),a=(n=o)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){e.exports=r(268)},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.randomNumber=function(){return o()},t.clone=function(e){return JSON.parse(JSON.stringify(e))};var o=((n=r(338))&&n.__esModule?n:{default:n}).default.generator({min:1e7,max:99999999,integer:!0})},function(e,t,r){"use strict";var n,o="object"===typeof Reflect?Reflect:null,a=o&&"function"===typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"===typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var o,a,i,s;if("function"!==typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),i=a[t]),void 0===i)i=a[t]=r,++e._eventsCount;else if("function"===typeof i?i=a[t]=n?[r,i]:[i,r]:n?i.unshift(r):i.push(r),(o=l(e))>0&&i.length>o&&!i.warned){i.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=i.length,s=u,console&&console.warn&&console.warn(s)}return e}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,e))}.bind(n);return o.listener=r,n.wrapFn=o,o}function f(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"===typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):h(o,o.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function h(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var u=o[e];if(void 0===u)return!1;if("function"===typeof u)a(u,this,t);else{var l=u.length,c=h(u,l);for(r=0;r<l;++r)a(c[r],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,o,a,i;if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){i=r[a].listener,o=a;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,i||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(o=a[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=r(22),a=(n=r(15))&&n.__esModule?n:{default:n};function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=u(this,l(t).call(this))).setMaxListeners(1/0),r._logger=e||new a.default("EnhancedEventEmitter"),r}var r,n,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.EventEmitter),r=t,(n=[{key:"safeEmit",value:function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.emit.apply(this,[e].concat(r))}catch(o){this._logger.error("safeEmit() | event listener threw an error [event:%s]:%o",e,o)}}},{key:"safeEmitAsPromise",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return new Promise(function(r,o){t.safeEmit.apply(t,[e].concat(n,[function(e){r(e)},function(r){t._logger.error("safeEmitAsPromise() | errback called [event:%s]:%o",e,r),o(r)}]))})}}])&&s(r.prototype,n),i&&s(r,i),t}();t.default=d},function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(46),a=(n=o)&&n.__esModule?n:{default:n};t.default=function(e){return function(){var t=e.apply(this,arguments);return new a.default(function(e,r){return function n(o,i){try{var s=t[o](i),u=s.value}catch(l){return void r(l)}if(!s.done)return a.default.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}},function(e,t,r){e.exports={default:r(313),__esModule:!0}},function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(262)},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(118)("wks"),o=r(91),a=r(27).Symbol,i="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=i&&a[e]||(i?a:o)("Symbol."+e))}).store=n},function(e,t,r){"use strict";function n(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=function(){var e=i.value,n=(t.rtcpFeedback||[]).find(function(t){return t.type===e.type&&t.parameter===e.parameter});n&&r.push(n)},u=(e.rtcpFeedback||[])[Symbol.iterator]();!(n=(i=u.next()).done);n=!0)s()}catch(l){o=!0,a=l}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.getExtendedRtpCapabilities=function(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},o=!0,a=!1,i=void 0;try{for(var s,u=function(){var t=s.value;if("rtx"===t.name)return"continue";var o=(e.codecs||[]).find(function(e){return function(e,t){var r=e.mimeType.toLowerCase(),n=t.mimeType.toLowerCase();if(r!==n)return!1;if(e.clockRate!==t.clockRate)return!1;if(e.channels!==t.channels)return!1;if("video/h264"===r){var o=(e.parameters||{})["packetization-mode"]||0,a=(t.parameters||{})["packetization-mode"]||0;if(o!==a)return!1}return!0}(e,t)});if(o){var a={name:t.name,mimeType:t.mimeType,kind:t.kind,clockRate:t.clockRate,sendPayloadType:o.preferredPayloadType,sendRtxPayloadType:null,recvPayloadType:t.preferredPayloadType,recvRtxPayloadType:null,channels:t.channels,rtcpFeedback:n(o,t),parameters:t.parameters};a.channels||delete a.channels,r.codecs.push(a)}},l=(t.codecs||[])[Symbol.iterator]();!(o=(s=l.next()).done);o=!0)u()}catch(k){a=!0,i=k}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}var c=!0,d=!1,f=void 0;try{for(var p,h=function(){var r=p.value,n=(e.codecs||[]).find(function(e){return"rtx"===e.name&&e.parameters.apt===r.sendPayloadType}),o=(t.codecs||[]).find(function(e){return"rtx"===e.name&&e.parameters.apt===r.recvPayloadType});n&&o&&(r.sendRtxPayloadType=n.preferredPayloadType,r.recvRtxPayloadType=o.preferredPayloadType)},m=(r.codecs||[])[Symbol.iterator]();!(c=(p=m.next()).done);c=!0)h()}catch(k){d=!0,f=k}finally{try{c||null==m.return||m.return()}finally{if(d)throw f}}var v=!0,y=!1,g=void 0;try{for(var b,_=function(){var t=b.value,n=(e.headerExtensions||[]).find(function(e){return n=t,(!(r=e).kind||!n.kind||r.kind===n.kind)&&r.uri===n.uri;var r,n});if(n){var o={kind:t.kind,uri:t.uri,sendId:n.preferredId,recvId:t.preferredId};r.headerExtensions.push(o)}},w=(t.headerExtensions||[])[Symbol.iterator]();!(v=(b=w.next()).done);v=!0)_()}catch(k){y=!0,g=k}finally{try{v||null==w.return||w.return()}finally{if(y)throw g}}return r},t.getRtpCapabilities=function(e){var t={codecs:[],headerExtensions:[],fecMechanisms:[]},r=!0,n=!1,o=void 0;try{for(var a,i=e.codecs[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var s=a.value,u={name:s.name,mimeType:s.mimeType,kind:s.kind,clockRate:s.clockRate,preferredPayloadType:s.recvPayloadType,channels:s.channels,rtcpFeedback:s.rtcpFeedback,parameters:s.parameters};if(u.channels||delete u.channels,t.codecs.push(u),s.recvRtxPayloadType){var l={name:"rtx",mimeType:"".concat(s.kind,"/rtx"),kind:s.kind,clockRate:s.clockRate,preferredPayloadType:s.recvRtxPayloadType,parameters:{apt:s.recvPayloadType}};t.codecs.push(l)}}}catch(y){n=!0,o=y}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}var c=!0,d=!1,f=void 0;try{for(var p,h=e.headerExtensions[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=p.value,v={kind:m.kind,uri:m.uri,preferredId:m.recvId};t.headerExtensions.push(v)}}catch(y){d=!0,f=y}finally{try{c||null==h.return||h.return()}finally{if(d)throw f}}return t.fecMechanisms=e.fecMechanisms,t},t.getUnsupportedCodecs=function(e,t,r){if(!Array.isArray(t))return[];var n=[],o=e.codecs,a=r.codecs,i=!0,s=!1,u=void 0;try{for(var l,c=function(){var e=l.value;if(!a.some(function(t){return t.recvPayloadType===e})){var t=o.find(function(t){return t.preferredPayloadType===e});if(!t)throw new Error("mandatory codec PT ".concat(e," not found in remote codecs"));n.push(t)}},d=t[Symbol.iterator]();!(i=(l=d.next()).done);i=!0)c()}catch(f){s=!0,u=f}finally{try{i||null==d.return||d.return()}finally{if(s)throw u}}return n},t.canSend=function(e,t){return t.codecs.some(function(t){return t.kind===e})},t.canReceive=function(e,t){if(0===e.codecs.length)return!1;var r=e.codecs[0];return t.codecs.some(function(e){return e.recvPayloadType===r.payloadType})},t.getSendingRtpParameters=function(e,t){var r={muxId:null,codecs:[],headerExtensions:[],encodings:[],rtcp:{}},n=!0,o=!1,a=void 0;try{for(var i,s=t.codecs[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value;if(u.kind===e){var l={name:u.name,mimeType:u.mimeType,clockRate:u.clockRate,payloadType:u.sendPayloadType,channels:u.channels,rtcpFeedback:u.rtcpFeedback,parameters:u.parameters};if(l.channels||delete l.channels,r.codecs.push(l),u.sendRtxPayloadType){var c={name:"rtx",mimeType:"".concat(u.kind,"/rtx"),clockRate:u.clockRate,payloadType:u.sendRtxPayloadType,parameters:{apt:u.sendPayloadType}};r.codecs.push(c)}break}}}catch(g){o=!0,a=g}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}var d=!0,f=!1,p=void 0;try{for(var h,m=t.headerExtensions[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=h.value;if(!v.kind||v.kind===e){var y={uri:v.uri,id:v.sendId};r.headerExtensions.push(y)}}}catch(g){f=!0,p=g}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}return r},t.getReceivingFullRtpParameters=function(e,t){var r={muxId:null,codecs:[],headerExtensions:[],encodings:[],rtcp:{}},n=!0,o=!1,a=void 0;try{for(var i,s=t.codecs[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value;if(u.kind===e){var l={name:u.name,mimeType:u.mimeType,clockRate:u.clockRate,payloadType:u.recvPayloadType,channels:u.channels,rtcpFeedback:u.rtcpFeedback,parameters:u.parameters};if(l.channels||delete l.channels,r.codecs.push(l),u.recvRtxPayloadType){var c={name:"rtx",mimeType:"".concat(u.kind,"/rtx"),clockRate:u.clockRate,payloadType:u.recvRtxPayloadType,parameters:{apt:u.recvPayloadType}};r.codecs.push(c)}}}}catch(g){o=!0,a=g}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}var d=!0,f=!1,p=void 0;try{for(var h,m=t.headerExtensions[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var v=h.value;if(!v.kind||v.kind===e){var y={uri:v.uri,id:v.recvId};r.headerExtensions.push(y)}}}catch(g){f=!0,p=g}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}return r}},function(e,t,r){var n=r(336),o=r(337);t.write=o,t.parse=n.parse,t.parseFmtpConfig=n.parseFmtpConfig,t.parseParams=n.parseParams,t.parsePayloads=n.parsePayloads,t.parseRemoteCandidates=n.parseRemoteCandidates,t.parseImageAttributes=n.parseImageAttributes,t.parseSimulcastStreamList=n.parseSimulcastStreamList},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=n(r(231)),i=n(r(146));var s=function(e,t){var r=function(t){return o.default.createElement(i.default,t,e)};return r.displayName="".concat(t,"Icon"),(r=(0,a.default)(r)).muiName="SvgIcon",r};t.default=s},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(n){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){e.exports={default:r(322),__esModule:!0}},function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(121),a=(n=o)&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,a.default)(t))&&"function"!==typeof t?e:t}},function(e,t,r){"use strict";t.__esModule=!0;var n=i(r(95)),o=i(r(96)),a=i(r(121));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,a.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t,r){var n=r(27),o=r(16),a=r(57),i=r(49),s=r(50),u=function e(t,r,u){var l,c,d,f=t&e.F,p=t&e.G,h=t&e.S,m=t&e.P,v=t&e.B,y=t&e.W,g=p?o:o[r]||(o[r]={}),b=g.prototype,_=p?n:h?n[r]:(n[r]||{}).prototype;for(l in p&&(u=r),u)(c=!f&&_&&void 0!==_[l])&&s(g,l)||(d=c?_[l]:u[l],g[l]=p&&"function"!=typeof _[l]?u[l]:v&&c?a(d,n):y&&_[l]==d?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?a(Function.call,d):d,m&&((g.virtual||(g.virtual={}))[l]=d,t&e.R&&b&&!b[l]&&i(b,l,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractRtpCapabilities=function(e){var t=new Map,r=[],n=!1,a=!1,i=!0,s=!1,u=void 0;try{for(var l,c=e.media[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var d=l.value,f=d.type;switch(f){case"audio":if(n)continue;n=!0;break;case"video":if(a)continue;a=!0;break;default:continue}var p=!0,h=!1,m=void 0;try{for(var v,y=d.rtp[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var g=v.value,b={name:g.codec,mimeType:"".concat(f,"/").concat(g.codec),kind:f,clockRate:g.rate,preferredPayloadType:g.payload,channels:g.encoding,rtcpFeedback:[],parameters:{}};"audio"!==b.kind?delete b.channels:b.channels||(b.channels=1),t.set(b.preferredPayloadType,b)}}catch(z){h=!0,m=z}finally{try{p||null==y.return||y.return()}finally{if(h)throw m}}var _=!0,w=!1,k=void 0;try{for(var E,P=(d.fmtp||[])[Symbol.iterator]();!(_=(E=P.next()).done);_=!0){var S=E.value,x=o.default.parseFmtpConfig(S.config),T=t.get(S.payload);T&&(T.parameters=x)}}catch(z){w=!0,k=z}finally{try{_||null==P.return||P.return()}finally{if(w)throw k}}var C=!0,O=!1,R=void 0;try{for(var M,D=(d.rtcpFb||[])[Symbol.iterator]();!(C=(M=D.next()).done);C=!0){var j=M.value,I=t.get(j.payload);if(I){var A={type:j.type,parameter:j.subtype};A.parameter||delete A.parameter,I.rtcpFeedback.push(A)}}}catch(z){O=!0,R=z}finally{try{C||null==D.return||D.return()}finally{if(O)throw R}}var N=!0,L=!1,F=void 0;try{for(var U,B=(d.ext||[])[Symbol.iterator]();!(N=(U=B.next()).done);N=!0){var V=U.value,W={kind:f,uri:V.uri,preferredId:V.value};r.push(W)}}catch(z){L=!0,F=z}finally{try{N||null==B.return||B.return()}finally{if(L)throw F}}}}catch(z){s=!0,u=z}finally{try{i||null==c.return||c.return()}finally{if(s)throw u}}return{codecs:Array.from(t.values()),headerExtensions:r,fecMechanisms:[]}},t.extractDtlsParameters=function(e){var t,r=function(e){return(e.media||[]).find(function(e){return e.iceUfrag&&0!==e.port})}(e),n=r.fingerprint||e.fingerprint;switch(r.setup){case"active":t="client";break;case"passive":t="server";break;case"actpass":t="auto"}return{role:t,fingerprints:[{algorithm:n.type,value:n.hash}]}};var n,o=(n=r(30))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.capitalize=function(e){0;return e.charAt(0).toUpperCase()+e.slice(1)},t.contains=a,t.findIndex=i,t.find=function(e,t){var r=i(e,t);return r>-1?e[r]:void 0},t.createChainedFunction=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){return null==t?e:function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n),t.apply(this,n)}},function(){})};var o=n(r(65));n(r(19));function a(e,t){return Object.keys(t).every(function(r){return e.hasOwnProperty(r)&&e[r]===t[r]})}function i(e,t){for(var r=(0,o.default)(t),n=0;n<e.length;n+=1){if("function"===r&&!0===!!t(e[n],n,e))return n;if("object"===r&&a(e[n],t))return n;if(-1!==["string","number","boolean"].indexOf(r))return e.indexOf(t)}return-1}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createGenerateClassName",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"createMuiTheme",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"jssPreset",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"MuiThemeProvider",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"createStyles",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"withStyles",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"withTheme",{enumerable:!0,get:function(){return c.default}});var o=n(r(210)),a=n(r(139)),i=n(r(204)),s=n(r(530)),u=n(r(532)),l=n(r(5)),c=n(r(106))},function(e,t,r){var n=r(44);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){var n=r(40),o=r(160),a=r(113),i=Object.defineProperty;t.f=r(45)?Object.defineProperty:function(e,t,r){if(n(e),t=a(t,!0),n(r),o)try{return i(e,t,r)}catch(s){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errLog=void 0,t.throttledLog=function(e,t,r){if(!i[e]||Date.now()-i[e]>r){i[e]=Date.now();for(var n=arguments.length,o=Array(n>3?n-3:0),a=3;a<n;a++)o[a-3]=arguments[a];s[t].apply(s,[e].concat(o))}};var n=a(r(70)),o=a(r(364));function a(e){return e&&e.__esModule?e:{default:e}}t.errLog=function(e){return{errName:e&&e.name,errMessage:e&&e.message,errStack:e&&e.stack}};var i={};var s=new n.default({registerPackage:{name:o.default}});t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.ownerDocument||document};t.default=n},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,r){e.exports=!r(58)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){e.exports={default:r(294),__esModule:!0}},function(e,t,r){"use strict";r.r(t),r.d(t,"createStore",function(){return s}),r.d(t,"combineReducers",function(){return l}),r.d(t,"bindActionCreators",function(){return d}),r.d(t,"applyMiddleware",function(){return h}),r.d(t,"compose",function(){return p}),r.d(t,"__DO_NOT_USE__ActionTypes",function(){return a});var n=r(108),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function i(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,r){var o;if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error("Expected the enhancer to be a function.");return r(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var u=e,l=t,c=[],d=c,f=!1;function p(){d===c&&(d=c.slice())}function h(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function m(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return p(),d.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,p();var r=d.indexOf(e);d.splice(r,1)}}}function v(e){if(!i(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,l=u(l,e)}finally{f=!1}for(var t=c=d,r=0;r<t.length;r++){(0,t[r])()}return e}return v({type:a.INIT}),(o={dispatch:v,subscribe:m,getState:h,replaceReducer:function(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,v({type:a.REPLACE})}})[n.default]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(h())}return r(),{unsubscribe:t(r)}}})[n.default]=function(){return this},e},o}function u(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];0,"function"===typeof e[o]&&(r[o]=e[o])}var i,s=Object.keys(r);try{!function(e){Object.keys(e).forEach(function(t){var r=e[t];if("undefined"===typeof r(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof r(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(r)}catch(l){i=l}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var n=!1,o={},a=0;a<s.length;a++){var l=s[a],c=r[l],d=e[l],f=c(d,t);if("undefined"===typeof f){var p=u(l,t);throw new Error(p)}o[l]=f,n=n||f!==d}return n?o:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"===typeof e)return c(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),n={},o=0;o<r.length;o++){var a=r[o],i=e[a];"function"===typeof i&&(n[a]=c(i,t))}return n}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},a=t.map(function(e){return e(o)});return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){f(e,t,r[t])})}return e}({},r,{dispatch:n=p.apply(void 0,a)(r.dispatch)})}}}},function(e,t,r){e.exports={default:r(272),__esModule:!0}},function(e,t,r){var n=r(41),o=r(71);e.exports=r(45)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){e.exports={default:r(305),__esModule:!0}},function(e,t,r){var n;n=function(){var e=!0;function t(t){function r(e){var r=t.match(e);return r&&r.length>1&&r[1]||""}function n(e){var r=t.match(e);return r&&r.length>1&&r[2]||""}var o,i=r(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(t)&&/android/i.test(t),u=/nexus\s*[0-6]\s*/i.test(t),l=!u&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),d=/silk/i.test(t),f=/sailfish/i.test(t),p=/tizen/i.test(t),h=/(web|hpw)(o|0)s/i.test(t),m=/windows phone/i.test(t),v=(/SamsungBrowser/i.test(t),!m&&/windows/i.test(t)),y=!i&&!d&&/macintosh/i.test(t),g=!s&&!f&&!p&&!h&&/linux/i.test(t),b=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=r(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(t)&&!/tablet pc/i.test(t),k=!w&&/[^-]mobi/i.test(t),E=/xbox/i.test(t);/opera/i.test(t)?o={name:"Opera",opera:e,version:_||r(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?o={name:"Opera",opera:e,version:r(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(t)?o={name:"Samsung Internet for Android",samsungBrowser:e,version:_||r(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?o={name:"NAVER Whale browser",whale:e,version:r(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?o={name:"MZ Browser",mzbrowser:e,version:r(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?o={name:"Opera Coast",coast:e,version:_||r(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?o={name:"Focus",focus:e,version:r(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?o={name:"Yandex Browser",yandexbrowser:e,version:_||r(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?o={name:"UC Browser",ucbrowser:e,version:r(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?o={name:"Maxthon",maxthon:e,version:r(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?o={name:"Epiphany",epiphany:e,version:r(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?o={name:"Puffin",puffin:e,version:r(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?o={name:"Sleipnir",sleipnir:e,version:r(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?o={name:"K-Meleon",kMeleon:e,version:r(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(o={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(o.msedge=e,o.version=b):(o.msie=e,o.version=r(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?o={name:"Internet Explorer",msie:e,version:r(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?o={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?o={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(t)?o={name:"Vivaldi",vivaldi:e,version:r(/vivaldi\/(\d+(\.\d+)?)/i)||_}:f?o={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:r(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?o={name:"SeaMonkey",seamonkey:e,version:r(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(o={name:"Firefox",firefox:e,version:r(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(o.firefoxos=e,o.osname="Firefox OS")):d?o={name:"Amazon Silk",silk:e,version:r(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?o={name:"PhantomJS",phantom:e,version:r(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?o={name:"SlimerJS",slimer:e,version:r(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?o={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:_||r(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(o={name:"WebOS",osname:"WebOS",webos:e,version:_||r(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(o.touchpad=e)):/bada/i.test(t)?o={name:"Bada",osname:"Bada",bada:e,version:r(/dolfin\/(\d+(\.\d+)?)/i)}:p?o={name:"Tizen",osname:"Tizen",tizen:e,version:r(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(t)?o={name:"QupZilla",qupzilla:e,version:r(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(t)?o={name:"Chromium",chromium:e,version:r(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(t)?o={name:"Chrome",chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?o={name:"Android",version:_}:/safari|applewebkit/i.test(t)?(o={name:"Safari",safari:e},_&&(o.version=_)):i?(o={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},_&&(o.version=_)):o=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:r(/googlebot\/(\d+(\.\d+))/i)||_}:{name:r(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!o.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(o.name=o.name||"Blink",o.blink=e):(o.name=o.name||"Webkit",o.webkit=e),!o.version&&_&&(o.version=_)):!o.opera&&/gecko\//i.test(t)&&(o.name=o.name||"Gecko",o.gecko=e,o.version=o.version||r(/gecko\/(\d+(\.\d+)?)/i)),o.windowsphone||!s&&!o.silk?!o.windowsphone&&i?(o[i]=e,o.ios=e,o.osname="iOS"):y?(o.mac=e,o.osname="macOS"):E?(o.xbox=e,o.osname="Xbox"):v?(o.windows=e,o.osname="Windows"):g&&(o.linux=e,o.osname="Linux"):(o.android=e,o.osname="Android");var P="";o.windows?P=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(r(/Windows ((NT|XP)( \d\d?.\d)?)/i)):o.windowsphone?P=r(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):o.mac?P=(P=r(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):i?P=(P=r(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?P=r(/android[ \/-](\d+(\.\d+)*)/i):o.webos?P=r(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):o.blackberry?P=r(/rim\stablet\sos\s(\d+(\.\d+)*)/i):o.bada?P=r(/bada\/(\d+(\.\d+)*)/i):o.tizen&&(P=r(/tizen[\/\s](\d+(\.\d+)*)/i)),P&&(o.osversion=P);var S=!o.windows&&P.split(".")[0];return w||l||"ipad"==i||s&&(3==S||S>=4&&!k)||o.silk?o.tablet=e:(k||"iphone"==i||"ipod"==i||s||u||o.blackberry||o.webos||o.bada)&&(o.mobile=e),o.msedge||o.msie&&o.version>=10||o.yandexbrowser&&o.version>=15||o.vivaldi&&o.version>=1||o.chrome&&o.version>=20||o.samsungBrowser&&o.version>=4||o.whale&&1===a([o.version,"1.0"])||o.mzbrowser&&1===a([o.version,"6.0"])||o.focus&&1===a([o.version,"1.0"])||o.firefox&&o.version>=20||o.safari&&o.version>=6||o.opera&&o.version>=10||o.ios&&o.osversion&&o.osversion.split(".")[0]>=6||o.blackberry&&o.version>=10.1||o.chromium&&o.version>=20?o.a=e:o.msie&&o.version<10||o.chrome&&o.version<20||o.firefox&&o.version<20||o.safari&&o.version<6||o.opera&&o.version<10||o.ios&&o.osversion&&o.osversion.split(".")[0]<6||o.chromium&&o.version<20?o.c=e:o.x=e,o}var r=t("undefined"!==typeof navigator&&navigator.userAgent||"");function n(e){return e.split(".").length}function o(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r++)n.push(t(e[r]));return n}function a(e){for(var t=Math.max(n(e[0]),n(e[1])),r=o(e,function(e){var r=t-n(e);return o((e+=new Array(r+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--t>=0;){if(r[0][t]>r[1][t])return 1;if(r[0][t]!==r[1][t])return-1;if(0===t)return 0}}function i(e,n,o){var i=r;"string"===typeof n&&(o=n,n=void 0),void 0===n&&(n=!1),o&&(i=t(o));var s=""+i.version;for(var u in e)if(e.hasOwnProperty(u)&&i[u]){if("string"!==typeof e[u])throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(e));return a([s,e[u]])<0}return n}return r.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"===typeof n&&n in r)return!0}return!1},r.isUnsupportedBrowser=i,r.compareVersions=a,r.check=function(e,t,r){return!i(e,t,r)},r._detect=t,r.detect=t,r},"undefined"!=typeof e&&e.exports?e.exports=n():r(334)("bowser",n)},function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(51),a=(n=o)&&n.__esModule?n:{default:n};t.default=function(e,t,r){return t in e?(0,a.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.cloneElementWithClassName=i,t.cloneChildrenWithClassName=function(e,t){return o.default.Children.map(e,function(e){return o.default.isValidElement(e)&&i(e,t)})},t.isMuiElement=function(e,t){return o.default.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)},t.setRef=function(e,t){"function"===typeof e?e(t):e&&(e.current=t)};var o=n(r(1)),a=n(r(6));function i(e,t){return o.default.cloneElement(e,{className:(0,a.default)(e.props.className,t)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errLog=void 0,t.throttledLog=function(e,t,r){if(!i[e]||Date.now()-i[e]>r){i[e]=Date.now();for(var n=arguments.length,o=Array(n>3?n-3:0),a=3;a<n;a++)o[a-3]=arguments[a];s[t].apply(s,[e].concat(o))}};var n=a(r(70)),o=a(r(541));function a(e){return e&&e.__esModule?e:{default:e}}t.errLog=function(e){return{errName:e&&e.name,errMessage:e&&e.message,errStack:e&&e.stack}};var i={};var s=new n.default({registerPackage:{name:o.default}});t.default=s},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(482))},function(e,t,r){var n=r(90);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,r){var n=r(162),o=r(114);e.exports=function(e){return n(o(e))}},function(e,t){e.exports={}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t,r){var n;if(null!==r&&void 0!==r){if(r=String(r),!(n=(e.media||[]).find(function(e){return String(e.mid)===r})))throw new Error("SDP section with mid=".concat(r," not found"))}else if(!(n=(e.media||[]).find(function(e){return e.type===t.kind&&e.msid&&e.msid.split(" ")[1]===t.id})))throw new Error("SDP section with a=msid containing track.id=".concat(t.id," not found"));return n}Object.defineProperty(t,"__esModule",{value:!0}),t.fillRtpParametersForTrack=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=a.mid,s=void 0===i?null:i,u=a.planBSimulcast,l=void 0!==u&&u,c=o(t,r,s);null!==s&&void 0!==s&&(e.muxId=String(s));e.rtcp={cname:null,reducedSize:!0,mux:!0};var d=(c.ssrcs||[]).find(function(e){return"cname"===e.attribute});d&&(e.rtcp.cname=d.value);if(l){var f,p=new Set,h=!0,m=!1,v=void 0;try{for(var y,g=(c.ssrcs||[])[Symbol.iterator]();!(h=(y=g.next()).done);h=!0){var b=y.value;if("msid"===b.attribute){var _=b.id;p.add(_),f||(f=_)}}}catch(ie){m=!0,v=ie}finally{try{h||null==g.return||g.return()}finally{if(m)throw v}}if(0===p.size)throw new Error("no a=ssrc lines found");var w=new Map,k=!0,E=!1,P=void 0;try{for(var S,x=(c.ssrcGroups||[])[Symbol.iterator]();!(k=(S=x.next()).done);k=!0){var T=S.value;if("FID"===T.semantics){var C=T.ssrcs.split(/\s+/),O=n(C,2),R=O[0],M=O[1];R=Number(R),M=Number(M),p.has(R)&&(p.delete(R),p.delete(M),w.set(R,M))}}}catch(ie){E=!0,P=ie}finally{try{k||null==x.return||x.return()}finally{if(E)throw P}}var D=!0,j=!1,I=void 0;try{for(var A,N=p[Symbol.iterator]();!(D=(A=N.next()).done);D=!0){var L=A.value;w.set(L,null)}}catch(ie){j=!0,I=ie}finally{try{D||null==N.return||N.return()}finally{if(j)throw I}}e.encodings=[];var F=w.size>1,U=["low","medium","high"],B=!0,V=!1,W=void 0;try{for(var z,H=w[Symbol.iterator]();!(B=(z=H.next()).done);B=!0){var q=n(z.value,2),G=q[0],M=q[1],K={ssrc:G};M&&(K.rtx={ssrc:M}),F&&(K.profile=U.shift()),e.encodings.push(K)}}catch(ie){V=!0,W=ie}finally{try{B||null==H.return||H.return()}finally{if(V)throw W}}}else{var $=[],Y=!0,Q=!1,X=void 0;try{for(var J,Z=(c.rids||[])[Symbol.iterator]();!(Y=(J=Z.next()).done);Y=!0){var ee=J.value;"send"===ee.direction&&(/^l/.test(ee.id)?$.push({rid:ee.id,profile:"low"}):/^m/.test(ee.id)&&$.push({rid:ee.id,profile:"medium"}),/^h/.test(ee.id)&&$.push({rid:ee.id,profile:"high"}))}}catch(ie){Q=!0,X=ie}finally{try{Y||null==Z.return||Z.return()}finally{if(Q)throw X}}if(e.encodings=[],0===$.length){if(!d)throw new Error("CNAME value not found");var te={ssrc:d.id};e.encodings.push(te)}else for(var re=$,ne=0;ne<re.length;ne++){var oe=re[ne],ae={encodingId:oe.rid,profile:oe.profile};e.encodings.push(ae)}}},t.addPlanBSimulcast=function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).mid,n=o(e,t,void 0===r?null:r),a=(n.ssrcs||[]).find(function(e){return"msid"===e.attribute});if(!a)throw new Error("a=ssrc line with msid information not found");var i,s=a.id,u=a.value.split(" ")[0];(n.ssrcGroups||[]).some(function(e){if("FID"===e.semantics){var t=e.ssrcs.split(/\s+/);return Number(t[0])===s?(i=Number(t[1]),!0):void 0}});var l=n.ssrcs.find(function(e){return"cname"===e.attribute&&e.id===s});if(!l)throw new Error("CNAME line not found");var c=l.value,d=s+1,f=s+2;if(n.ssrcGroups=[],n.ssrcs=[],n.ssrcGroups.push({semantics:"SIM",ssrcs:"".concat(s," ").concat(d," ").concat(f)}),n.ssrcs.push({id:s,attribute:"cname",value:c}),n.ssrcs.push({id:s,attribute:"msid",value:"".concat(u," ").concat(t.id)}),n.ssrcs.push({id:d,attribute:"cname",value:c}),n.ssrcs.push({id:d,attribute:"msid",value:"".concat(u," ").concat(t.id)}),n.ssrcs.push({id:f,attribute:"cname",value:c}),n.ssrcs.push({id:f,attribute:"msid",value:"".concat(u," ").concat(t.id)}),i){var p=i+1,h=i+2;n.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(s," ").concat(i)}),n.ssrcs.push({id:i,attribute:"cname",value:c}),n.ssrcs.push({id:i,attribute:"msid",value:"".concat(u," ").concat(t.id)}),n.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(d," ").concat(p)}),n.ssrcs.push({id:p,attribute:"cname",value:c}),n.ssrcs.push({id:p,attribute:"msid",value:"".concat(u," ").concat(t.id)}),n.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(f," ").concat(h)}),n.ssrcs.push({id:h,attribute:"cname",value:c}),n.ssrcs.push({id:h,attribute:"msid",value:"".concat(u," ").concat(t.id)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(30)),o=i(r(15)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(21));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}var m=new o.default("RemoteUnifiedPlanSdp"),v=function(){function e(t){f(this,e),this._rtpParametersByKind=t,this._transportLocalParameters=null,this._transportRemoteParameters=null,this._sdpGlobalFields={id:a.randomNumber(),version:0}}return h(e,[{key:"setTransportLocalParameters",value:function(e){m.debug("setTransportLocalParameters() [transportLocalParameters:%o]",e),this._transportLocalParameters=e}},{key:"setTransportRemoteParameters",value:function(e){m.debug("setTransportRemoteParameters() [transportRemoteParameters:%o]",e),this._transportRemoteParameters=e}},{key:"updateTransportRemoteIceParameters",value:function(e){m.debug("updateTransportRemoteIceParameters() [remoteIceParameters:%o]",e),this._transportRemoteParameters.iceParameters=e}}]),e}(),y=function(e){function t(e){return f(this,t),u(this,l(t).call(this,e))}return c(t,v),h(t,[{key:"createAnswerSdp",value:function(e){if(m.debug("createAnswerSdp()"),!this._transportLocalParameters)throw new Error("no transport local parameters");if(!this._transportRemoteParameters)throw new Error("no transport remote parameters");var t=this._transportRemoteParameters.iceParameters,r=this._transportRemoteParameters.iceCandidates,o=this._transportRemoteParameters.dtlsParameters,a={},i=(e.media||[]).filter(function(e){return e.hasOwnProperty("mid")}).map(function(e){return String(e.mid)});this._sdpGlobalFields.version++,a.version=0,a.origin={address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:this._sdpGlobalFields.id,sessionVersion:this._sdpGlobalFields.version,username:"mediasoup-client"},a.name="-",a.timing={start:0,stop:0},a.icelite=t.iceLite?"ice-lite":null,a.msidSemantic={semantic:"WMS",token:"*"},i.length>0&&(a.groups=[{type:"BUNDLE",mids:i.join(" ")}]),a.media=[];var s=o.fingerprints.length;a.fingerprint={type:o.fingerprints[s-1].algorithm,hash:o.fingerprints[s-1].value};var u=!0,l=!1,c=void 0;try{for(var d,f=(e.media||[])[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value,h="inactive"===p.direction,v=p.type,y=this._rtpParametersByKind[v].codecs,g=this._rtpParametersByKind[v].headerExtensions,b={};b.type=p.type,b.port=7,b.protocol="RTP/SAVPF",b.connection={ip:"127.0.0.1",version:4},b.mid=p.mid,b.iceUfrag=t.usernameFragment,b.icePwd=t.password,b.candidates=[];var _=!0,w=!1,k=void 0;try{for(var E,P=r[Symbol.iterator]();!(_=(E=P.next()).done);_=!0){var S=E.value,x={component:1};x.foundation=S.foundation,x.ip=S.ip,x.port=S.port,x.priority=S.priority,x.transport=S.protocol,x.type=S.type,S.tcpType&&(x.tcptype=S.tcpType),b.candidates.push(x)}}catch(ue){w=!0,k=ue}finally{try{_||null==P.return||P.return()}finally{if(w)throw k}}switch(b.endOfCandidates="end-of-candidates",b.iceOptions="renomination",o.role){case"client":b.setup="active";break;case"server":b.setup="passive"}switch(p.direction){case"sendrecv":case"sendonly":b.direction="recvonly";break;case"recvonly":case"inactive":b.direction="inactive"}b.rtp=[],b.rtcpFb=[],b.fmtp=[];var T=!0,C=!1,O=void 0;try{for(var R,M=y[Symbol.iterator]();!(T=(R=M.next()).done);T=!0){var D=R.value,j={payload:D.payloadType,codec:D.name,rate:D.clockRate};if(D.channels>1&&(j.encoding=D.channels),b.rtp.push(j),D.parameters){for(var I={payload:D.payloadType,config:""},A=Object.keys(D.parameters),N=0;N<A.length;N++){var L=A[N];I.config&&(I.config+=";"),I.config+="".concat(L,"=").concat(D.parameters[L])}I.config&&b.fmtp.push(I)}if(D.rtcpFeedback){var F=!0,U=!1,B=void 0;try{for(var V,W=D.rtcpFeedback[Symbol.iterator]();!(F=(V=W.next()).done);F=!0){var z=V.value;b.rtcpFb.push({payload:D.payloadType,type:z.type,subtype:z.parameter||""})}}catch(ue){U=!0,B=ue}finally{try{F||null==W.return||W.return()}finally{if(U)throw B}}}}}catch(ue){C=!0,O=ue}finally{try{T||null==M.return||M.return()}finally{if(C)throw O}}if(b.payloads=y.map(function(e){return e.payloadType}).join(" "),!h){b.ext=[];var H=!0,q=!1,G=void 0;try{for(var K,$=function(){var e=K.value;if(!(p.ext||[]).find(function(t){return t.uri===e.uri}))return"continue";b.ext.push({uri:e.uri,value:e.id})},Y=g[Symbol.iterator]();!(H=(K=Y.next()).done);H=!0)$()}catch(ue){q=!0,G=ue}finally{try{H||null==Y.return||Y.return()}finally{if(q)throw G}}}if(p.simulcast_03){b.simulcast_03={value:p.simulcast_03.value.replace(/send/g,"recv")},b.rids=[];var Q=!0,X=!1,J=void 0;try{for(var Z,ee=(p.rids||[])[Symbol.iterator]();!(Q=(Z=ee.next()).done);Q=!0){var te=Z.value;"send"===te.direction&&b.rids.push({id:te.id,direction:"recv"})}}catch(ue){X=!0,J=ue}finally{try{Q||null==ee.return||ee.return()}finally{if(X)throw J}}}else if(p.simulcast){b.simulcast={dir1:p.simulcast.dir1.replace(/send/g,"recv"),list1:p.simulcast.list1},b.rids=[];var re=!0,ne=!1,oe=void 0;try{for(var ae,ie=(p.rids||[])[Symbol.iterator]();!(re=(ae=ie.next()).done);re=!0){var se=ae.value;"send"===se.direction&&b.rids.push({id:se.id,direction:"recv"})}}catch(ue){ne=!0,oe=ue}finally{try{re||null==ie.return||ie.return()}finally{if(ne)throw oe}}}b.rtcpMux="rtcp-mux",b.rtcpRsize="rtcp-rsize",a.media.push(b)}}catch(ue){l=!0,c=ue}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}return n.default.write(a)}}]),t}(),g=function(e){function t(e){return f(this,t),u(this,l(t).call(this,e))}return c(t,v),h(t,[{key:"createOfferSdp",value:function(e){if(m.debug("createOfferSdp()"),!this._transportRemoteParameters)throw new Error("no transport remote parameters");var t=this._transportRemoteParameters.iceParameters,r=this._transportRemoteParameters.iceCandidates,o=this._transportRemoteParameters.dtlsParameters,a={},i=e.map(function(e){return String(e.mid)});this._sdpGlobalFields.version++,a.version=0,a.origin={address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:this._sdpGlobalFields.id,sessionVersion:this._sdpGlobalFields.version,username:"mediasoup-client"},a.name="-",a.timing={start:0,stop:0},a.icelite=t.iceLite?"ice-lite":null,a.msidSemantic={semantic:"WMS",token:"*"},i.length>0&&(a.groups=[{type:"BUNDLE",mids:i.join(" ")}]),a.media=[];var s=o.fingerprints.length;a.fingerprint={type:o.fingerprints[s-1].algorithm,hash:o.fingerprints[s-1].value};var u=!0,l=!1,c=void 0;try{for(var d,f=e[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value,h=p.closed,v=p.kind,y=void 0,g=void 0;"application"!==p.kind&&(y=this._rtpParametersByKind[v].codecs,g=this._rtpParametersByKind[v].headerExtensions);var b={};"application"!==p.kind?(b.type=v,b.port=7,b.protocol="RTP/SAVPF",b.connection={ip:"127.0.0.1",version:4},b.mid=p.mid,b.msid="".concat(p.streamId," ").concat(p.trackId)):(b.type=v,b.port=9,b.protocol="DTLS/SCTP",b.connection={ip:"127.0.0.1",version:4},b.mid=p.mid),b.iceUfrag=t.usernameFragment,b.icePwd=t.password,b.candidates=[];var _=!0,w=!1,k=void 0;try{for(var E,P=r[Symbol.iterator]();!(_=(E=P.next()).done);_=!0){var S=E.value,x={component:1};x.foundation=S.foundation,x.ip=S.ip,x.port=S.port,x.priority=S.priority,x.transport=S.protocol,x.type=S.type,S.tcpType&&(x.tcptype=S.tcpType),b.candidates.push(x)}}catch(Q){w=!0,k=Q}finally{try{_||null==P.return||P.return()}finally{if(w)throw k}}if(b.endOfCandidates="end-of-candidates",b.iceOptions="renomination",b.setup="actpass","application"!==p.kind){b.direction=h?"inactive":"sendonly",b.rtp=[],b.rtcpFb=[],b.fmtp=[];var T=!0,C=!1,O=void 0;try{for(var R,M=y[Symbol.iterator]();!(T=(R=M.next()).done);T=!0){var D=R.value,j={payload:D.payloadType,codec:D.name,rate:D.clockRate};if(D.channels>1&&(j.encoding=D.channels),b.rtp.push(j),D.parameters){for(var I={payload:D.payloadType,config:""},A=Object.keys(D.parameters),N=0;N<A.length;N++){var L=A[N];I.config&&(I.config+=";"),I.config+="".concat(L,"=").concat(D.parameters[L])}I.config&&b.fmtp.push(I)}if(D.rtcpFeedback){var F=!0,U=!1,B=void 0;try{for(var V,W=D.rtcpFeedback[Symbol.iterator]();!(F=(V=W.next()).done);F=!0){var z=V.value;b.rtcpFb.push({payload:D.payloadType,type:z.type,subtype:z.parameter||""})}}catch(Q){U=!0,B=Q}finally{try{F||null==W.return||W.return()}finally{if(U)throw B}}}}}catch(Q){C=!0,O=Q}finally{try{T||null==M.return||M.return()}finally{if(C)throw O}}if(b.payloads=y.map(function(e){return e.payloadType}).join(" "),!h){b.ext=[];var H=!0,q=!1,G=void 0;try{for(var K,$=g[Symbol.iterator]();!(H=(K=$.next()).done);H=!0){var Y=K.value;"urn:ietf:params:rtp-hdrext:sdes:mid"!==Y.uri&&b.ext.push({uri:Y.uri,value:Y.id})}}catch(Q){q=!0,G=Q}finally{try{H||null==$.return||$.return()}finally{if(q)throw G}}}b.rtcpMux="rtcp-mux",b.rtcpRsize="rtcp-rsize",h||(b.ssrcs=[],b.ssrcGroups=[],b.ssrcs.push({id:p.ssrc,attribute:"cname",value:p.cname||"fakeit"}),p.rtxSsrc&&(b.ssrcs.push({id:p.rtxSsrc,attribute:"cname",value:p.cname||"fakeit"}),b.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(p.ssrc," ").concat(p.rtxSsrc)})))}else b.payloads=5e3,b.sctpmap={app:"webrtc-datachannel",maxMessageSize:256,sctpmapNumber:5e3};a.media.push(b)}}catch(Q){l=!0,c=Q}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}return n.default.write(a)}}]),t}();t.default=function e(t,r){switch(f(this,e),m.debug("constructor() [direction:%s, rtpParametersByKind:%o]",t,r),t){case"send":return new y(r);case"recv":return new g(r)}}},function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.fillRtpParametersForTrack=function(e,t,r){var o,a=r.kind,i={cname:null,reducedSize:!0,mux:!0},s=(t.media||[]).find(function(e){return e.type===a});if(!s)throw new Error("m=".concat(a," section not found"));var u=new Set,l=!0,c=!1,d=void 0;try{for(var f,p=(s.ssrcs||[])[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var h=f.value;if("msid"===h.attribute){var m=h.value.split(" ")[1];if(m===r.id){var v=h.id;u.add(v),o||(o=v)}}}}catch(q){c=!0,d=q}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}if(0===u.size)throw new Error("a=ssrc line not found for local track [track.id:".concat(r.id,"]"));var y=new Map,g=!0,b=!1,_=void 0;try{for(var w,k=(s.ssrcGroups||[])[Symbol.iterator]();!(g=(w=k.next()).done);g=!0){var E=w.value;if("FID"===E.semantics){var P=E.ssrcs.split(/\s+/),S=n(P,2),x=S[0],T=S[1];x=Number(x),T=Number(T),u.has(x)&&(u.delete(x),u.delete(T),y.set(x,T))}}}catch(q){b=!0,_=q}finally{try{g||null==k.return||k.return()}finally{if(b)throw _}}var C=!0,O=!1,R=void 0;try{for(var M,D=u[Symbol.iterator]();!(C=(M=D.next()).done);C=!0){var j=M.value;y.set(j,null)}}catch(q){O=!0,R=q}finally{try{C||null==D.return||D.return()}finally{if(O)throw R}}var I=s.ssrcs.find(function(e){return"cname"===e.attribute&&e.id===o});I&&(i.cname=I.value);e.rtcp=i,e.encodings=[];var A=y.size>1,N=["low","medium","high"],L=!0,F=!1,U=void 0;try{for(var B,V=y[Symbol.iterator]();!(L=(B=V.next()).done);L=!0){var W=n(B.value,2),z=W[0],T=W[1],H={ssrc:z};T&&(H.rtx={ssrc:T}),A&&(H.profile=N.shift()),e.encodings.push(H)}}catch(q){F=!0,U=q}finally{try{L||null==V.return||V.return()}finally{if(F)throw U}}},t.addSimulcastForTrack=function(e,t){var r,n,o,a=t.kind,i=(e.media||[]).find(function(e){return e.type===a});if(!i)throw new Error("m=".concat(a," section not found"));if(!(i.ssrcs||[]).find(function(e){if("msid"!==e.attribute)return!1;var n=e.value.split(" ")[1];return n===t.id?(r=e.id,o=e.value.split(" ")[0],!0):void 0}))throw new Error("a=ssrc line not found for local track [track.id:".concat(t.id,"]"));(i.ssrcGroups||[]).some(function(e){if("FID"===e.semantics){var t=e.ssrcs.split(/\s+/);return Number(t[0])===r?(n=Number(t[1]),!0):void 0}});var s=i.ssrcs.find(function(e){return"cname"===e.attribute&&e.id===r});if(!s)throw new Error("CNAME line not found for local track [track.id:".concat(t.id,"]"));var u=s.value,l=r+1,c=r+2;if(i.ssrcGroups=i.ssrcGroups||[],i.ssrcGroups.push({semantics:"SIM",ssrcs:"".concat(r," ").concat(l," ").concat(c)}),i.ssrcs.push({id:l,attribute:"cname",value:u}),i.ssrcs.push({id:l,attribute:"msid",value:"".concat(o," ").concat(t.id)}),i.ssrcs.push({id:c,attribute:"cname",value:u}),i.ssrcs.push({id:c,attribute:"msid",value:"".concat(o," ").concat(t.id)}),n){var d=n+1,f=n+2;i.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(l," ").concat(d)}),i.ssrcs.push({id:d,attribute:"cname",value:u}),i.ssrcs.push({id:d,attribute:"msid",value:"".concat(o," ").concat(t.id)}),i.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(c," ").concat(f)}),i.ssrcs.push({id:f,attribute:"cname",value:u}),i.ssrcs.push({id:f,attribute:"msid",value:"".concat(o," ").concat(t.id)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(30)),o=i(r(15)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(21));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}var m=new o.default("RemotePlanBSdp"),v=function(){function e(t){f(this,e),this._rtpParametersByKind=t,this._transportLocalParameters=null,this._transportRemoteParameters=null,this._sdpGlobalFields={id:a.randomNumber(),version:0}}return h(e,[{key:"setTransportLocalParameters",value:function(e){m.debug("setTransportLocalParameters() [transportLocalParameters:%o]",e),this._transportLocalParameters=e}},{key:"setTransportRemoteParameters",value:function(e){m.debug("setTransportRemoteParameters() [transportRemoteParameters:%o]",e),this._transportRemoteParameters=e}},{key:"updateTransportRemoteIceParameters",value:function(e){m.debug("updateTransportRemoteIceParameters() [remoteIceParameters:%o]",e),this._transportRemoteParameters.iceParameters=e}}]),e}(),y=function(e){function t(e){return f(this,t),u(this,l(t).call(this,e))}return c(t,v),h(t,[{key:"createAnswerSdp",value:function(e){if(m.debug("createAnswerSdp()"),!this._transportLocalParameters)throw new Error("no transport local parameters");if(!this._transportRemoteParameters)throw new Error("no transport remote parameters");var t=this._transportRemoteParameters.iceParameters,r=this._transportRemoteParameters.iceCandidates,o=this._transportRemoteParameters.dtlsParameters,a={},i=(e.media||[]).map(function(e){return String(e.mid)});this._sdpGlobalFields.version++,a.version=0,a.origin={address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:this._sdpGlobalFields.id,sessionVersion:this._sdpGlobalFields.version,username:"mediasoup-client"},a.name="-",a.timing={start:0,stop:0},a.icelite=t.iceLite?"ice-lite":null,a.msidSemantic={semantic:"WMS",token:"*"},a.groups=[{type:"BUNDLE",mids:i.join(" ")}],a.media=[];var s=o.fingerprints.length;a.fingerprint={type:o.fingerprints[s-1].algorithm,hash:o.fingerprints[s-1].value};var u=!0,l=!1,c=void 0;try{for(var d,f=(e.media||[])[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value,h=p.type,v=this._rtpParametersByKind[h].codecs,y=this._rtpParametersByKind[h].headerExtensions,g={};g.type=p.type,g.port=7,g.protocol="RTP/SAVPF",g.connection={ip:"127.0.0.1",version:4},g.mid=p.mid,g.iceUfrag=t.usernameFragment,g.icePwd=t.password,g.candidates=[];var b=!0,_=!1,w=void 0;try{for(var k,E=r[Symbol.iterator]();!(b=(k=E.next()).done);b=!0){var P=k.value,S={component:1};S.foundation=P.foundation,S.ip=P.ip,S.port=P.port,S.priority=P.priority,S.transport=P.protocol,S.type=P.type,P.tcpType&&(S.tcptype=P.tcpType),g.candidates.push(S)}}catch(Y){_=!0,w=Y}finally{try{b||null==E.return||E.return()}finally{if(_)throw w}}switch(g.endOfCandidates="end-of-candidates",g.iceOptions="renomination",o.role){case"client":g.setup="active";break;case"server":g.setup="passive"}switch(p.direction){case"sendrecv":case"sendonly":g.direction="recvonly";break;case"recvonly":case"inactive":g.direction="inactive"}"video"===h&&(g.xGoogleFlag="conference"),g.rtp=[],g.rtcpFb=[],g.fmtp=[];var x=!0,T=!1,C=void 0;try{for(var O,R=v[Symbol.iterator]();!(x=(O=R.next()).done);x=!0){var M=O.value,D={payload:M.payloadType,codec:M.name,rate:M.clockRate};if(M.channels>1&&(D.encoding=M.channels),g.rtp.push(D),M.parameters){for(var j={payload:M.payloadType,config:""},I=Object.keys(M.parameters),A=0;A<I.length;A++){var N=I[A];j.config&&(j.config+=";"),j.config+="".concat(N,"=").concat(M.parameters[N])}j.config&&g.fmtp.push(j)}if(M.rtcpFeedback){var L=!0,F=!1,U=void 0;try{for(var B,V=M.rtcpFeedback[Symbol.iterator]();!(L=(B=V.next()).done);L=!0){var W=B.value;g.rtcpFb.push({payload:M.payloadType,type:W.type,subtype:W.parameter||""})}}catch(Y){F=!0,U=Y}finally{try{L||null==V.return||V.return()}finally{if(F)throw U}}}}}catch(Y){T=!0,C=Y}finally{try{x||null==R.return||R.return()}finally{if(T)throw C}}g.payloads=v.map(function(e){return e.payloadType}).join(" "),g.ext=[];var z=!0,H=!1,q=void 0;try{for(var G,K=function(){var e=G.value;if(!(p.ext||[]).find(function(t){return t.uri===e.uri}))return"continue";g.ext.push({uri:e.uri,value:e.id})},$=y[Symbol.iterator]();!(z=(G=$.next()).done);z=!0)K()}catch(Y){H=!0,q=Y}finally{try{z||null==$.return||$.return()}finally{if(H)throw q}}g.rtcpMux="rtcp-mux",g.rtcpRsize="rtcp-rsize",a.media.push(g)}}catch(Y){l=!0,c=Y}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}return n.default.write(a)}}]),t}(),g=function(e){function t(e){return f(this,t),u(this,l(t).call(this,e))}return c(t,v),h(t,[{key:"createOfferSdp",value:function(e,t){var r=this;if(m.debug("createOfferSdp()"),!this._transportRemoteParameters)throw new Error("no transport remote parameters");var o=this._transportRemoteParameters.iceParameters,a=this._transportRemoteParameters.iceCandidates,i=this._transportRemoteParameters.dtlsParameters,s={},u=e;this._sdpGlobalFields.version++,s.version=0,s.origin={address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:this._sdpGlobalFields.id,sessionVersion:this._sdpGlobalFields.version,username:"mediasoup-client"},s.name="-",s.timing={start:0,stop:0},s.icelite=o.iceLite?"ice-lite":null,s.msidSemantic={semantic:"WMS",token:"*"},s.groups=[{type:"BUNDLE",mids:u.join(" ")}],s.media=[];var l=i.fingerprints.length;s.fingerprint={type:i.fingerprints[l-1].algorithm,hash:i.fingerprints[l-1].value};var c=!0,d=!1,f=void 0;try{for(var p,h=function(){var e=p.value,n=r._rtpParametersByKind[e].codecs,i=r._rtpParametersByKind[e].headerExtensions,u={};u.type=e,u.port=7,u.protocol="RTP/SAVPF",u.connection={ip:"127.0.0.1",version:4},u.mid=e,u.iceUfrag=o.usernameFragment,u.icePwd=o.password,u.candidates=[];var l=!0,c=!1,d=void 0;try{for(var f,h=a[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var m=f.value,v={component:1};v.foundation=m.foundation,v.ip=m.ip,v.port=m.port,v.priority=m.priority,v.transport=m.protocol,v.type=m.type,m.tcpType&&(v.tcptype=m.tcpType),u.candidates.push(v)}}catch(G){c=!0,d=G}finally{try{l||null==h.return||h.return()}finally{if(c)throw d}}u.endOfCandidates="end-of-candidates",u.iceOptions="renomination",u.setup="actpass",t.some(function(t){return t.kind===e})?u.direction="sendonly":u.direction="inactive",u.rtp=[],u.rtcpFb=[],u.fmtp=[];var y=!0,g=!1,b=void 0;try{for(var _,w=n[Symbol.iterator]();!(y=(_=w.next()).done);y=!0){var k=_.value,E={payload:k.payloadType,codec:k.name,rate:k.clockRate};if(k.channels>1&&(E.encoding=k.channels),u.rtp.push(E),k.parameters){for(var P={payload:k.payloadType,config:""},S=Object.keys(k.parameters),x=0;x<S.length;x++){var T=S[x];P.config&&(P.config+=";"),P.config+="".concat(T,"=").concat(k.parameters[T])}P.config&&u.fmtp.push(P)}if(k.rtcpFeedback){var C=!0,O=!1,R=void 0;try{for(var M,D=k.rtcpFeedback[Symbol.iterator]();!(C=(M=D.next()).done);C=!0){var j=M.value;u.rtcpFb.push({payload:k.payloadType,type:j.type,subtype:j.parameter||""})}}catch(G){O=!0,R=G}finally{try{C||null==D.return||D.return()}finally{if(O)throw R}}}}}catch(G){g=!0,b=G}finally{try{y||null==w.return||w.return()}finally{if(g)throw b}}u.payloads=n.map(function(e){return e.payloadType}).join(" "),u.ext=[];var I=!0,A=!1,N=void 0;try{for(var L,F=i[Symbol.iterator]();!(I=(L=F.next()).done);I=!0){var U=L.value;"urn:ietf:params:rtp-hdrext:sdes:mid"!==U.uri&&u.ext.push({uri:U.uri,value:U.id})}}catch(G){A=!0,N=G}finally{try{I||null==F.return||F.return()}finally{if(A)throw N}}u.rtcpMux="rtcp-mux",u.rtcpRsize="rtcp-rsize",u.ssrcs=[],u.ssrcGroups=[];var B=!0,V=!1,W=void 0;try{for(var z,H=t[Symbol.iterator]();!(B=(z=H.next()).done);B=!0){var q=z.value;q.kind===e&&(u.ssrcs.push({id:q.ssrc,attribute:"msid",value:"".concat(q.streamId," ").concat(q.trackId)}),u.ssrcs.push({id:q.ssrc,attribute:"mslabel",value:q.streamId}),u.ssrcs.push({id:q.ssrc,attribute:"label",value:q.trackId}),u.ssrcs.push({id:q.ssrc,attribute:"cname",value:q.cname}),q.rtxSsrc&&(u.ssrcs.push({id:q.rtxSsrc,attribute:"msid",value:"".concat(q.streamId," ").concat(q.trackId)}),u.ssrcs.push({id:q.rtxSsrc,attribute:"mslabel",value:q.streamId}),u.ssrcs.push({id:q.rtxSsrc,attribute:"label",value:q.trackId}),u.ssrcs.push({id:q.rtxSsrc,attribute:"cname",value:q.cname}),u.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(q.ssrc," ").concat(q.rtxSsrc)})))}}catch(G){V=!0,W=G}finally{try{B||null==H.return||H.return()}finally{if(V)throw W}}s.media.push(u)},v=e[Symbol.iterator]();!(c=(p=v.next()).done);c=!0)h()}catch(y){d=!0,f=y}finally{try{c||null==v.return||v.return()}finally{if(d)throw f}}return n.default.write(s)}}]),t}();t.default=function e(t,r){switch(f(this,e),m.debug("constructor() [direction:%s, rtpParametersByKind:%o]",t,r),t){case"send":return new y(r);case"recv":return new g(r)}}},function(e,t){function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=n=function(e){return r(e)}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},n(t)}e.exports=n},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=l(r(66)),s=l(r(136)),u=l(r(98));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="style",this.isProcessed=!1;var o=n.sheet,a=n.Renderer,i=n.selector;this.key=t,this.options=n,this.style=r,i&&(this.selectorText=i),this.renderer=o?o.renderer:new a}return a(e,[{key:"prop",value:function(e,t){if(void 0===t)return this.style[e];if(this.style[e]===t)return this;var r=null==(t=this.options.jss.plugins.onChangeValue(t,e,this))||!1===t,n=e in this.style;if(r&&!n)return this;var o=r&&n;if(o?delete this.style[e]:this.style[e]=t,this.renderable)return o?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,t),this;var a=this.options.sheet;return a&&a.attached&&(0,i.default)(!1,'Rule is not linked. Missing sheet option "link: true".'),this}},{key:"applyTo",value:function(e){var t=this.toJSON();for(var r in t)this.renderer.setProperty(e,r,t[r]);return this}},{key:"toJSON",value:function(){var e={};for(var t in this.style){var r=this.style[t];"object"!==("undefined"===typeof r?"undefined":o(r))?e[t]=r:Array.isArray(r)&&(e[t]=(0,u.default)(r))}return e}},{key:"toString",value:function(e){var t=this.options.sheet,r=!!t&&t.options.link?n({},e,{allowEmpty:!0}):e;return(0,s.default)(this.selector,this.style,r)}},{key:"selector",set:function(e){if(e!==this.selectorText&&(this.selectorText=e,this.renderable&&!this.renderer.setSelector(this.renderable,e)&&this.renderable)){var t=this.renderer.replaceRule(this.renderable,this);t&&(this.renderable=t)}},get:function(){return this.selectorText}}]),e}();t.default=c},function(e,t,r){"use strict";e.exports=r(549)},function(e,t,r){e.exports=r(550)()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerHttpWriter=void 0,r(360),r(363);var n=a(r(179)),o=a(r(131));function a(e){return e&&e.__esModule?e:{default:e}}t.LoggerHttpWriter=o.default,t.default=n.default},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(161),o=r(119);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,r){var n=r(114);e.exports=function(e){return Object(n(e))}},function(e,t,r){e.exports={default:r(277),__esModule:!0}},function(e,t,r){"use strict";var n=r(280)(!0);r(163)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?i(e):t}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function u(e){var t="function"===typeof Map?new Map:void 0;return(u=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return l(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)})(e)}function l(e,t,r){return(l=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&c(o,r.prototype),o}).apply(null,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedError=t.TimeoutError=t.InvalidStateError=void 0;var f=function(e){function t(e){var r;return o(this,t),(r=a(this,d(t).call(this,e))).name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(i(r),t):r.stack=new Error(e).stack,r}return s(t,u(Error)),t}();t.InvalidStateError=f;var p=function(e){function t(e){var r;return o(this,t),(r=a(this,d(t).call(this,e))).name="TimeoutError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(i(r),t):r.stack=new Error(e).stack,r}return s(t,u(Error)),t}();t.TimeoutError=p;var h=function(e){function t(e,r){var n;return o(this,t),(n=a(this,d(t).call(this,e))).name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(i(n),t):n.stack=new Error(e).stack,n.data=r,n}return s(t,u(Error)),t}();t.UnsupportedError=h},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=l(r(99)),i=l(r(201)),s=l(r(67)),u=l(r(404));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map={},this.raw={},this.index=[],this.update=function(e,t){var n=r.options,o=n.jss.plugins,a=n.sheet;if("string"===typeof e)o.onUpdate(t,r.get(e),a);else for(var i=0;i<r.index.length;i++)o.onUpdate(e,r.index[i],a)},this.options=t,this.classes=t.classes}return o(e,[{key:"add",value:function(e,t,r){var o=this.options,i=o.parent,l=o.sheet,c=o.jss,d=o.Renderer,f=o.generateClassName;!(r=n({classes:this.classes,parent:i,sheet:l,jss:c,Renderer:d,generateClassName:f},r)).selector&&this.classes[e]&&(r.selector="."+(0,u.default)(this.classes[e])),this.raw[e]=t;var p=(0,a.default)(e,t,r),h=void 0;!r.selector&&p instanceof s.default&&(h=f(p,l),p.selector="."+(0,u.default)(h)),this.register(p,h);var m=void 0===r.index?this.index.length:r.index;return this.index.splice(m,0,p),p}},{key:"get",value:function(e){return this.map[e]}},{key:"remove",value:function(e){this.unregister(e),this.index.splice(this.indexOf(e),1)}},{key:"indexOf",value:function(e){return this.index.indexOf(e)}},{key:"process",value:function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)}},{key:"register",value:function(e,t){this.map[e.key]=e,e instanceof s.default&&(this.map[e.selector]=e,t&&(this.classes[e.key]=t))}},{key:"unregister",value:function(e){delete this.map[e.key],e instanceof s.default&&(delete this.map[e.selector],delete this.classes[e.key])}},{key:"link",value:function(e){for(var t=this.options.sheet.renderer.getUnescapedKeysMap(this.index),r=0;r<e.length;r++){var n=e[r],o=this.options.sheet.renderer.getKey(n);t[o]&&(o=t[o]);var a=this.map[o];a&&(0,i.default)(a,n)}}},{key:"toString",value:function(e){for(var t="",r=this.options.sheet,n=!!r&&r.options.link,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||n)&&(t&&(t+="\n"),t+=a)}return t}}]),e}();t.default=c},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.convertHexToRGB=a,t.rgbToHex=function(e){if(0===e.indexOf("#"))return e;var t=i(e).values;return t=t.map(function(e){return function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t}(e)}),"#".concat(t.join(""))},t.decomposeColor=i,t.recomposeColor=s,t.getContrastRatio=function(e,t){var r=u(e),n=u(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)},t.getLuminance=u,t.emphasize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return u(e)>.5?l(e,t):c(e,t)},t.fade=function(e,t){if(!e)return e;e=i(e),t=o(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a");return e.values[3]=t,s(e)},t.darken=l,t.lighten=c;n(r(19));function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e<t?t:e>r?r:e}function a(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),r=e.match(t);return r&&1===r[0].length&&(r=r.map(function(e){return e+e})),r?"rgb(".concat(r.map(function(e){return parseInt(e,16)}).join(", "),")"):""}function i(e){if("#"===e.charAt(0))return i(a(e));var t=e.indexOf("("),r=e.substring(0,t),n=e.substring(t+1,e.length-1).split(",");return{type:r,values:n=n.map(function(e){return parseFloat(e)})}}function s(e){var t=e.type,r=e.values;return-1!==t.indexOf("rgb")&&(r=r.map(function(e,t){return t<3?parseInt(e,10):e})),-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),"".concat(e.type,"(").concat(r.join(", "),")")}function u(e){var t=i(e);if(-1!==t.type.indexOf("rgb")){var r=t.values.map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return Number((.2126*r[0]+.7152*r[1]+.0722*r[2]).toFixed(3))}return t.values[2]/100}function l(e,t){if(!e)return e;if(e=i(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]*=1-t;return s(e)}function c(e,t){if(!e)return e;if(e=i(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;return s(e)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isNumber=t.isString=t.formatMs=t.duration=t.easing=void 0;var o=n(r(4)),a=(n(r(19)),{easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"});t.easing=a;var i={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};t.duration=i;var s=function(e){return"".concat(Math.round(e),"ms")};t.formatMs=s;t.isString=function(e){return"string"===typeof e};t.isNumber=function(e){return!isNaN(parseFloat(e))};var u={easing:a,duration:i,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.duration,n=void 0===r?i.standard:r,u=t.easing,l=void 0===u?a.easeInOut:u,c=t.delay,d=void 0===c?0:c;(0,o.default)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map(function(e){return"".concat(e," ").concat("string"===typeof n?n:s(n)," ").concat(l," ").concat("string"===typeof d?d:s(d))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}};t.default=u},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(480))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.props,r=e.states,n=e.muiFormControl;return r.reduce(function(e,r){return e[r]=t[r],n&&"undefined"===typeof t[r]&&(e[r]=n[r]),e},{})}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){return a.default.createElement(s.default.Consumer,null,function(r){return a.default.createElement(e,(0,o.default)({muiFormControl:r},t))})};0;return(0,i.default)(t,e),t};var o=n(r(3)),a=n(r(1)),i=n(r(88)),s=n(r(144));r(7)},function(e,t,r){"use strict";function n(e){return e&&"object"===typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(9)),a=n(r(10)),i=n(r(11)),s=n(r(12)),u=n(r(13)),l=n(r(65)),c=n(r(4)),d=n(r(3)),f=n(r(1));n(r(2)),n(r(19));var p=function(){var e=null;return function(){if(null!==e)return e;var t,r,n,o=!1;try{window.addEventListener("test",null,(t={},r="passive",n={get:function(){o=!0}},Object.defineProperty(t,r,n)))}catch(a){}return e=o,o}()}(),h={capture:!1,passive:!1};function m(e){return d({},h,e)}function v(e,t,r){var n=[e,t];return n.push(p?r:r.capture),n}function y(e,t,r,n){e.addEventListener.apply(e,v(t,r,n))}function g(e,t,r,n){e.removeEventListener.apply(e,v(t,r,n))}var b=function(e){function t(){return o(this,t),i(this,s(t).apply(this,arguments))}return u(t,e),a(t,[{key:"componentDidMount",value:function(){this.applyListeners(y)}},{key:"componentDidUpdate",value:function(e){this.applyListeners(g,e),this.applyListeners(y)}},{key:"componentWillUnmount",value:function(){this.applyListeners(g)}},{key:"applyListeners",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,r=t.target;if(r){var n=r;"string"===typeof r&&(n=window[r]),function(e,t){e.children,e.target;var r=c(e,["children","target"]);Object.keys(r).forEach(function(e){if("on"===e.substring(0,2)){var n=r[e],o=l(n),a="object"===o;if(a||"function"===o){var i="capture"===e.substr(-7).toLowerCase(),s=e.substring(2).toLowerCase();s=i?s.substring(0,s.length-7):s,a?t(s,n.handler,n.options):t(s,n,m({capture:i}))}}})}(t,e.bind(null,n))}}},{key:"render",value:function(){return this.props.children||null}}]),t}(f.PureComponent);b.propTypes={},t.withOptions=function(e,t){return{handler:e,options:m(t)}},t.default=b},function(e,t,r){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.r(t);var o=r(1),a=r(2),i=r.n(a),s=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),u=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired});function l(e){var t;void 0===e&&(e="store");var r=e+"Subscription",a=function(t){n(i,t);var a=i.prototype;function i(r,n){var o;return(o=t.call(this,r,n)||this)[e]=r.store,o}return a.getChildContext=function(){var t;return(t={})[e]=this[e],t[r]=null,t},a.render=function(){return o.Children.only(this.props.children)},i}(o.Component);return a.propTypes={store:u.isRequired,children:i.a.element.isRequired},a.childContextTypes=((t={})[e]=u.isRequired,t[r]=s,t),a}var c=l();function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var h=r(88),m=r.n(h),v=r(110),y=r.n(v),g=r(107),b=null,_={notify:function(){}};var w=function(){function e(e,t,r){this.store=e,this.parentSub=t,this.onStateChange=r,this.unsubscribe=null,this.listeners=_}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var e=[],t=[];return{clear:function(){t=b,e=b},notify:function(){for(var r=e=t,n=0;n<r.length;n++)r[n]()},get:function(){return t},subscribe:function(r){var n=!0;return t===e&&(t=e.slice()),t.push(r),function(){n&&e!==b&&(n=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(r),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=_)},e}(),k=0,E={};function P(){}function S(e,t){var r,a;void 0===t&&(t={});var i=t,l=i.getDisplayName,c=void 0===l?function(e){return"ConnectAdvanced("+e+")"}:l,h=i.methodName,v=void 0===h?"connectAdvanced":h,b=i.renderCountProp,_=void 0===b?void 0:b,S=i.shouldHandleStateChanges,x=void 0===S||S,T=i.storeKey,C=void 0===T?"store":T,O=i.withRef,R=void 0!==O&&O,M=p(i,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),D=C+"Subscription",j=k++,I=((r={})[C]=u,r[D]=s,r),A=((a={})[D]=s,a);return function(t){y()(Object(g.isValidElementType)(t),"You must pass a component to the function returned by "+v+". Instead received "+JSON.stringify(t));var r=t.displayName||t.name||"Component",a=c(r),i=f({},M,{getDisplayName:c,methodName:v,renderCountProp:_,shouldHandleStateChanges:x,storeKey:C,withRef:R,displayName:a,wrappedComponentName:r,WrappedComponent:t}),s=function(r){function s(e,t){var n;return(n=r.call(this,e,t)||this).version=j,n.state={},n.renderCount=0,n.store=e[C]||t[C],n.propsMode=Boolean(e[C]),n.setWrappedInstance=n.setWrappedInstance.bind(d(d(n))),y()(n.store,'Could not find "'+C+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+C+'" as a prop to "'+a+'".'),n.initSelector(),n.initSubscription(),n}n(s,r);var u=s.prototype;return u.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[D]=t||this.context[D],e},u.componentDidMount=function(){x&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},u.componentWillReceiveProps=function(e){this.selector.run(e)},u.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},u.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=P,this.store=null,this.selector.run=P,this.selector.shouldComponentUpdate=!1},u.getWrappedInstance=function(){return y()(R,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+v+"() call."),this.wrappedInstance},u.setWrappedInstance=function(e){this.wrappedInstance=e},u.initSelector=function(){var t=e(this.store.dispatch,i);this.selector=function(e,t){var r={run:function(n){try{var o=e(t.getState(),n);(o!==r.props||r.error)&&(r.shouldComponentUpdate=!0,r.props=o,r.error=null)}catch(a){r.shouldComponentUpdate=!0,r.error=a}}};return r}(t,this.store),this.selector.run(this.props)},u.initSubscription=function(){if(x){var e=(this.propsMode?this.props:this.context)[D];this.subscription=new w(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},u.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(E)):this.notifyNestedSubs()},u.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},u.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},u.addExtraProps=function(e){if(!R&&!_&&(!this.propsMode||!this.subscription))return e;var t=f({},e);return R&&(t.ref=this.setWrappedInstance),_&&(t[_]=this.renderCount++),this.propsMode&&this.subscription&&(t[D]=this.subscription),t},u.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(o.createElement)(t,this.addExtraProps(e.props))},s}(o.Component);return s.WrappedComponent=t,s.displayName=a,s.childContextTypes=A,s.contextTypes=I,s.propTypes=I,m()(s,t)}}var x=Object.prototype.hasOwnProperty;function T(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function C(e,t){if(T(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!x.call(t,r[o])||!T(e[r[o]],t[r[o]]))return!1;return!0}var O=r(47);function R(e){return function(t,r){var n=e(t,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function M(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function D(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=M(e);var o=n(t,r);return"function"===typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=M(o),o=n(t,r)),o},n}}var j=[function(e){return"function"===typeof e?D(e):void 0},function(e){return e?void 0:R(function(e){return{dispatch:e}})},function(e){return e&&"object"===typeof e?R(function(t){return Object(O.bindActionCreators)(e,t)}):void 0}];var I=[function(e){return"function"===typeof e?D(e):void 0},function(e){return e?void 0:R(function(){return{}})}];function A(e,t,r){return f({},r,e,t)}var N=[function(e){return"function"===typeof e?function(e){return function(t,r){r.displayName;var n,o=r.pure,a=r.areMergedPropsEqual,i=!1;return function(t,r,s){var u=e(t,r,s);return i?o&&a(u,n)||(n=u):(i=!0,n=u),n}}}(e):void 0},function(e){return e?void 0:function(){return A}}];function L(e,t,r,n){return function(o,a){return r(e(o,a),t(n,a),a)}}function F(e,t,r,n,o){var a,i,s,u,l,c=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,p=!1;function h(o,p){var h=!d(p,i),m=!c(o,a);return a=o,i=p,h&&m?(s=e(a,i),t.dependsOnOwnProps&&(u=t(n,i)),l=r(s,u,i)):h?(e.dependsOnOwnProps&&(s=e(a,i)),t.dependsOnOwnProps&&(u=t(n,i)),l=r(s,u,i)):m?function(){var t=e(a,i),n=!f(t,s);return s=t,n&&(l=r(s,u,i)),l}():l}return function(o,c){return p?h(o,c):(s=e(a=o,i=c),u=t(n,i),l=r(s,u,i),p=!0,l)}}function U(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,a=p(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),i=r(e,a),s=n(e,a),u=o(e,a);return(a.pure?F:L)(i,s,u,e,a)}function B(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function V(e,t){return e===t}var W=function(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?S:r,o=t.mapStateToPropsFactories,a=void 0===o?I:o,i=t.mapDispatchToPropsFactories,s=void 0===i?j:i,u=t.mergePropsFactories,l=void 0===u?N:u,c=t.selectorFactory,d=void 0===c?U:c;return function(e,t,r,o){void 0===o&&(o={});var i=o,u=i.pure,c=void 0===u||u,h=i.areStatesEqual,m=void 0===h?V:h,v=i.areOwnPropsEqual,y=void 0===v?C:v,g=i.areStatePropsEqual,b=void 0===g?C:g,_=i.areMergedPropsEqual,w=void 0===_?C:_,k=p(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=B(e,a,"mapStateToProps"),P=B(t,s,"mapDispatchToProps"),S=B(r,l,"mergeProps");return n(d,f({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:P,initMergeProps:S,pure:c,areStatesEqual:m,areOwnPropsEqual:y,areStatePropsEqual:b,areMergedPropsEqual:w},k))}}();r.d(t,"Provider",function(){return c}),r.d(t,"createProvider",function(){return l}),r.d(t,"connectAdvanced",function(){return S}),r.d(t,"connect",function(){return W})},function(e,t,r){"use strict";var n=r(107),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return n.isMemo(e)?i:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(h){var o=p(r);o&&o!==h&&e(t,o,n)}var i=c(r);d&&(i=i.concat(d(r)));for(var s=u(t),m=u(r),v=0;v<i.length;++v){var y=i[v];if(!a[y]&&(!n||!n[y])&&(!m||!m[y])&&(!s||!s[y])){var g=f(r,y);try{l(t,y,g)}catch(b){}}}return t}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(22),i=(n=a)&&n.__esModule?n:{default:n};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"proxy",value:function(e){var t=this;return function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];t.emit.apply(t,[e].concat(n))}}}]),t}();t.default=s},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(41).f,o=r(50),a=r(28)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t,r){r(283);for(var n=r(27),o=r(49),a=r(60),i=r(28)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=n[l],d=c&&c.prototype;d&&!d[i]&&o(d,i,l),a[l]=a.Array}},function(e,t,r){e.exports={default:r(308),__esModule:!0}},function(e,t,r){e.exports={default:r(311),__esModule:!0}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(396))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return e;var r="";if(Array.isArray(e[0]))for(var o=0;o<e.length&&"!important"!==e[o];o++)r&&(r+=", "),r+=n(e[o]," ");else r=n(e,", ");t||"!important"!==e[e.length-1]||(r+=" !important");return r};var n=function(e,t){for(var r="",n=0;n<e.length&&"!important"!==e[n];n++)r&&(r+=t),r+=e[n];return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unnamed",t=arguments[1],r=arguments[2],i=r.jss,s=(0,a.default)(t),u=i.plugins.onCreateRule(e,s,r);if(u)return u;"@"===e[0]&&(0,n.default)(!1,"[JSS] Unknown at-rule %s",e);return new o.default(e,s,r)};var n=i(r(66)),o=i(r(67)),a=i(r(402));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";r.r(t),r.d(t,"isBrowser",function(){return o});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="object"===("undefined"===typeof window?"undefined":n(window))&&"object"===("undefined"===typeof document?"undefined":n(document))&&9===document.nodeType;t.default=o},function(e,t,r){e.exports=function(){"use strict";var e=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var r=Object.prototype.toString.call(e);return"[object RegExp]"===r||"[object Date]"===r||function(e){return e.$$typeof===t}(e)}(e)},t="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?i((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function n(e,t,n){return e.concat(t).map(function(e){return r(e,n)})}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function a(e,t,n){var a={};return n.isMergeableObject(e)&&o(e).forEach(function(t){a[t]=r(e[t],n)}),o(t).forEach(function(o){n.isMergeableObject(t[o])&&e[o]?a[o]=function(e,t){if(!t.customMerge)return i;var r=t.customMerge(e);return"function"===typeof r?r:i}(o,n)(e[o],t[o],n):a[o]=r(t[o],n)}),a}function i(t,o,i){(i=i||{}).arrayMerge=i.arrayMerge||n,i.isMergeableObject=i.isMergeableObject||e;var s=Array.isArray(o),u=Array.isArray(t),l=s===u;return l?s?i.arrayMerge(t,o,i):a(t,o,i):r(o,i)}return i.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,r){return i(e,r,t)},{})},i}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(445))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(43));var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=(0,o.default)(e);return r.defaultView||r.parentView||t};t.default=a},function(e,t,r){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=s(r(1)),a=s(r(26)),i=r(212);r(456);function s(e){return e&&e.__esModule?e:{default:e}}var u="unmounted";t.UNMOUNTED=u;var l="exited";t.EXITED=l;var c="entering";t.ENTERING=c;var d="entered";t.ENTERED=d;t.EXITING="exiting";var f=function(e){var t,r;function n(t,r){var n;n=e.call(this,t,r)||this;var o,a=r.transitionGroup,i=a&&!a.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(o=l,n.appearStatus=c):o=d:o=t.unmountOnExit||t.mountOnEnter?u:l,n.state={status:o},n.nextCallback=null,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.getChildContext=function(){return{transitionGroup:null}},n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:l}:null},i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==c&&r!==d&&(t=c):r!==c&&r!==d||(t="exiting")}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var r=a.default.findDOMNode(this);t===c?this.performEnter(r,e):this.performExit(r)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:u})},i.performEnter=function(e,t){var r=this,n=this.props.enter,o=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,a=this.getTimeouts(),i=o?a.appear:a.enter;t||n?(this.props.onEnter(e,o),this.safeSetState({status:c},function(){r.props.onEntering(e,o),r.onTransitionEnd(e,i,function(){r.safeSetState({status:d},function(){r.props.onEntered(e,o)})})})):this.safeSetState({status:d},function(){r.props.onEntered(e)})},i.performExit=function(e){var t=this,r=this.props.exit,n=this.getTimeouts();r?(this.props.onExit(e),this.safeSetState({status:"exiting"},function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,function(){t.safeSetState({status:l},function(){t.props.onExited(e)})})})):this.safeSetState({status:l},function(){t.props.onExited(e)})},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},i.onTransitionEnd=function(e,t,r){this.setNextCallback(r);var n=null==t&&!this.props.addEndListener;e&&!n?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,r=t.children,n=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["children"]);if(delete n.in,delete n.mountOnEnter,delete n.unmountOnExit,delete n.appear,delete n.enter,delete n.exit,delete n.timeout,delete n.addEndListener,delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,"function"===typeof r)return r(e,n);var a=o.default.Children.only(r);return o.default.cloneElement(a,n)},n}(o.default.Component);function p(){}f.contextTypes={transitionGroup:n.object},f.childContextTypes={transitionGroup:function(){}},f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4;var h=(0,i.polyfill)(f);t.default=h},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=n(r(3)),i=n(r(4)),s=n(r(9)),u=n(r(10)),l=n(r(11)),c=n(r(12)),d=n(r(13)),f=n(r(1)),p=(n(r(2)),n(r(88))),h=r(7),m=n(r(139)),v=n(r(140));h.ponyfillGlobal.__MUI_STYLES__||(h.ponyfillGlobal.__MUI_STYLES__={}),h.ponyfillGlobal.__MUI_STYLES__.withTheme||(h.ponyfillGlobal.__MUI_STYLES__.withTheme=function(){return function(e){var t=function(t){function r(e,t){var n;return(0,s.default)(this,r),(n=(0,l.default)(this,(0,c.default)(r).call(this))).state={theme:v.default.initial(t)||o||(o=(0,m.default)({typography:{suppressWarning:!0}}))},n}return(0,d.default)(r,t),(0,u.default)(r,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeId=v.default.subscribe(this.context,function(t){e.setState({theme:t})})}},{key:"componentWillUnmount",value:function(){null!==this.unsubscribeId&&v.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"render",value:function(){var t=this.props,r=t.innerRef,n=(0,i.default)(t,["innerRef"]);return f.default.createElement(e,(0,a.default)({theme:this.state.theme,ref:r},n))}}]),r}(f.default.Component);return t.contextTypes=v.default.contextTypes,(0,p.default)(t,e),t}});var y=h.ponyfillGlobal.__MUI_STYLES__.withTheme;t.default=y},function(e,t,r){"use strict";e.exports=r(398)},function(e,t,r){"use strict";r.r(t),function(e,n){var o,a=r(250);o="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:n;var i=Object(a.a)(o);t.default=i}.call(this,r(32),r(403)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=1080,a=30,i=16/9,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.adaptive=!1,this.audio="undefined"===typeof t.audio?null:t.audio,this.filtersEnabled=t.filtersEnabled||!1,this.filters=t.filters||{},this.frameRate=t.frameRate||a,this.id="undefined"===typeof t.id?"custom":t.id,this.aspectRatio=t.aspectRatio||i,this.height=t.height||o,this.width=this.height*this.aspectRatio,this.video="undefined"===typeof t.video?null:t.video,this.volume=t.volume||.5}return n(e,[{key:"dump",value:function(){return{adaptive:this.adaptive,aspectRatio:this.aspectRatio,audio:this.audio,frameRate:this.frameRate,filtersEnabled:this.filtersEnabled,filters:this.filters,id:this.id,height:this.height,video:this.video,volume:this.volume}}}]),e}(),u=new s;t.Profile=s,t.defaultProfile=u,t.copyInstance=function(e){var t=Object.assign(Object.create(Object.getPrototypeOf(e)),e);return t.filters=Object.assign({},e.filters),t}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o,a,i,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,o,a,i,s],c=0;(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}()?Object.assign:function(e,t){for(var r,i,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in r=Object(arguments[u]))o.call(r,l)&&(s[l]=r[l]);if(n){i=n(r);for(var c=0;c<i.length;c++)a.call(r,i[c])&&(s[i[c]]=r[i[c]])}}return s}},function(e,t,r){var n=r(44),o=r(27).document,a=n(o)&&n(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,r){var n=r(44);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(116),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(118)("keys"),o=r(91);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t,r){var n=r(16),o=r(27),a=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(74)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){"use strict";t.__esModule=!0;var n=i(r(278)),o=i(r(286)),a="function"===typeof o.default&&"symbol"===typeof n.default?function(e){return typeof e}:function(e){return e&&"function"===typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function i(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof o.default&&"symbol"===a(n.default)?function(e){return"undefined"===typeof e?"undefined":a(e)}:function(e){return e&&"function"===typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":"undefined"===typeof e?"undefined":a(e)}},function(e,t,r){var n=r(40),o=r(282),a=r(119),i=r(117)("IE_PROTO"),s=function(){},u=function(){var e,t=r(112)("iframe"),n=a.length;for(t.style.display="none",r(165).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[a[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[i]=e):r=u(),void 0===t?r:o(r,t)}},function(e,t,r){t.f=r(28)},function(e,t,r){var n=r(27),o=r(16),a=r(74),i=r(123),s=r(41).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:i.f(e)})}},function(e,t,r){var n=r(73),o=r(28)("toStringTag"),a="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(r){}}(t=Object(e),o))?r:a?n(t):"Object"==(i=n(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,r){var n=r(125),o=r(28)("iterator"),a=r(60);e.exports=r(16).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||a[n(e)]}},function(e,t,r){"use strict";var n=r(90);function o(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new o(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(307),a=(n=o)&&n.__esModule?n:{default:n};t.default=a.default,e.exports=t.default},function(e,t,r){var n=r(36),o=r(16),a=r(58);e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],i={};i[e]=t(r),n(n.S+n.F*a(function(){r(1)}),"Object",i)}},function(e,t,r){e.exports={default:r(319),__esModule:!0}},function(e,t,r){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0});var o=k(r(130)),a=k(r(48)),i=k(r(51)),s=k(r(95)),u=k(r(96)),l=k(r(33)),c=k(r(76)),d=k(r(25)),f=a.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),h=k(r(22)),m=k(r(178)),v=k(r(180)),y=k(r(181)),g=k(r(327)),b=k(r(328)),_=k(r(329)),w=k(r(330));function k(e){return e&&e.__esModule?e:{default:e}}function E(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,o.default)(e)}function P(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var x={uri:null,context:null,disabled:!1,interval:3e4,limit:500,maxRequestSize:1048576},T=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=S(this,(t.__proto__||(0,d.default)(t)).call(this));if("undefined"!==typeof window){if(window.LivelyHttpWriterV2)return S(e,window.LivelyHttpWriterV2);window.LivelyHttpWriterV2=e}else{if(n.LivelyHttpWriterV2)return S(e,n.LivelyHttpWriterV2);n.LivelyHttpWriterV2=e}return e.options=x,e.userAgent="undefined"!==typeof navigator?navigator.userAgent:"node",e.referrer="undefined"!==typeof document?document.referrer:"node",e.packages={},e.storage={},e.networkFailure=!1,e.online=!0,e.id=(0,m.default)(),e.globalOptions={},e._throttleSend=(0,g.default)(e.send,5e3),e.registerPackage(_.default,{name:_.default}),e.enable(),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,u.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s.default?(0,s.default)(e,t):e.__proto__=t)}(t,h.default),p(t,[{key:"setOptions",value:function(e){var t=e.disabled,r=e.context,n=e.uri;t?this.disable():this.enable(),n&&(this.storage[n]||(this.storage[n]={started:(new Date).toISOString(),messages:[],contexts:{}})),this.options=f({},this.options,e,{context:this.validateContext(r)}),this.resetTimeout()}},{key:"resetTimeout",value:function(){this.options.interval&&(this._watchTimeout&&clearTimeout(this._watchTimeout),this._watchTimeout=setTimeout(this.sendAll.bind(this),this.options.interval))}},{key:"setGlobalOptions",value:function(e){this.globalOptions=(0,v.default)(this.globalOptions,e),this.emit("options",this.globalOptions)}},{key:"registerPackage",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.uri,o=t.name,a=t.id,i=t.context,s=P(t,["uri","name","id","context"]);o&&(!r&&this.packages[e]||(n&&!this.storage[n]&&(this.storage[n]={started:(new Date).toISOString(),messages:[],contexts:{}}),this.packages[o]=f({uri:n,fullName:e,name:o,id:a,context:i?this.validateContext(i):{}},s)))}},{key:"setPackageContext",value:function(e,t,r){if(t&&r)if(this.packages[e]){try{(0,c.default)(r)}catch(n){return void this.warn("Unable to set messageContext key, due to invalid data structure",n)}this.packages[e].context[t]=r}else this.warn("No such package",{name:e});else this.warn("No key or value provided to setPackageContext")}},{key:"removePackageContext",value:function(e,t){t?this.packages[e]?this.packages[e].context[t]&&delete this.packages[e].context[t]:this.warn("No such package",{name:e}):this.warn("No key or value provided to setPackageContext")}},{key:"clearPackageContext",value:function(e){this.packages[e]?this.packages[e].context={}:this.warn("No such package",{name:e})}},{key:"validateContext",value:function(e){try{(0,c.default)(e)}catch(t){return this.warn("Context removed due to invalid data structure"),!1}return e}},{key:"add",value:function(e,t,r){e.meta;var n=P(e,["meta"]),o=this.packages[t];if(!this.options.disabled&&o){var a=o.uri&&o.forceUri||!this.options.uri?o.uri:this.options.uri;a&&(this.storage[a].messages.push(f({},n,{packageName:o.name,packageId:o.id})),this.storage[a].contexts[t]||(this.storage[a].contexts[t]=o.context),r?this._throttleSend(t):this.checkStorageLimit())}}},{key:"sendAll",value:function(){var e=this;(0,l.default)(this.packages).map(function(t){return e.send(t)}),this.resetTimeout()}},{key:"send",value:function(e){var t=this,r=this.packages[e];if(r&&!this.options.disabled&&this.online){var n=r.uri&&r.forceUri||!this.options.uri?r.uri:this.options.uri;if(this.storage[n]&&this.storage[n].messages.length){var o=this.storage[n].messages.splice(0,this.options.limit),a={messages:o,started:this.storage[n].started,sendTime:(new Date).toISOString(),id:this.id,context:{packageContexts:this.storage[n].contexts,globalContext:this.context}};try{a=(0,c.default)(a)}catch(i){return void this.add({level:"error",message:"Failed to stringify.",error:(0,y.default)(i)},_.default)}(0,w.default)(a)>this.options.maxRequestSize?this.add({level:"error",message:"Body exceeds maxRequestSize. Dropped "+o.length+" logs."},_.default):fetch(n,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:a}).then(function(e){if(!e.ok)throw new TypeError(e.status,e.statusText);return t.storage[n].started=(new Date).toISOString(),t.networkFailure=!1,e}).catch(function(e){t.storage[n].messages=[].concat(E(o),E(t.storage[n].messages)),t.networkFailure=!0,t.add({level:"network",message:"Network failure.",error:(0,y.default)(e)},_.default)})}}}},{key:"enable",value:function(){var e=this;this.resetTimeout(),"undefined"!==typeof window&&(this._watchUnload=(0,b.default)(window,"unload",function(){return e.sendAll()}),this._watchOnline=(0,b.default)(window,"online",function(){e.online=!0}),this._watchOffline=(0,b.default)(window,"offline",function(){e.online=!1}))}},{key:"disable",value:function(){this._watchTimeout&&(clearTimeout(this._watchTimeout),"undefined"!==typeof window&&(this._watchUnload(),this._watchOnline(),this._watchOffline()))}},{key:"checkStorageLimit",value:function(){var e=this,t=this.options.limit;if(t&&!this.networkFailure){var r=0;(0,l.default)(this.packages).map(function(t){return e.packages[t].uri&&(r+=e.storage[e.packages[t].uri].length),!0}),r>=t&&this.sendAll()}}},{key:"context",get:function(){var e=this.options.context;return f({userAgent:this.userAgent,referrer:this.referrer},e)}}]),t}();t.default=T,e.exports=t.default}).call(this,r(32))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDeviceHandler=function(e,t){o.default.setHandler(e,t)},t.isDeviceSupported=function(){return o.default.isSupported()},t.getDeviceInfo=function(){return{flag:o.default.getFlag(),name:o.default.getName(),version:o.default.getVersion(),bowser:o.default.getBowser()}},t.checkCapabilitiesForRoom=function(e){return o.default.isSupported()?o.default.Handler.getNativeRtpCapabilities().then(function(t){var r=n.getExtendedRtpCapabilities(t,e);return{audio:n.canSend("audio",r),video:n.canSend("video",r)}}):Promise.reject(new Error("current browser/device not supported"))},Object.defineProperty(t,"Room",{enumerable:!0,get:function(){return a.default}}),t.internals=void 0;var n=u(r(29)),o=s(r(133)),a=s(r(350)),i=u(r(356));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}t.internals=i},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=v(r(52)),o=v(r(15)),a=v(r(335)),i=v(r(339)),s=v(r(340)),u=v(r(341)),l=v(r(342)),c=v(r(343)),d=v(r(344)),f=v(r(345)),p=v(r(346)),h=v(r(347)),m=v(r(349));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g=new o.default("Device"),b=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var r,o,v;return r=t,v=[{key:"setHandler",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t._detected=!0,t._handlerClass=e,t._flag=r.flag,t._name=r.name,t._version=r.version,t._bowser=r.bowser||{}}},{key:"getFlag",value:function(){return t._detected||t._detect(),t._flag}},{key:"getName",value:function(){return t._detected||t._detect(),t._name}},{key:"getVersion",value:function(){return t._detected||t._detect(),t._version}},{key:"getBowser",value:function(){return t._detected||t._detect(),t._bowser}},{key:"isSupported",value:function(){return t._detected||t._detect(),Boolean(t._handlerClass)}},{key:"_detect",value:function(){if(t._detected=!0,e.navigator&&"ReactNative"===e.navigator.product)t._flag="react-native",t._name="ReactNative",t._version=void 0,t._bowser={},t._handlerClass=m.default;else if(e.navigator&&"string"===typeof e.navigator.userAgent){var r=e.navigator.userAgent,o=n.default.detect(r);if(t._flag=void 0,t._name=o.name||void 0,t._version=o.version||void 0,t._bowser=o,t._handlerClass=null,n.default.check({chrome:"70",chromium:"70"},!0,r))t._flag="chrome",t._handlerClass=a.default;else if(n.default.check({chrome:"69",chromium:"69"},!0,r))t._flag="chrome",t._handlerClass=i.default;else if(n.default.check({chrome:"67",chromium:"67"},!0,r))t._flag="chrome",t._handlerClass=s.default;else if(n.default.check({chrome:"55",chromium:"55"},!0,r))t._flag="chrome",t._handlerClass=u.default;else if(n.default.check({chrome:"49",chromium:"49"},!0,r)&&e.adapter)t._flag="chrome",t._handlerClass=u.default;else if(n.default.check({firefox:"65"},!0,r))t._flag="firefox",t._handlerClass=d.default;else if(n.default.check({firefox:"59"},!0,r))t._flag="firefox",t._handlerClass=f.default;else if(n.default.check({firefox:"50"},!0,r))t._flag="firefox",t._handlerClass=p.default;else if(n.default.check({safari:"12.1"},!0,r)&&"undefined"!==typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))t._flag="safari",t._handlerClass=l.default;else if(n.default.check({safari:"11"},!0,r))t._flag="safari",t._handlerClass=c.default;else if(n.default.check({msedge:"11"},!0,r))t._flag="msedge",t._handlerClass=h.default;else if(n.default.check({opera:"57"},!0,r))t._flag="opera",t._handlerClass=a.default;else if(n.default.check({opera:"44"},!0,r))t._flag="opera",t._handlerClass=u.default;else if(o.chromium||o.blink||o.webkit){g.debug('best effort Chrome based browser detection [name:"%s"]',o.name),t._flag="chrome";var v=r.match(/(?:(?:Chrome|Chromium))[ \/](\w+)/i);if(v){var y=Number(v[1]);t._handlerClass=y>=70?a.default:y>=69?i.default:y>=67?s.default:u.default}else t._handlerClass=a.default}t.isSupported()?g.debug('browser supported [flag:%s, name:"%s", version:%s, handler:%s]',t._flag,t._name,t._version,t._handlerClass.tag):g.warn("browser not supported [name:%s, version:%s]",t._name,t._version)}else g.warn("device not supported")}},{key:"Handler",get:function(){return t._detected||t._detect(),t._handlerClass}}],(o=null)&&y(r.prototype,o),v&&y(r,v),t}();t.default=b,b._detected=!1,b._flag=void 0,b._name=void 0,b._version=void 0,b._bowser=void 0,b._handlerClass=null}).call(this,r(32))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setDone=function(){return{type:"CALL_SET_ROOM_DONE",payload:{}}},t.setConnected=function(e){return{type:"CALL_SET_CONNECTED",payload:{connected:e}}},t.setAppData=function(e){return{type:"CALL_SET_ROOM_APP_DATA",payload:{appData:e}}},t.setOptions=function(e){return{type:"CALL_OPTIONS",payload:{options:e}}},t.setViewers=function(e){return{type:"CALL_VIEWERS",payload:{viewers:e}}},t.setPermissions=function(e){return{type:"CALL_PERMISSIONS",payload:{permissions:e}}},t.setActiveSpeaker=function(e){return{type:"CALL_SET_ROOM_ACTIVE_SPEAKER",payload:{peerId:e}}},t.setMediaCapabilities=function(e){return{type:"CALL_SET_MEDIA_CAPABILITIES",payload:e}},t.addProducer=function(e,t){return{type:"CALL_ADD_PRODUCER",payload:{streamName:e,producer:t}}},t.updateProducer=function(e,t,r,n,o){return{type:"CALL_UPDATE_PRODUCER",payload:{streamName:e,producerId:t,codec:r,preview:n,sendPreview:o}}},t.removeProducer=function(e,t,r){return{type:"CALL_REMOVE_PRODUCER",payload:{streamName:e,producerId:t,originator:r}}},t.setProducerPaused=function(e,t,r){return{type:"CALL_SET_PRODUCER_PAUSED",payload:{streamName:e,producerId:t,originator:r}}},t.setProducerResumed=function(e,t,r){return{type:"CALL_SET_PRODUCER_RESUMED",payload:{streamName:e,producerId:t,originator:r}}},t.setProducerTrack=function(e,t,r,n){return{type:"CALL_SET_PRODUCER_TRACK",payload:{streamName:e,streamType:t,producerId:r,track:n}}},t.setProducerStats=function(e,t,r){return{type:"CALL_SET_PRODUCER_STATS",payload:{streamName:e,producerId:t,stats:r}}},t.roomFull=function(e){return{type:"CALL_ROOM_FULL",payload:{full:e}}},t.roomData=function(e,t){return{type:"CALL_ROOM_DATA",payload:{scope:e,peerId:t}}},t.addPeer=function(e){return{type:"CALL_ADD_PEER",payload:{peer:e}}},t.removePeer=function(e){return{type:"CALL_REMOVE_PEER",payload:{peerId:e}}},t.peerChange=function(e,t){var r={};return e&&(r={action:t,peer:{peerId:e.appData.peerId,userId:e.appData.userId,displayName:e.appData.displayName,scope:e.appData.scope,hasAudio:!1,hasVideo:!1}},e.consumers&&e.consumers.length&&e.consumers.forEach(function(e){"audio"===e.kind?r.peer.hasAudio=!0:"video"===e.kind&&(r.peer.hasVideo=!0)})),{type:"PEER_CHANGE",payload:r}},t.addConsumer=function(e,t,r){return{type:"CALL_ADD_CONSUMER",payload:{peerId:e,streamName:t,consumer:r}}},t.removeConsumer=function(e,t,r){return{type:"CALL_REMOVE_CONSUMER",payload:{peerId:e,streamName:t,consumerId:r}}},t.setConsumerPaused=function(e,t,r,n){return{type:"CALL_SET_CONSUMER_PAUSED",payload:{peerId:e,streamName:t,consumerId:r,originator:n}}},t.setConsumerResumed=function(e,t,r,n){return{type:"CALL_SET_CONSUMER_RESUMED",payload:{peerId:e,streamName:t,consumerId:r,originator:n}}},t.setConsumerEffectiveProfile=function(e,t,r,n){return{type:"CALL_SET_CONSUMER_EFFECTIVE_PROFILE",payload:{peerId:e,streamName:t,consumerId:r,profile:n}}},t.setConsumerTrack=function(e,t,r,n){return{type:"CALL_SET_CONSUMER_TRACK",payload:{peerId:e,streamName:t,consumerId:r,track:n}}},t.setConsumerStats=function(e,t,r,n){return{type:"CALL_SET_CONSUMER_STATS",payload:{peerId:e,streamName:t,consumerId:r,stats:n}}},t.setReceivingIceState=function(e){return{type:"CALL_SET_RECEIVING_ICE_STATE",payload:{state:e}}},t.setSendingIceState=function(e){return{type:"CALL_SET_SENDING_ICE_STATE",payload:{state:e}}},t.emitMessages=function(e){return{type:"CALL_EMIT_MESSAGES",payload:{messages:e||[]}}},t.emitPeerMessages=function(e,t){return{type:"CALL_EMIT_PEER_MESSAGES",payload:{peerId:e,messages:t}}},t.callRejected=function(){return{type:"CALL_REJECTED"}},t.callForbidden=function(){return{type:"CALL_FORBIDDEN"}},t.joinCallError=function(e){return{type:"CALL_JOIN_CALL_ERROR",payload:{error:e}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateLocalSupport=t.support=t.Support=void 0;var n=p(r(20)),o=p(r(24)),a=p(r(14)),i=p(r(33)),s=p(r(48)),u=p(r(17)),l=p(r(18));t.generateLocalSupport=function(){var e=(0,o.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=v,e.next=3,b();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();t.localSupport=function(){return new v(g())},t.videoSupported=function(){var e=document.createElement("video"),t={h264:'video/mp4; codecs="avc1.42E01E"'};return!!(0,i.default)(t).find(function(r){var n=e.canPlayType(t[r]);return"probably"===n})};var c=p(r(52)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(359)),f=p(r(42));function p(e){return e&&e.__esModule?e:{default:e}}var h=r(132),m={name:c.default.name,version:c.default.version,osname:c.default.osname,osversion:c.default.osversion},v=t.Support=function(){function e(t){(0,u.default)(this,e),this._tags=(0,s.default)({},{opus:!1,vp8:!1,h264:!1}),"string"===typeof t&&(t.indexOf("o")>-1&&(this._tags.opus=!0),t.indexOf("v")>-1&&(this._tags.vp8=!0),t.indexOf("h")>-1&&(this._tags.h264=!0))}return(0,l.default)(e,[{key:"supports",value:function(e){return!!this._tags[e]}},{key:"shared",value:function(t){if(!this.any)return this;if(!t.any)return t;var r=this.hash,n="";return t.hash.split("").forEach(function(e){r.indexOf(e)>-1&&(n+=e)}),new e(n)}},{key:"any",get:function(){for(var e=(0,i.default)(this._tags),t=e.length-1;t>=0;t--)if(this._tags[e[t]])return!0;return!1}},{key:"tags",get:function(){var e=this;return(0,i.default)(this._tags).filter(function(t){return!!e._tags[t]})}},{key:"audio",get:function(){return!!this._tags.opus}},{key:"video",get:function(){return!(!this._tags.vp8&&!this._tags.h264)}},{key:"hash",get:function(){var e="";return this._tags.opus&&(e+="o"),this._tags.vp8&&(e+="v"),this._tags.h264&&(e+="h"),e}}]),e}(),y=function(){return c.default.ios&&!c.default.safari?(f.default.warn("support: non-safari ios",(0,a.default)({},m)),f.default.flush(),!1):h.isDeviceSupported()?"undefined"===typeof RTCPeerConnection?(f.default.warn("support: no RTCPeerConnection",(0,a.default)({},m)),f.default.flush(),!1):!c.default.msedge||"undefined"!==typeof RTCRtpReceiver&&RTCRtpReceiver.getCapabilities&&"undefined"!==typeof RTCRtpSender?!!(navigator.mediaDevices||navigator.webkitGetUserMedia||navigator.mozGetUserMedia)||(f.default.warn("support: no getUserMedia",(0,a.default)({},m)),f.default.flush(),!1):(f.default.warn("support: msedge with missing webrtc api",(0,a.default)({hasRTCRtpReceiver:"undefined"===typeof RTCRtpReceiver?"true":"false",hasRTCRtpSender:"undefined"===typeof RTCRtpSender?"true":"false",hasRTCRtpReceiverGetCapabilities:RTCRtpReceiver.getCapabilities?"true":"false"},m)),f.default.flush(),!1):(f.default.warn("support: mediasoups says device is unsupported",(0,a.default)({},m)),f.default.flush(),!1)},g=function(){if(!y())return"";var e="";return d.hasOpus()&&(e=e.concat("o")),d.hasVP8()&&(e=e.concat("v")),d.hasH264()&&(e=e.concat("h")),f.default.setPackageContext("aggregates.supportHash",e),f.default.info("support: support hash generated",(0,a.default)({},m)),e},b=function(){var e=(0,o.default)(n.default.mark(function e(){var t;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y()){e.next=2;break}return e.abrupt("return","");case 2:return t="",e.next=5,d.hasOpusCapability();case 5:if(!e.sent){e.next=7;break}t=t.concat("o");case 7:return e.next=9,d.hasVP8Capability();case 9:if(!e.sent){e.next=11;break}t=t.concat("v");case 11:return e.next=13,d.hasH264Capability();case 13:if(!e.sent){e.next=15;break}t=t.concat("h");case 15:return f.default.setPackageContext("aggregates.supportHash",t),f.default.info("support: support hash generated",(0,a.default)({},m)),e.abrupt("return",t);case 18:case"end":return e.stop()}},e,void 0)}));return function(){return e.apply(this,arguments)}}();t.support=new v(g())},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="";if(!t)return n;var o=r.indent,s=void 0===o?0:o,u=t.fallbacks;if(s++,u)if(Array.isArray(u))for(var l=0;l<u.length;l++){var c=u[l];for(var d in c){var f=c[d];null!=f&&(n+="\n"+i(d+": "+(0,a.default)(f)+";",s))}}else for(var p in u){var h=u[p];null!=h&&(n+="\n"+i(p+": "+(0,a.default)(h)+";",s))}for(var m in t){var v=t[m];null!=v&&"fallbacks"!==m&&(n+="\n"+i(m+": "+(0,a.default)(v)+";",s))}return n||r.allowEmpty?n=i(e+" {"+n+"\n",--s)+i("}",s):n};var n,o=r(98),a=(n=o)&&n.__esModule?n:{default:n};function i(e,t){for(var r="",n=0;n<t;n++)r+="  ";return r+e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(199),a=(n=o)&&n.__esModule?n:{default:n};t.default=new a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(100);var a="",i="";if(((n=o)&&n.__esModule?n:{default:n}).default){var s={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},u=document.createElement("p").style;for(var l in s)if(l+"Transform"in u){a=l,i=s[l];break}}t.default={js:a,css:i}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(r(8));var o=n(r(3)),a=n(r(4)),i=n(r(101)),s=n(r(433)),u=(n(r(19)),n(r(435))),l=n(r(436)),c=n(r(437)),d=n(r(438)),f=n(r(439)),p=n(r(440)),h=n(r(441)),m=n(r(82)),v=n(r(442));var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,r=void 0===t?{}:t,n=e.mixins,y=void 0===n?{}:n,g=e.palette,b=void 0===g?{}:g,_=e.shadows,w=e.spacing,k=void 0===w?{}:w,E=e.typography,P=void 0===E?{}:E,S=(0,a.default)(e,["breakpoints","mixins","palette","shadows","spacing","typography"]),x=(0,c.default)(b),T=(0,u.default)(r),C=(0,o.default)({},h.default,k);return(0,o.default)({breakpoints:T,direction:"ltr",mixins:(0,l.default)(T,C,y),overrides:{},palette:x,props:{},shadows:_||f.default,typography:(0,d.default)(x,P)},(0,i.default)({shape:p.default,spacing:C,transitions:m.default,zIndex:v.default},S,{isMergeableObject:s.default}))};t.default=y},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CHANNEL=void 0;var o=n(r(8)),a="__THEMING__";t.CHANNEL=a;var i={contextTypes:(0,o.default)({},a,function(){}),initial:function(e){return e[a]?e[a].getState():null},subscribe:function(e,t){return e[a]?e[a].subscribe(t):null},unsubscribe:function(e,t){e[a]&&e[a].unsubscribe(t)}};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransitionProps=function(e,t){var r=e.timeout,n=e.style,o=void 0===n?{}:n;return{duration:o.transitionDuration||"number"===typeof r?r:r[t.mode],delay:o.transitionDelay}},t.reflow=void 0;t.reflow=function(e){return e.scrollTop}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(476))},function(e,t,r){"use strict";function n(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasValue=n,t.isFilled=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(n(e.value)&&""!==e.value||t&&n(e.defaultValue)&&""!==e.defaultValue)},t.isAdornedStart=function(e){return e.startAdornment}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)).default.createContext();t.default=o},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)).default.createContext({});t.default=o},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(490))},function(e,t){function r(e,t,r){var n,o,a,i,s;function u(){var l=Date.now()-i;l<t&&l>=0?n=setTimeout(u,t-l):(n=null,r||(s=e.apply(a,o),a=o=null))}null==t&&(t=100);var l=function(){a=this,o=arguments,i=Date.now();var l=r&&!n;return n||(n=setTimeout(u,t)),l&&(s=e.apply(a,o),a=o=null),s};return l.clear=function(){n&&(clearTimeout(n),n=null)},l.flush=function(){n&&(s=e.apply(a,o),a=o=null,clearTimeout(n),n=null)},l}r.debounce=r,e.exports=r},function(e,t,r){"use strict";var n=r(237);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"defaultValueReducer",{enumerable:!0,get:function(){return o.defaultValueReducer}});var o=n(r(522))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setWebcam=function(e,t){return{type:"CONTROLS_DEVICES_SET_WEBCAM",payload:{streamName:e,webcam:t}}},t.setMic=function(e,t){return{type:"CONTROLS_DEVICES_SET_MIC",payload:{streamName:e,mic:t}}},t.setDefaultAudioConstraints=function(e,t){return{type:"CONTROLS_SET_DEFAULT_AUDIO_CONSTRAINTS",payload:{streamName:e,constraints:t}}},t.setDefaultVideoConstraints=function(e,t){return{type:"CONTROLS_SET_DEFAULT_VIDEO_CONSTRAINTS",payload:{streamName:e,constraints:t}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialStreamState=t.CALL_SET_PEER_VOLUME=t.CALL_UNMUTE_PEER=t.CALL_MUTE_PEER=void 0;var n=a(r(53)),o=a(r(14));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.CALL_MUTE_PEER="CALL_MUTE_PEER",s=t.CALL_UNMUTE_PEER="CALL_UNMUTE_PEER",u=t.CALL_SET_PEER_VOLUME="CALL_SET_PEER_VOLUME",l=t.initialStreamState=function(){return{consumers:{video:void 0,audio:void 0}}};function c(e,t,r){var a=t.payload,i=a.peerId,s=a.streamName,u=a.consumerId,l=a.originator,c=e[i];if(!c)return e;var d=c.streams[s];if(!d)return e;var f=d.consumers,p=void 0;if(f&&f.video&&f.video.id===u)p=f.video;else{if(!f||!f.audio||f.audio.id!==u)return e;p=f.audio}var h=void 0;(h="local"===l?(0,o.default)({},p,{locallyPaused:r}):(0,o.default)({},p,{remotelyPaused:r})).paused=r;var m=(0,o.default)({},e);return m[i]=(0,o.default)({},m[i],{streams:(0,o.default)({},m[i].streams,(0,n.default)({},s,(0,o.default)({},m[i].streams[s],{consumers:(0,o.default)({},f,(0,n.default)({},h.kind,h))})))}),m}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ids:[]},t=arguments[1];switch(t.type){case"CALL_SET_ROOM_DONE":return{ids:[]};case i:var r=t.payload.id,a=(0,o.default)({},e[r],{muted:!0});return(0,o.default)({},e,(0,n.default)({},r,a));case s:var d=t.payload.id,f=(0,o.default)({},e[d],{muted:!1});return(0,o.default)({},e,(0,n.default)({},d,f));case u:var p=t.payload,h=p.id,m=p.volume,v=(0,o.default)({},e[h],{volume:m});return(0,o.default)({},e,(0,n.default)({},h,v));case"CALL_ADD_PEER":var y=t.payload.peer;y.streams={};var g=(0,o.default)({},e);return g[y.peerId]=y,g.ids.push(y.peerId),g;case"CALL_REMOVE_PEER":var b=t.payload.peerId,_=(0,o.default)({},e);delete _[b];var w=_.ids.indexOf(b);return-1!==w&&delete _.ids[w],_;case"CALL_EMIT_PEER_MESSAGES":var k=t.payload,E=k.messages,P=e[k.peerId];if(!P)throw new Error("no Peer found for Messages");var S=(0,o.default)({},P,{messages:E});return(0,o.default)({},e,(0,n.default)({},S.peerId,S));case"CALL_ADD_CONSUMER":var x=t.payload,T=x.peerId,C=x.streamName,O=x.consumer,R=e[T];if(!R)return e;var M=(0,o.default)({},e);R.streams[C]||(M[T].streams[C]=l());var D=M[T].streams[C].consumers;return M[T]=(0,o.default)({},M[T],{streams:(0,o.default)({},M[T].streams,(0,n.default)({},C,(0,o.default)({},M[T].streams[C],{consumers:(0,o.default)({},D,(0,n.default)({},O.kind,(0,o.default)({},O,{paused:O.locallyPaused||O.remotelyPaused})))})))}),M;case"CALL_REMOVE_CONSUMER":var j=t.payload,I=j.peerId,A=j.streamName,N=j.consumerId,L=e[I];if(!L)return e;var F=L.streams[A];if(!F)return e;var U=F.consumers,B=(0,o.default)({},e);return U&&U.video&&U.video.id===N?(U.audio?B[I]=(0,o.default)({},B[I],{streams:(0,o.default)({},B[I].streams,(0,n.default)({},A,{consumers:(0,o.default)({},U,{video:null})}))}):(delete B[I].streams[A],B[I]=(0,o.default)({},B[I],{streams:(0,o.default)({},B[I].streams)})),B):U&&U.audio&&U.audio.id===N?(U.video?B[I]=(0,o.default)({},B[I],{streams:(0,o.default)({},B[I].streams,(0,n.default)({},A,{consumers:(0,o.default)({},U,{audio:null})}))}):(delete B[I].streams[A],B[I]=(0,o.default)({},B[I],{streams:(0,o.default)({},B[I].streams)})),B):e;case"CALL_SET_CONSUMER_PAUSED":return c(e,t,!0);case"CALL_SET_CONSUMER_RESUMED":return c(e,t,!1);case"CALL_SET_CONSUMER_EFFECTIVE_PROFILE":var V=t.payload,W=V.peerId,z=V.streamName,H=V.consumerId,q=V.profile,G=e[W];if(!G)return e;var K=G.streams[z];if(!K)return e;var $=K.consumers,Y=(0,o.default)({},e);return $&&$.video&&$.video.id===H?(Y[W]=(0,o.default)({},Y[W],{streams:(0,o.default)({},Y[W].streams,(0,n.default)({},z,(0,o.default)({},Y[W].streams[z],{consumers:(0,o.default)({},$,{video:(0,o.default)({},$.video,{profile:q})})})))}),Y):$&&$.audio&&$.audio.id===H?(Y[W]=(0,o.default)({},Y[W],{streams:(0,o.default)({},Y[W].streams,(0,n.default)({},z,(0,o.default)({},Y[W].streams[z],{consumers:(0,o.default)({},$,{audio:(0,o.default)({},$.audio,{profile:q})})})))}),Y):e;case"CALL_SET_CONSUMER_TRACK":var Q=t.payload,X=Q.peerId,J=Q.streamName,Z=Q.consumerId,ee=Q.track,te=e[X];if(!te)return e;var re=te.streams[J];if(!re)return e;var ne=re.consumers,oe=(0,o.default)({},e);if(ne&&ne.video&&ne.video.id===Z){var ae=ne.video;return oe[X]=(0,o.default)({},oe[X],{streams:(0,o.default)({},oe[X].streams,(0,n.default)({},J,(0,o.default)({},oe[X].streams[J],{consumers:(0,o.default)({},ne,{video:(0,o.default)({},ae,{track:ee,paused:ae.locallyPaused||ae.remotelyPaused})})})))}),oe}if(ne&&ne.audio&&ne.audio.id===Z){var ie=ne.audio;return oe[X]=(0,o.default)({},oe[X],{streams:(0,o.default)({},oe[X].streams,(0,n.default)({},J,(0,o.default)({},oe[X].streams[J],{consumers:(0,o.default)({},ne,{audio:(0,o.default)({},ie,{track:ee,paused:ie.locallyPaused||ie.remotelyPaused})})})))}),oe}return e;default:return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CALL_CLOSE_ERROR=t.CALL_ERROR=t.CALL_INITIALIZING=t.CALL_INITIALIZED=t.CALL_ACTIONS=void 0;var n,o=r(14),a=(n=o)&&n.__esModule?n:{default:n};var i=t.CALL_ACTIONS="CALL_ACTIONS",s=t.CALL_INITIALIZED="CALL_INITIALIZED",u=t.CALL_INITIALIZING="CALL_INITIALIZING",l=t.CALL_ERROR="CALL_ERROR",c=t.CALL_CLOSE_ERROR="CALL_CLOSE_ERROR",d={initialized:!1,_actions:null,error:null,closeError:null,streams:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case"CALL_SET_ROOM_DONE":return d;case l:return(0,a.default)({},e,{error:t.payload});case c:return(0,a.default)({},e,{closeError:t.payload.error});case i:return(0,a.default)({},e,{_actions:t.payload._callActions,streams:t.payload.streams});case s:return(0,a.default)({},e,{initialized:!0,streams:t.payload.streams,_actions:t.payload._callActions,error:null,closeError:null});case u:return(0,a.default)({},e,{initialized:!1,_actions:null,error:null,closeError:null})}return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(55),a=(n=o)&&n.__esModule?n:{default:n};t.default=function(e,t){t.peerId||a.default.warn("invalid map usage: peerId is a required prop for peer");var r=e.call.peers[t.peerId];return r?{peer:r}:null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapActions=void 0;var n=r(47),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(563));var a=t.mapActions=function(e){return{_dispatch:e,actions:(0,n.bindActionCreators)(o,e)}};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var n=p(r(14)),o=p(r(25)),a=p(r(17)),i=p(r(18)),s=p(r(34)),u=p(r(35)),l=r(68),c=p(l),d=p(r(69)),f=r(39);function p(e){return e&&e.__esModule?e:{default:e}}var h=t.styles=function(e){return{containAspectContainer:{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",justifyContent:"center",alignItems:"center"},containAspectContainerFill:{position:"relative",background:e.palette.common.black,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},ratioAspectContainer:{position:"relative",width:"100%",background:e.palette.common.black},ratioAspectContainerFill:{position:"absolute",bottom:0,top:0,right:0,left:0,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}}},m=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.classes,o=e.contain,a=e.style,i=void 0;return o?(i=(0,n.default)({height:this.height,maxWidth:this.maxWidth,maxHeight:this.maxHeight},a),c.default.createElement("div",{className:r.containAspectContainer,onClick:this.props.onClick},c.default.createElement("div",{className:r.containAspectContainerFill,style:i},t))):(i=(0,n.default)({paddingBottom:this.paddingBottom},a),c.default.createElement("div",{className:r.ratioAspectContainer,style:i,onClick:this.props.onClick},c.default.createElement("div",{className:r.ratioAspectContainerFill},t)))}},{key:"height",get:function(){var e=this.props,t=e.x,r=e.y,n=e.widthOffset;return n?"calc("+r/t*100+"vw - "+r/t*n+"px)":r/t*100+"vw"}},{key:"maxHeight",get:function(){var e=this.props.heightOffset;return e?"calc(100vh - "+e+"px)":"100vh"}},{key:"maxWidth",get:function(){var e=this.props,t=e.x,r=e.y,n=e.heightOffset;return n?"calc("+t/r*100+"vh - "+t/r*n+"px)":t/r*100+"vh"}},{key:"paddingBottom",get:function(){var e=this.props,t=e.x;return e.y/t*100+"%"}}]),t}(l.Component);m.propTypes={children:d.default.node.isRequired,contain:d.default.bool,heightOffset:d.default.number,widthOffset:d.default.number,x:d.default.number,y:d.default.number,classes:d.default.object.isRequired,style:d.default.object},m.defaultProps={contain:!1,heightOffset:0,widthOffset:0,x:16,y:9},t.default=(0,f.withStyles)(h,{name:"PVCAspectContainer"})(m)},function(e,t,r){e.exports=r(265)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=t.connect=void 0;var n=r(87);t.connect=n.connect,t.Provider=n.Provider},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(580),a=(n=o)&&n.__esModule?n:{default:n};var i={get:function(e){var t=a.default.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(r){}return null},set:function(e,t){try{a.default.setItem(e,JSON.stringify(t))}catch(r){a.default.removeItem(e)}}};t.default=i},function(e,t,r){e.exports=!r(45)&&!r(58)(function(){return 7!=Object.defineProperty(r(112)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(50),o=r(59),a=r(275)(!1),i=r(117)("IE_PROTO");e.exports=function(e,t){var r,s=o(e),u=0,l=[];for(r in s)r!=i&&n(s,r)&&l.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~a(l,r)||l.push(r));return l}},function(e,t,r){var n=r(73);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){"use strict";var n=r(74),o=r(36),a=r(164),i=r(49),s=r(60),u=r(281),l=r(93),c=r(166),d=r(28)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,r,h,m,v,y){u(r,t,h);var g,b,_,w=function(e){if(!f&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},k=t+" Iterator",E="values"==m,P=!1,S=e.prototype,x=S[d]||S["@@iterator"]||m&&S[m],T=x||w(m),C=m?E?w("entries"):T:void 0,O="Array"==t&&S.entries||x;if(O&&(_=c(O.call(new e)))!==Object.prototype&&_.next&&(l(_,k,!0),n||"function"==typeof _[d]||i(_,d,p)),E&&x&&"values"!==x.name&&(P=!0,T=function(){return x.call(this)}),n&&!y||!f&&!P&&S[d]||i(S,d,T),s[t]=T,s[k]=p,m)if(g={values:E?T:w("values"),keys:v?T:w("keys"),entries:C},y)for(b in g)b in S||a(S,b,g[b]);else o(o.P+o.F*(f||P),t,g);return g}},function(e,t,r){e.exports=r(49)},function(e,t,r){var n=r(27).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(50),o=r(75),a=r(117)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,r){var n=r(59),o=r(168).f,a={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==a.call(e)?function(e){try{return o(e)}catch(t){return i.slice()}}(e):o(n(e))}},function(e,t,r){var n=r(161),o=r(119).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,r){var n=r(92),o=r(71),a=r(59),i=r(113),s=r(50),u=r(160),l=Object.getOwnPropertyDescriptor;t.f=r(45)?l:function(e,t){if(e=a(e),t=i(t,!0),u)try{return l(e,t)}catch(r){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,r){var n=r(40);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(i){var a=e.return;throw void 0!==a&&n(a.call(e)),i}}},function(e,t,r){var n=r(60),o=r(28)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[o]===e)}},function(e,t,r){var n=r(40),o=r(90),a=r(28)("species");e.exports=function(e,t){var r,i=n(e).constructor;return void 0===i||void 0==(r=n(i)[a])?t:o(r)}},function(e,t,r){var n,o,a,i=r(57),s=r(298),u=r(165),l=r(112),c=r(27),d=c.process,f=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,m=c.Dispatch,v=0,y={},g=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){g.call(e.data)};f&&p||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++v]=function(){s("function"==typeof e?e:Function(e),t)},n(v),v},p=function(e){delete y[e]},"process"==r(73)(d)?n=function(e){d.nextTick(i(g,e,1))}:m&&m.now?n=function(e){m.now(i(g,e,1))}:h?(a=(o=new h).port2,o.port1.onmessage=b,n=i(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):n="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(i(g,e,1),0)}),e.exports={set:f,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,r){var n=r(40),o=r(44),a=r(127);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var n=r(28)("iterator"),o=!1;try{var a=[7][n]();a.return=function(){o=!0},Array.from(a,function(){throw 2})}catch(i){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var a=[7],s=a[n]();s.next=function(){return{done:r=!0}},a[n]=function(){return s},e(a)}catch(i){}return r}},function(e,t,r){var n=r(316),o=r(317);e.exports=function(e,t,r){var a=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||n)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[a+s]=i[s];return t||o(i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=b(r(130)),o=b(r(48)),a=b(r(51)),i=b(r(95)),s=b(r(96)),u=b(r(33)),l=b(r(324)),c=b(r(76)),d=b(r(25)),f=o.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),h=r(22),m=b(r(180)),v=b(r(131)),y=r(331),g=b(r(332));function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,n.default)(e)}var w={printLevel:"warn",writeLevel:"info",reportLevel:"error",print:!1,write:!0,registerPackage:{uri:!1,forceUri:!1,name:!1,id:!1,context:!1}},k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||(0,d.default)(t)).call(this));return r.messageContextObject={},r.httpWriter=new v.default,r.httpWriter.registerPackage(t.parsePackageFullName(e),f({},e.registerPackage)),r.options=m.default.all([w,e,r.httpWriter.globalOptions]),r._proxyingToEmitter=!1,r.httpWriter.on("options",function(e){return r.onWriterOptions(e)}),r.isBrowser="undefined"!==typeof window,r._initPrinter(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}(t,h.EventEmitter),p(t,[{key:"setOptions",value:function(e){this.options=f({},this.options,e),!this.options.printLevel||(0,y.supportsLevel)(this.options.printLevel)?!this.options.writeLevel||(0,y.supportsLevel)(this.options.writeLevel)?!this.options.reportLevel||(0,y.supportsLevel)(this.options.reportLevel)?this.httpWriter.registerPackage(t.parsePackageFullName(this.options),f({},e.registerPackage)):this.warn(this.options.reportLevel+" level is unsupported."):this.warn(this.options.writeLevel+" level is unsupported."):this.warn(this.options.printLevel+" level is unsupported.")}},{key:"flush",value:function(){this.httpWriter.sendAll()}},{key:"setPackageContext",value:function(e,r){this.httpWriter.setPackageContext(t.parsePackageFullName(this.options),e,r)}},{key:"removePackageContext",value:function(e){this.httpWriter.removePackageContext(t.parsePackageFullName(this.options),e)}},{key:"clearPackageContext",value:function(){this.httpWriter.clearPackageContext(t.parsePackageFullName(this.options))}},{key:"onWriterOptions",value:function(e){this.options=f({},this.options,e),!this.options.printLevel||(0,y.supportsLevel)(this.options.printLevel)?!this.options.writeLevel||(0,y.supportsLevel)(this.options.writeLevel)?this.options.reportLevel&&!(0,y.supportsLevel)(this.options.reportLevel)&&this.warn(this.options.reportLevel+" level is unsupported."):this.warn(this.options.writeLevel+" level is unsupported."):this.warn(this.options.printLevel+" level is unsupported.")}},{key:"log",value:function(e){for(var t=this.options.reportLevel,r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(this._isPrintable(e))if(this.isBrowser){var a,i;if(this.messageContext)(a=this.printer)[e].apply(a,["%c "+this.packageFullName,"color: #757575;"].concat(n,[this.messageContext]));else(i=this.printer)[e].apply(i,["%c "+this.packageFullName,"color: #757575;"].concat(n))}else{var s,u,l="\x1b[2m",c="\x1b[0m";if(this.messageContext)(s=this.printer)[e].apply(s,[l,this.packageFullName,c].concat(n,[this.messageContext]));else(u=this.printer)[e].apply(u,[l,this.packageFullName,c].concat(n))}if("local"!==e&&this._isWritable(e)){var d=this._validateLog(e,n);d&&this.httpWriter.add(d,this.packageFullName,(0,y.meetsLevel)(e,t)),this._proxyingToEmitter&&this.emit.apply(this,[e].concat(n))}}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,["debug"].concat(t))}},{key:"local",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,["local"].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,["error"].concat(t))}},{key:"notice",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,["notice"].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,["info"].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,["warn"].concat(t))}},{key:"deprecated",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,["deprecated"].concat(t))}},{key:"timing",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,["timing"].concat(t))}},{key:"network",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.log.apply(this,["network"].concat(t))}},{key:"setMessageContext",value:function(e,t){if(e&&t){try{(0,c.default)(t)}catch(r){return void this.warn("Unable to set messageContext key, due to invalid data structure",r)}this.messageContextObject[e]=t}else this.warn("No key or value provided to setMessageContext")}},{key:"removeMessageContext",value:function(e){e?this.messageContextObject[e]&&delete this.messageContextObject[e]:this.warn("No key provided to removeMessageContext")}},{key:"clearMessageContext",value:function(){this.messageContextObject={}}},{key:"_initPrinter",value:function(){"undefined"!==typeof window?this.printer=window.console:console&&(this.printer=console),this.printer&&(this.printer.timing=this.printer.info,this.printer.local=this.printer.info,this.printer.deprecated=this.printer.warn,this.printer.network=this.printer.warn)}},{key:"_validateLog",value:function(e,t){var r=f({time:(new Date).toISOString(),level:e},t);0!==(0,l.default)(this.messageContextObject).length&&(r.messageContext=this.messageContextObject);try{(0,c.default)(r)}catch(n){return this.warn("Dropped log due to invalid data structure",n),!1}return(0,g.default)(r)}},{key:"_isPrintable",value:function(e){return this.options.print&&this.printer&&this.printer[e]&&this.printer[e].apply&&(0,y.meetsLevel)(e,this.options.printLevel)}},{key:"_isWritable",value:function(e){return this.options.write&&this.packageFullName&&(0,y.meetsLevel)(e,this.options.writeLevel)}},{key:"attachEmitter",value:function(e,t){if(e instanceof h.EventEmitter)for(var r=t||["error","log"],n=0;n<r.length;n++)e.on(r[n],function(){this[arguments[0]]||this.error.apply(this,_(Array.prototype.slice.call(arguments,1))),this[arguments[0]].apply(this,_(Array.prototype.slice.call(arguments,1)))}.bind(this,r[n]));else this.error("attachEmitter not supplied with instanceof EventEmitter")}},{key:"detachEmitter",value:function(e,t){if(e instanceof h.EventEmitter)for(var r=t||["error","log"],n=0;n<r.length;n++)e.removeListener(r[n],function(){this[arguments[0]]||this.error.apply(this,_(Array.prototype.slice.call(arguments,1))),this[arguments[0]].apply(this,_(Array.prototype.slice.call(arguments,1)))}.bind(this,r[n]));else this.error("detachEmitter not supplied with instanceof EventEmitter")}},{key:"proxyToEmitter",value:function(e,t){var r=this;if(e instanceof h.EventEmitter){for(var n=t||(0,u.default)(y.supportedLevels),o=function(t){r.on(n[t],function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];e.emit.apply(e,[n[t]].concat(o))}.bind(r,n[t]))},a=0;a<n.length;a++)o(a);this._proxyingToEmitter=!0}else this.error("attachEmitter not supplied with instanceof EventEmitter")}},{key:"packageFullName",get:function(){return t.parsePackageFullName(this.options)}},{key:"messageContext",get:function(){return(0,u.default)(this.messageContextObject).length?this.messageContextObject:null}}],[{key:"parsePackageFullName",value:function(e){return e.registerPackage?e.registerPackage.id?e.registerPackage.name?e.registerPackage.name+":"+e.registerPackage.id:""+e.registerPackage.id:e.registerPackage.name||"":""}}]),t}();t.default=k,e.exports=t.default},function(e,t,r){"use strict";r.r(t);var n=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function i(e,t,r){return e.concat(t).map(function(e){return a(e,r)})}function s(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||i,r.isMergeableObject=r.isMergeableObject||n;var o=Array.isArray(t);return o===Array.isArray(e)?o?r.arrayMerge(e,t,r):function(e,t,r){var n={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(t){n[t]=a(e[t],r)}),Object.keys(t).forEach(function(o){r.isMergeableObject(t[o])&&e[o]?n[o]=s(e[o],t[o],r):n[o]=a(t[o],r)}),n}(e,t,r):a(t,r)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,r){return s(e,r,t)},{})};var u=s;t.default=u},function(e,t,r){"use strict";e.exports=function(e){return"object"===typeof e?function e(t,r){var n;n=Array.isArray(t)?[]:{};r.push(t);Object.keys(t).forEach(function(o){var a=t[o];"function"!==typeof a&&(a&&"object"===typeof a?-1!==r.indexOf(t[o])?n[o]="[Circular]":n[o]=e(t[o],r.slice(0)):n[o]=a)});"string"===typeof t.name&&(n.name=t.name);"string"===typeof t.message&&(n.message=t.message);"string"===typeof t.stack&&(n.stack=t.stack);return n}(e,[]):"function"===typeof e?"[Function: "+(e.name||"anonymous")+"]":e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PERMISSIONS=t.CUSTOM_STREAM_TYPE=void 0;var n=j(r(76)),o=j(r(183)),a=j(r(48)),i=j(r(20)),s=j(r(24)),u=j(r(33)),l=j(r(46)),c=j(r(14)),d=j(r(25)),f=j(r(17)),p=j(r(34)),h=j(r(18)),m=j(r(35)),v=r(22),y=j(r(52)),g=r(132),b=j(r(128)),_=r(185),w=j(_),k=D(r(134)),E=r(135),P=j(r(365)),S=j(r(366)),x=j(r(189)),T=r(42),C=j(T),O=j(r(379)),R=D(r(186)),M=D(r(188));function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function j(e){return e&&e.__esModule?e:{default:e}}var I=t.CUSTOM_STREAM_TYPE="custom",A=5,N={requestTimeout:3e4,sendTransportOptions:{},recvTransportOptions:{}},L=t.PERMISSIONS={STREAM_VIDEO:"stream:video",STREAM_AUDIO:"stream:audio",STREAM_BROADCAST:"stream:broadcast",VIEWERS_READ:"viewers:read",ADMIN_KICK:"admin:kick",ADMIN_PROMOTE:"admin:promote",ADMIN_DEMOTE:"admin:demote"},F=function(e){function t(e,r,n){(0,f.default)(this,t);var o=(0,p.default)(this,(t.__proto__||(0,d.default)(t)).call(this));n=n||{},o._messages=new w.default,o._handleOffline=function(){o._emit(k.emitMessages(_.offlineMessages.messages))},o._handleOnline=function(){o._emit(k.emitMessages(o._messages.messages))},o._peerMessages={},window.addEventListener("offline",o._handleOffline),window.addEventListener("online",o._handleOnline),o.call=e.call,o._userOverrides=n.user,o.user=(0,c.default)({},e.user,o._userOverrides),o._stunServers=o.call.stun&&o.call.stun.servers?o.call.stun.servers.map(function(e){return"stun:"+e}):[],o._stunIndex=A,o._incrStunIndex=function(){o._stunIndex>o._stunServers.length?o._stunIndex=A:o._stunIndex+=A},o._iceServers=function(){if(0===o._stunIndex||!o._stunServers.length)return o.call.turn&&o.call.turn.servers&&o.call.turn.servers.length?o.call.turn.servers:[];var e=[{urls:o._stunServers.slice(o._stunIndex-A,o._stunIndex)}];return o.call.turn&&o.call.turn.servers&&o.call.turn.servers.length?o.call.turn.servers.concat(e):e},o._edgeIceServers=function(){var e=[];return o.call.turn&&o.call.turn.servers&&o.call.turn.servers.length&&o.call.turn.servers.forEach(function(t){if(Array.isArray(t.urls)){var r=t.urls.filter(function(e){return 0===e.indexOf("turn:")});r&&r.length&&e.push((0,c.default)({},t,{urls:r.map(function(e){return e.split("?")[0]})}))}}),e},o._iceRestartTimeout=null,o._broadcasterConsumerCheckInterval=null,o._support=n.support?n.support:new E.Support(o.call.support),o._joinCall=r,o._localPeerId=null,o._remotePeers=[],o._debug="true"===O.default.getItem("pvc:debug"),o._relayRegion=o.call.sfu&&o.call.sfu.region&&n.relayRegion&&o.call.sfu.region!==n.relayRegion?"relay":null,o._iceTransportPolicy=n.iceTransportPolicy||o._relayRegion||null,o._noTurn=!0===n.noTurn,o._preferTcp=!0===n.preferTcp,o._forceConnection=!0===n.forceConnection,o._forceTcp=!0===n.forceTcp,o._forceRecvTcp=!0===n.forceRecvTcp,o._forceSendTcp=!0===n.forceSendTcp,o._autoShiftBitrate=!(!1===n.autoShiftBitrate),o._maxProducingViewers=0===n.maxProducingViewers||n.maxProducingViewers?n.maxProducingViewers:null,o._statsInterval=n.statsInterval||null,o._receiveVideo=!1!==n.receiveVideo,o._receiveAudio=!1!==n.receiveAudio,o._sendVideo=!1!==n.sendVideo,o._sendAudio=!1!==n.sendAudio,o._maxBitrate=n.maxBitrate||null,o._delayAudioStart=!0===n.delayAudioStart,o._delayVideoStart=!0===n.delayVideoStart,o._requireRecv=!0===n.requireRecv,o._requireSend=!0===n.requireSend,o._flushLogs=!n.test,o._retries=n.retries||1/0,o._wsTransport=null,o._room=null,o._sendTransport=null,o._sendTransportFailed=!1,o._recvTransport=null,o._recvTransportFailed=!1,o._iceTransportPolicyUsed=null,o._requestId=0,o._ip=null,o._permissions=[],o._initialRun=!0,o._closed=!1,o._startResolve=null,o._startPromise=null,o._serverOptions=null,o._stableTimeout=null,o._stable=null,o._full=!1,o._fatalRoomError=null;var a=k.setDone().type;return o._pClose=new l.default(function(e){o.on(a,function(){e()})}),o._streams={},n.streams&&(0,u.default)(n.streams).forEach(function(e){o.setStream(e,n.streams[e])}),o.setLogData(),o}return(0,m.default)(t,e),(0,h.default)(t,[{key:"events",get:function(){return k}},{key:"devices",get:function(){return this._devices}},{key:"permissions",get:function(){return this._permissions}},{key:"peerId",get:function(){return this._localPeerId}}]),(0,h.default)(t,[{key:"hasPermission",value:function(e){return this._permissions&&-1!==this._permissions.indexOf(e)}},{key:"setStream",value:function(e,t){t.statsInterval=t.statsInterval||this._statsInterval,this._streams[e]=new S.default(e,this,t)}},{key:"forEachStream",value:function(e){var t=this;(0,u.default)(this._streams).forEach(function(r){e(t._streams[r],r)})}},{key:"setLogData",value:function(){C.default.setMessageContext("aggregates.callId",this.call.id),C.default.setMessageContext("aggregates.userId",this.user&&this.user.userId||"no user id"),C.default.setMessageContext("aggregates.scope",this.user&&this.user.scope||"no scope"),C.default.setMessageContext("aggregates.displayName",this.user&&this.user.displayName||"no display name")}},{key:"clearLogData",value:function(){C.default.removeMessageContext("aggregates.callId"),C.default.removeMessageContext("aggregates.peerId"),C.default.removeMessageContext("aggregates.userId"),C.default.removeMessageContext("aggregates.scope"),C.default.removeMessageContext("aggregates.displayName"),C.default.removeMessageContext("recvTransportId"),C.default.removeMessageContext("recvTransportState"),C.default.removeMessageContext("sendTransportId"),C.default.removeMessageContext("sendTransportState")}},{key:"_addMessage",value:function(e){this._messages.addMessage(e),this._emit(k.emitMessages(this._messages.messages))}},{key:"_removeMessage",value:function(e){this._messages.removeMessage(e),this._emit(k.emitMessages(this._messages.messages))}},{key:"_addPeerMessage",value:function(e,t){var r=this._peerMessages[e];r&&r.addMessage(t)&&this._emit(k.emitPeerMessages(r.messages))}},{key:"_removePeerMessage",value:function(e,t){var r=this._peerMessages[e];r&&(r.removeMessage(t),this._emit(k.emitPeerMessages(r.messages)))}},{key:"peerMessages",value:function(e){var t=this._peerMessages[e];return t?t.messages:[]}},{key:"close",value:function(){var e=(0,s.default)(i.default.mark(function e(t){var r=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=2;break}return e.abrupt("return",null);case 2:if(clearInterval(this._broadcasterConsumerCheckInterval),C.default.info("call close",{internal:t?"true":"false"}),this._flushLogs&&C.default.flush(),this._wsTransport&&this._wsTransport.setClosing(),window.removeEventListener("offline",this._handleOffline),window.removeEventListener("online",this._handleOnline),this._closed=!0,this._room)try{this._room.leave({clean:!0})}catch(n){C.default.warn("mediasoup room leave error",(0,T.errLog)(n))}if(this.forEachStream(function(e){return e.close()}),window.clearTimeout(this._stableTimeout),this._stable=null,!this._wsTransport){e.next=15;break}return e.abrupt("return",new l.default(function(e){setTimeout(function(){r._cleanup(),e()},250)}));case 15:return this._cleanup(),e.abrupt("return",l.default.resolve());case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_cleanup",value:function(){this._startResolve&&this._startResolve(),window.clearTimeout(this._iceRestartTimeout),this._wsTransport&&this._wsTransport.close(),this._emit(k.setDone()),this.clearLogData()}},{key:"updateMaxBitrate",value:function(){var e=(0,s.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._wsTransport.send("max-bitrate",t);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setDisplayName",value:function(e){C.default.info("updating displayName",(0,c.default)({},this.logData,{displayName:e})),this.user&&(this.user.displayName=e),this._wsTransport&&this._wsTransport.send("options",{peer:{displayName:e}})}},{key:"setMaxProducingViewers",value:function(e){C.default.info("updating maxProducingViewers",{maxProducingViewers:e}),this._maxProducingViewers=e,this._wsTransport&&this._wsTransport.send("options",{call:{maxProducingViewers:e}})}},{key:"getViewers",value:function(){var e=(0,s.default)(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._wsTransport){e.next=3;break}throw C.default.warn("calling get viewers on a disconnected call"),new Error("call not connected");case 3:if(this.hasPermission(L.VIEWERS_READ)){e.next=6;break}throw C.default.warn("viewer does not have permission to see other viewers"),new Error("no viewer read permission");case 6:return t=void 0,e.prev=7,e.next=10,this._request("viewers");case 10:t=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),C.default.error("viewers request rejected",(0,T.errLog)(e.t0)),e.abrupt("return");case 17:this._emit(k.setViewers(t.viewers));case 18:case"end":return e.stop()}},e,this,[[7,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"promoteViewer",value:function(){var e=(0,s.default)(i.default.mark(function e(t,r){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._wsTransport){e.next=3;break}throw C.default.warn("calling get viewers on a disconnected call"),new Error("call not connected");case 3:if(this.hasPermission(L.ADMIN_PROMOTE)){e.next=6;break}throw C.default.warn("viewer does not have permission to promote other viewers"),new Error("no admin promote permission");case 6:return n=void 0,e.prev=7,e.next=10,this._request("promote",{userId:t,permissions:r,webhook:!!o});case 10:n=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),C.default.error("promote request rejected",(0,T.errLog)(e.t0)),e.abrupt("return");case 17:this._emit(k.setViewers(n.viewers));case 18:case"end":return e.stop()}},e,this,[[7,13]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"demoteViewer",value:function(){var e=(0,s.default)(i.default.mark(function e(t,r){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._wsTransport){e.next=3;break}throw C.default.warn("calling get viewers on a disconnected call"),new Error("call not connected");case 3:if(this.hasPermission(L.ADMIN_DEMOTE)){e.next=6;break}throw C.default.warn("viewer does not have permission to demote other viewers"),new Error("no admin demote permission");case 6:return n=void 0,e.prev=7,e.next=10,this._request("demote",{userId:t,webhook:!!o,permissions:r});case 10:n=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),C.default.error("demote request rejected",(0,T.errLog)(e.t0)),e.abrupt("return");case 17:this._emit(k.setViewers(n.viewers));case 18:case"end":return e.stop()}},e,this,[[7,13]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"kickViewer",value:function(){var e=(0,s.default)(i.default.mark(function e(t,r){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._wsTransport){e.next=3;break}throw C.default.warn("calling get viewers on a disconnected call"),new Error("call not connected");case 3:if(this.hasPermission(L.ADMIN_KICK)){e.next=6;break}throw C.default.warn("viewer does not have permission to kick other viewers"),new Error("no admin kick permission");case 6:return n=void 0,e.prev=7,e.next=10,this._request("kick",{userId:t,webhook:!!o,streamOnly:!!r});case 10:n=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),C.default.error("demote request rejected",(0,T.errLog)(e.t0)),e.abrupt("return");case 17:this._emit(k.setViewers(n.viewers));case 18:case"end":return e.stop()}},e,this,[[7,13]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=this;return C.default.info("calls-core/call: start"),null!==this._startPromise?(C.default.info("call: start has already been called"),this._startPromise):(this._startPromise=new l.default(function(){var t=(0,s.default)(i.default.mark(function t(r,n){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(E.support.any){t.next=3;break}return n(new Error("Device is not supported")),t.abrupt("return");case 3:e._startResolve=r,e._initialRun||(e._emit(k.setConnected(!1)),e._emit(k.emitMessages(_.disconnectedMessages.messages))),e._wsTransport=new P.default(e.call.callUri,e._joinCall,e._retries),e._setup(r,n),e._wsTransport.once("connect",function(){e._emit(k.setConnected(!0))}),e._messages=new w.default,e._emit(k.emitMessages(e._messages.messages)),e._initialRun=!1;case 11:case"end":return t.stop()}},t,e)}));return function(e,r){return t.apply(this,arguments)}}()),this._startPromise)}},{key:"_emit",value:function(e){try{this.emit(e.type,e.payload)}catch(t){C.default.warn("unhandled call event handler error",(0,c.default)({},(0,T.errLog)(t),{event:e}))}}},{key:"_restartIce",value:function(){var e=this;if(C.default.debug("_restartIce",this._iceRestartTimeout),null===this._iceRestartTimeout){var t=function(){var r=(0,s.default)(i.default.mark(function r(){return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!e._closed&&e._room){r.next=2;break}return r.abrupt("return");case 2:if(C.default.debug("ice restart",e._wsTransport.online),!1!==e._wsTransport.online){r.next=6;break}return e._iceRestartTimeout=setTimeout(t.bind(e),500),r.abrupt("return");case 6:return r.prev=6,C.default.info("call: try ice restart"),r.next=10,e._room.restartIce();case 10:C.default.info("call: ice restart complete"),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(6),C.default.warn("call: restartIce error",(0,T.errLog)(r.t0));case 16:e._iceRestartTimeout=setTimeout(t.bind(e),5e3);case 17:case"end":return r.stop()}},r,e,[[6,13]])}));return function(){return r.apply(this,arguments)}}();t()}}},{key:"_setup",value:function(e,t){var r=this;C.default.debug("call setup"),this._wsTransport.on("need-user",function(){r._wsTransport.send("user",r.user)}),this._wsTransport.on("join-refresh",function(e){r.user=(0,c.default)({},e.body.user,r._userOverrides),r.call=e.body.call}),this._wsTransport.on("join-call-error",function(e){r._emit(k.joinCallError(e.error))}),this._wsTransport.on("call-rejected",function(){C.default.info("call rejected"),r._emit(k.callRejected());var e=r._roomError("Call rejected");e.rejected=!0,t(e),r.close(!0)}),this._wsTransport.on("call-ended",function(){C.default.info("call ended"),r.close(!0)}),this._wsTransport.on("Forbidden",function(){C.default.info("call ended - kicked"),r._emit(k.callForbidden()),r.close(!0)}),this._wsTransport.on("call-refresh",function(e){r.call=e}),this._wsTransport.on("disconnect",function(){var e=(0,s.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r._closed&&r._room){try{r._room.remoteClose({cause:"websocket disconnected"})}catch(t){}C.default.warn("SFU websocket connection disconnected")}case 1:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}()),this._wsTransport.on("mediasoup-notification",function(){var e=(0,s.default)(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C.default.debug("websocket transport mediasoup-notification",{mediasoupNotification:t}),!r._room||r._room.closed){e.next=12;break}return e.prev=2,e.next=5,r._room.receiveNotification(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),r._closed||(C.default.error("SFU mediasoup-notification error - retry with new client room",(0,T.errLog)(e.t0)),r._wsTransport.close(!1));case 10:e.next=13;break;case 12:C.default.warn("websocket transport mediasoup-notification on a closed room",{mediasoupNotification:t});case 13:case"end":return e.stop()}},e,r,[[2,7]])}));return function(t){return e.apply(this,arguments)}}()),this._wsTransport.on("active-speaker",function(e){C.default.debug("websocket transport activeSpeaker",{activeSpeaker:e})}),this._wsTransport.on("consumer-stats",function(e){r._stable&&"video"===e.mediaType&&r._serverOptions&&r._serverOptions.call&&r._serverOptions.call.defaultMinBitrate&&(e.consumerBitrate<r._serverOptions.call.defaultMinBitrate?r._stable.consumerBitrate?Date.now()>r._stable.consumerBitrate+1e3&&r._addMessage(_.TROUBLESHOOTING.UNSTABLE_NETWORK):r._stable.consumerBitrate=Date.now():delete r._stable.consumerBitrate),r._emit(k.setConsumerStats(e.peerId,e.streamName,e.id,e))}),this._wsTransport.on("producer-stats",function(e){r._stable&&"video"===e.mediaType&&r._serverOptions&&r._serverOptions.call&&r._serverOptions.call.defaultMinBitrate&&(e.producerBitrate<r._serverOptions.call.defaultMinBitrate?r._stable.producerBitrate?Date.now()>r._stable.producerBitrate+1e3&&r._addMessage(_.TROUBLESHOOTING.UNSTABLE_NETWORK):r._stable.producerBitrate=Date.now():delete r._stable.producerBitrate),r._emit(k.setProducerStats(e.streamName,e.id,e))}),this._wsTransport.on("reauth",(0,s.default)(i.default.mark(function e(){var t,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,r._joinCall({reauth:!0});case 4:t=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),C.default.warn("unable to join call",(0,T.errLog)(e.t0)),e.abrupt("return");case 11:return n=void 0,e.prev=12,e.next=15,r._request("auth",{token:t.authToken});case 15:n=e.sent,e.next=22;break;case 18:return e.prev=18,e.t1=e.catch(12),C.default.error("demote request rejected",(0,T.errLog)(e.t1)),e.abrupt("return");case 22:r._permissions=n.permissions,r._emit(k.setPermissions(n.permissions));case 24:case"end":return e.stop()}},e,r,[[1,7],[12,18]])}))),this._wsTransport.on("permissions",function(e){r._permissions=e.permissions,r._emit(k.setPermissions(e.permissions))}),this._wsTransport.on("room-full",function(e){r._full=e.full,r._emit(k.roomFull(e.full))}),this._wsTransport.on("app-data",function(e){C.default.debug("websocket transport appData",{appData:e}),r._emit(k.setAppData(e))}),this._wsTransport.on("options",function(e){C.default.debug("websocket transport options",{options:e}),r._serverOptions=e,r._emit(k.setOptions(e))}),this._wsTransport.on("ready",function(){var n=(0,s.default)(i.default.mark(function n(o){return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!r._closed){n.next=4;break}return C.default.debug("call: ready event fired after call was closed"),r._wsTransport.close(),n.abrupt("return");case 4:return C.default.info("websocket transport ready"),r._ip=o.ip,r._localPeerId=o.peerId,C.default.setMessageContext("aggregates.peerId",r._localPeerId),o.permissions&&(r._permissions=o.permissions,r._emit(k.setPermissions(o.permissions))),r._full=o.roomFull,r._emit(k.roomFull(r._full)),r._emit(k.roomData(r.user&&r.user.scope,o.peerId)),r._fatalRoomError=null,n.prev=13,n.next=16,r._setupMediasoupRoom();case 16:n.next=31;break;case 18:if(n.prev=18,n.t0=n.catch(13),C.default.warn("call closed",(0,T.errLog)(n.t0)),!r._fatalRoomError){n.next=25;break}r.close(!0),n.next=29;break;case 25:if(r._closed){n.next=29;break}return r._wsTransport.close(!1),r._flushLogs&&C.default.flush(),n.abrupt("return");case 29:return t(n.t0),n.abrupt("return");case 31:e();case 32:case"end":return n.stop()}},n,r,[[13,18]])}));return function(e){return n.apply(this,arguments)}}())}},{key:"createProducer",value:function(e,t,r){if(!this._room){var n="creating a producer on a room which has not been set up";throw C.default.warn(n),new Error(n)}return this._room.createProducer(e,t,r)}},{key:"_request",value:function(){var e=(0,s.default)(i.default.mark(function e(t,r){var n,o=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._requestId,this._requestId++,this._wsTransport.send("request",{requestId:n,type:t,request:r||null}),e.abrupt("return",new l.default(function(e,t){o._wsTransport.once("response-"+n,function(r){if(r&&r.reasons){var n=r.reasons&&r.reasons[0]&&r.reasons[0].text,o=new Error("request error: "+n);t(o)}else e(r)})}));case 4:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"_newRoom",value:function(){var e=this._noTurn||y.default.firefox&&(y.default.android||y.default.linux),t=this._iceTransportPolicy||this._localSettings.iceTransportPolicy||"all";this._iceTransportPolicyUsed=e?"all":t;var r=(0,a.default)({},N,{iceTransportPolicy:this._iceTransportPolicyUsed,recvTransportOptions:{udp:!this._forceTcp&&!this._forceRecvTcp,preferTcp:this._preferTcp},sendTransportOptions:{udp:!this._forceTcp&&!this._forceSendTcp,preferTcp:this._preferTcp}});if(!e){var n=y.default.msedge?this._edgeIceServers():this._iceServers();r.turnServers=n}C.default.debug("joinCall",{roomOptions:r}),this._room&&this._room.removeAllListeners(),this._room=new g.Room(r)}},{key:"_roomError",value:function(e,t){this._room&&this._room.removeAllListeners();var r=new Error(e);return t||(this._fatalRoomError=r),r}},{key:"createSendTransport",value:function(){var e=this;if(!this._room)throw new Error("no room established");try{this._sendTransport=this._room.createTransport("send",{maxBitrate:this._maxBitrate})}catch(t){throw C.default.error("unable to create send transport",(0,T.errLog)(t)),t}this._sendTransport.on("close",function(t){C.default.info('sending transport "close" event',{originator:t}),e._sendTransport=null})}},{key:"_setupMediasoupRoom",value:function(){var e=(0,s.default)(i.default.mark(function e(){var t=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new l.default(function(){var e=(0,s.default)(i.default.mark(function e(r,n){var a,l,d,f,p,h;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t._newRoom(),t._room.on("close",function(){t._room.removeAllListeners(),t._room=null,C.default.info("mediasoup room close"),t._closed?r():n(t._roomError("Mediasoup room closed",!0))}),t._room.on("request",function(){var e=(0,s.default)(i.default.mark(function e(r,o,a){var s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C.default.debug("sending mediasoup request",{request:r}),s=void 0,e.prev=2,e.next=5,t._request("mediasoup",r);case 5:s=e.sent,e.next=24;break;case 8:if(e.prev=8,e.t0=e.catch(2),t._requireRecv){e.next=15;break}if(!("enableConsumer"===r.method||"createTransport"===r.method&&"recv"===r.direction||"restartTransport"===r.method&&r.id===(t._recvTransport&&t._recvTransport.id))){e.next=15;break}return C.default.warn("recv-related mediasoup request rejected",(0,c.default)({},(0,T.errLog)(e.t0),{req:r})),a(e.t0),e.abrupt("return");case 15:if(t._requireSend){e.next=20;break}if(!("createProducer"===r.method||"createTransport"===r.method&&"send"===r.direction||"restartTransport"===r.method&&r.id===(t._sendTransport&&t._sendTransport.id))){e.next=20;break}return C.default.warn("send-related mediasoup request rejected",(0,c.default)({},(0,T.errLog)(e.t0),{req:r})),a(e.t0),e.abrupt("return");case 20:return C.default.error("mediasoup request rejected",(0,c.default)({},(0,T.errLog)(e.t0),{req:r})),a(e.t0),n(t._roomError("mediasoup request rejected")),e.abrupt("return");case 24:o(s);case 25:case"end":return e.stop()}},e,t,[[2,8]])}));return function(t,r,n){return e.apply(this,arguments)}}()),t._room.on("notify",function(e){C.default.debug("sending mediasoup notification",{notification:e}),t._wsTransport.send("mediasoup-notification",e)}),t._room.on("newpeer",function(e){C.default.debug('room "newpeer" event',{peer:e}),t._handlePeer(e,n)}),a=function(){var e=(0,s.default)(i.default.mark(function e(r){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._room.join(t._localPeerId,{call:{autoShiftBitrate:t._autoShiftBitrate,maxProducingViewers:t._maxProducingViewers},peer:{endable:!0,statsInterval:t._statsInterval}});case 3:e.next=14;break;case 5:if(e.prev=5,e.t0=e.catch(0),!r){e.next=12;break}throw C.default.error.apply(C.default,["unable to join mediasoup room"].concat((0,o.default)((0,T.errLog)(e.t0)))),e.t0;case 12:throw C.default.warn.apply(C.default,["unable to join mediasoup room"].concat((0,o.default)((0,T.errLog)(e.t0)))),e.t0;case 14:case"end":return e.stop()}},e,t,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),l=void 0,l=1;case 8:if(!(l<=3)){e.next=25;break}return d=3===l,e.prev=10,e.next=13,a();case 13:e.next=21;break;case 15:if(e.prev=15,e.t0=e.catch(10),!d&&t._room){e.next=20;break}return n(t._roomError("Unable to join call")),e.abrupt("return");case 20:return e.abrupt("continue",22);case 21:return e.abrupt("break",25);case 22:l++,e.next=8;break;case 25:if(C.default.info("mediasoup room joined"),!(0,u.default)(t._streams).length){e.next=35;break}e.prev=27,t.createSendTransport(),e.next=35;break;case 31:return e.prev=31,e.t1=e.catch(27),t._requireSend&&n(t._roomError("Unable to create send transport")),e.abrupt("return");case 35:if(!t._receiveAudio&&!t._receiveVideo){e.next=50;break}e.prev=36,t._recvTransport=t._room.createTransport("recv"),e.next=49;break;case 40:if(e.prev=40,e.t2=e.catch(36),!(e.t2.message&&e.t2.message.indexOf("c004e001")>-1)){e.next=46;break}return C.default.warn("unable to create receiving transport: c004e001 error",(0,T.errLog)(e.t2)),n(t._roomError("failed to setup receiving transport")),e.abrupt("return");case 46:return C.default.error("unable to create receiving transport",(0,T.errLog)(e.t2)),t._requireRecv&&n(t._roomError("failed to setup receiving transport")),e.abrupt("return");case 49:t._recvTransport.on("close",function(e){C.default.info('receiving transport "close" event originator',{originator:e}),n(t._roomError("receiving transport has been closed",!0)),t._recvTransport=null});case 50:e.prev=50,t._emit(k.setMediaCapabilities({canSendMic:t._room&&t._room.canSend("audio"),canSendWebcam:t._room&&t._room.canSend("video")})),e.next=59;break;case 54:return e.prev=54,e.t3=e.catch(50),C.default.warn("call: canSend error",(0,T.errLog)(e.t3)),t._requireSend&&n(t._roomError("call: canSend error")),e.abrupt("return");case 59:if(t.forEachStream(function(){var e=(0,s.default)(i.default.mark(function e(r){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.hasVideoStreamRetriever&&!t._delayVideoStart&&t.hasPermission(L.STREAM_VIDEO)>-1)){e.next=11;break}if(e.prev=1,!t._room||!t._room.canSend("video")){e.next=5;break}return e.next=5,r.enableVideo();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),C.default.warn("Unable to set video producer",(0,T.errLog)(e.t0)),t._addMessage(_.TROUBLESHOOTING.NO_WEBCAM);case 11:if(!(r.hasAudioStreamRetriever&&!t._delayAudioStart&&t.hasPermission(L.STREAM_AUDIO)>-1)){e.next=22;break}if(e.prev=12,!t._room||!t._room.canSend("audio")){e.next=16;break}return e.next=16,r.enableAudio();case 16:e.next=22;break;case 18:e.prev=18,e.t1=e.catch(12),C.default.warn("Unable to set audio producer",(0,T.errLog)(e.t1)),t._addMessage(_.TROUBLESHOOTING.NO_MIC);case 22:case"end":return e.stop()}},e,t,[[1,7],[12,18]])}));return function(t){return e.apply(this,arguments)}}()),t._room)for(f=(0,u.default)(t._room.peers),p=f.length-1;p>=0;p--)h=t._room.peers[f[p]],t._handlePeer(h,n);t._recvTransport&&t._recvTransport.on("connectionstatechange",function(e){C.default.setMessageContext("recvTransportId",t._recvTransport.id),C.default.setMessageContext("recvTransportState",e);var r=navigator.connection||navigator.mozConnection||navigator.webkitConnection;C.default.info("receiving transport connection state change",{transportId:t._recvTransport&&t._recvTransport.id,state:e,connection:r&&r.effectiveType}),t._emit(k.setReceivingIceState(e)),"connected"!==e&&"completed"!==e||(window.clearTimeout(t._iceRestartTimeout),t._iceRestartTimeout=null),"connected"===e?(t._recvTransportFailed=!1,t._recvTransport.onceConnected=!0,t._removeMessage(_.TROUBLESHOOTING.NETWORK_FIREWALLED),t._removeMessage(_.TROUBLESHOOTING.WEBRTC_RECV_DISCONNECTED)):"disconnected"===e?(t._addMessage(_.TROUBLESHOOTING.WEBRTC_RECV_DISCONNECTED),t._restartIce()):"failed"===e?(t._recvTransportFailed=!0,C.default.warn("receiving transport entered failed state",{state:e}),t._requireRecv?n(t._roomError("Receive transport failed")):(t._addMessage(_.TROUBLESHOOTING.WEBRTC_RECV_DISCONNECTED),t._restartIce(),t._recvTransport.onceConnected||t._addMessage(_.TROUBLESHOOTING.NETWORK_FIREWALLED))):"closed"===e&&(t._closed||n(t._roomError("Receive transport closed prematurely",!0)))}),t._sendTransport&&t._sendTransport.on("connectionstatechange",function(e){C.default.setMessageContext("sendTransportId",t._sendTransport.id),C.default.setMessageContext("sendTransportState",e);var r=navigator.connection||navigator.mozConnection||navigator.webkitConnection;C.default.info("sending transport connection state change",{transportId:t._sendTransport&&t._sendTransport.id,state:e,connection:r&&r.effectiveType}),t._emit(k.setSendingIceState(e)),"connected"!==e&&"completed"!==e||(window.clearTimeout(t._iceRestartTimeout),t._iceRestartTimeout=null),"connected"===e?(t._sendTransportFailed=!1,t._sendTransport.onceConnected=!0,t._removeMessage(_.TROUBLESHOOTING.NETWORK_FIREWALLED),t._removeMessage(_.TROUBLESHOOTING.WEBRTC_SEND_DISCONNECTED)):"disconnected"===e?(t._addMessage(_.TROUBLESHOOTING.WEBRTC_SEND_DISCONNECTED),t._restartIce()):"failed"===e?(t._sendTransportFailed=!0,C.default.warn("sending transport entered failed state",{state:e}),t._requireSend?n(t._roomError("Sent transport failed")):(t._addMessage(_.TROUBLESHOOTING.WEBRTC_SEND_DISCONNECTED),t._restartIce(),t._sendTransport.onceConnected||t._addMessage(_.TROUBLESHOOTING.NETWORK_FIREWALLED))):"closed"===e&&(t._closed||n(t._roomError("Send transport closed prematurely",!0)))}),t._stableTimeout=window.setTimeout(function(){t._stable={}},5e3);case 64:case"end":return e.stop()}},e,t,[[10,15],[27,31],[36,40],[50,54]])}));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_broadcasterConsumerCheck",value:function(e){var t=this;null===this._broadcasterConsumerCheckInterval&&(this._broadcasterConsumerCheckInterval=setInterval(function(){var r=!1,n=!1,o=!1,a=null;e._consumers.forEach(function(e){if("video"===e.kind)return r=!0,o=e._track&&e._track.enabled,void(a=e.supported);"audio"===e.kind&&(n=!0)}),r&&n&&o?(C.default.info("calls-core/call: broadcaster has sent both consumers"),clearInterval(t._broadcasterConsumerCheckInterval)):C.default.warn("calls-core/call: missing consumers",{hasAudio:n,hasVideo:r,videoEnabled:o,useragent:navigator&&navigator.userAgent||"",supported:a})},4e3))}},{key:"_handlePeer",value:function(){var e=(0,s.default)(i.default.mark(function e(t,r){var n,o,a,s=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.appData){e.next=3;break}return C.default.error("invalid peer does not have appData",{peer:t}),e.abrupt("return");case 3:if("admin"!==t.appData.scope){e.next=5;break}return e.abrupt("return");case 5:for("broadcaster"===t.appData.scope&&this._broadcasterConsumerCheck(t),this._closed||(this._removeMessage(_.TROUBLESHOOTING.ONE_TO_ONE_PEER_DISCONNECTED),this._emit(k.addPeer({peerId:t.name,userId:t.appData&&t.appData.userId,displayName:t.appData&&t.appData.displayName,avatar:t.appData&&t.appData.avatar,scope:t.appData&&t.appData.scope,muted:!1})),this._emit(k.peerChange(t,"added"))),n=(0,u.default)(t.consumers),o=n.length-1;o>=0;o--)a=t.consumers[n[o]],this._handleConsumer(a,r);t.on("close",function(e){C.default.info('peer "close" event',{peerId:t.name,originator:e}),delete s._peerMessages[t.name],s._closed||(s._emit(k.removePeer(t.name)),s._emit(k.peerChange(t,"removed")),"caller"!==t.appData.scope&&"receiver"!==t.appData.scope||s._addMessage(_.TROUBLESHOOTING.ONE_TO_ONE_PEER_DISCONNECTED))}),t.on("newconsumer",function(e){C.default.debug('peer "newconsumer" event',{peerId:t.name}),s._handleConsumer(e,r)});case 11:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"_handleConsumer",value:function(){var e=(0,s.default)(i.default.mark(function e(t,r){var n,o,a=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._receiveAudio||"audio"!==t.kind){e.next=2;break}return e.abrupt("return");case 2:if(this._receiveVideo||"video"!==t.kind){e.next=4;break}return e.abrupt("return");case 4:if(n=t.rtpParameters.codecs[0],t.on("close",function(e){C.default.info('consumer "close" event',{id:t.id}),a._emit(k.removeConsumer(t.peer.name,t.appData.streamName,t.id)),a._emit(k.peerChange(t.peer,"consumer_removed"))}),t.on("pause",function(e){C.default.debug('consumer "pause" event',{id:t.id}),a._emit(k.setConsumerPaused(t.peer.name,t.appData.streamName,t.id,e))}),t.on("resume",function(e){C.default.debug('consumer "resume" event',{id:t.id}),a._emit(k.setConsumerResumed(t.peer.name,t.appData.streamName,t.id,e))}),t.on("effectiveprofilechange",function(e){C.default.debug('consumer "effectiveprofilechange" event',{id:t.id}),a._emit(k.setConsumerEffectiveProfile(t.peer.name,t.appData.streamName,t.id,e))}),this._emit(k.addConsumer(t.peer.name,t.appData.streamName,{id:t.id,peerId:t.peer.name,kind:t.kind,streamName:t.appData.streamName,supported:t.supported,locallyPaused:t.locallyPaused,remotelyPaused:t.remotelyPaused,paused:t.locallyPaused||t.remotelyPaused,track:null,codec:n?n.name:null,pause:t.pause.bind(t),resume:t.resume.bind(t)})),this._emit(k.peerChange(t.peer,"consumer_added")),!t.supported||!this._recvTransport){e.next=30;break}return o=void 0,e.prev=13,e.next=16,t.receive(this._recvTransport);case 16:o=e.sent,R.attachTo(t,this._statsInterval),M.watchCpuSpikes(t),t.on("webrtc-stats",function(e){a.emit("webrtc-stats",e)}),t.on("webrtc-anomaly",function(e){a.emit("webrtc-anomaly",e)}),e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(13),"TimeoutError"===e.t0.name?(C.default.warn("timeout receiving a consumer",(0,T.errLog)(e.t0)),this._requireRecv&&r(this._roomError("timeout receiving a new consumer",!0))):("OperationError"===e.t0.name?C.default.warn("OperationError error while receiving a new consumer",(0,T.errLog)(e.t0)):this._recvTransport&&"connected"===this._recvTransport.connectionState?C.default.error("unexpected error while receiving a new consumer",(0,T.errLog)(e.t0)):C.default.warn("receiver transport not connected - ignoring consumer",(0,T.errLog)(e.t0)),this._requireRecv&&r(this._roomError("error receiving a new consumer"))),e.abrupt("return");case 27:this._emit(k.setConsumerTrack(t.peer.name,t.appData.streamName,t.id,o)),e.next=31;break;case 30:t.supported||(C.default.warn("consumer is unsupported",{kind:t.kind,id:t.id,streamName:t.appData.streamName,peerId:t.peer.name,codec:n?n.name:null}),this._requireRecv&&r(this._roomError("error receiving a new consumer - not supported")));case 31:case"end":return e.stop()}},e,this,[[13,23]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"setVideoStreamRetriever",value:function(){var e=(0,s.default)(i.default.mark(function e(t,r,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._streams[t]){e.next=4;break}throw o="setVideoStreamRetriever on invalid stream",C.default.error(o),new Error(o);case 4:return e.abrupt("return",this._streams[t].setVideoStreamRetriever(a,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setAudioStreamRetriever",value:function(){var e=(0,s.default)(i.default.mark(function e(t,r,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._streams[t]){e.next=4;break}throw o="setAudioStreamRetriever on invalid stream",C.default.error(o),new Error(o);case 4:return e.abrupt("return",this._streams[t].setAudioStreamRetriever(a,r,n,s));case 5:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"muteAudio",value:function(){var e=(0,s.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._streams[t]){e.next=4;break}throw r="muteAudio on invalid stream",C.default.error(r,{streamName:t}),new Error(r);case 4:return e.abrupt("return",this._streams[t].pauseAudio());case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"unmuteAudio",value:function(){var e=(0,s.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._streams[t]){e.next=4;break}throw r="unmuteAudio on invalid stream",C.default.error(r,{streamName:t}),new Error(r);case 4:return e.abrupt("return",this._streams[t].enableAudio(!1));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"disableAudio",value:function(){var e=(0,s.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._streams[t]){e.next=4;break}throw r="disableAudio on invalid stream",C.default.error(r,{streamName:t}),new Error(r);case 4:return e.abrupt("return",this._streams[t].disableAudio());case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"enableAudio",value:function(){var e=(0,s.default)(i.default.mark(function e(t,r){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._streams[t]){e.next=4;break}throw n="enableAudio on invalid stream",C.default.error(n,{streamName:t}),new Error(n);case 4:return e.abrupt("return",this._streams[t].enableAudio(r,o));case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"enableVideo",value:function(){var e=(0,s.default)(i.default.mark(function e(t,r){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._streams[t]){e.next=4;break}throw n="enableVideo on invalid stream",C.default.error(n,{streamName:t}),new Error(n);case 4:return e.abrupt("return",this._streams[t].enableVideo(r,o));case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"disableVideo",value:function(){var e=(0,s.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._streams[t]){e.next=4;break}throw r="disableVideo on invalid stream",C.default.error(r,{streamName:t}),new Error(r);case 4:return e.abrupt("return",this._streams[t].disableVideo());case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"unpauseVideo",value:function(){var e=(0,s.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._streams[t]){e.next=4;break}throw r="unpauseVideo on invalid stream",C.default.error(r,{streamName:t}),new Error(r);case 4:return e.abrupt("return",this._streams[t].enableVideo(!1));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"pauseVideo",value:function(){var e=(0,s.default)(i.default.mark(function e(t){var r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._streams[t]){e.next=4;break}throw r="pauseVideo on invalid stream",C.default.error(r,{streamName:t}),new Error(r);case 4:return e.abrupt("return",this._streams[t].pauseVideo());case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"closed",get:function(){return this._closed}},{key:"sendTransport",get:function(){return this._sendTransport}},{key:"receiveTransport",get:function(){return this._recvTransport}},{key:"streamNames",get:function(){return(0,u.default)(this._streams)}},{key:"messages",get:function(){return this._messages.messages}},{key:"_localSettings",get:function(){var e=O.default.getItem("pvc:"+this._ip+":settings");if(!e)return{};var t=void 0;try{t=JSON.parse(e)}catch(r){return C.default.error("unable to parse settings",(0,c.default)({data:e},(0,T.errLog)(r))),{}}return t},set:function(e){O.default.setItem("pvc:"+this._ip+":settings",(0,n.default)(e))}}]),t}(v.EventEmitter),U=function(e,t,r){var n="true"===O.default.getItem("pvc:debug"),o="";r.test?o="/test":t&&(o="/"+t);var a=e.sfu.uri+"/v2/"+e.id+o+"?debug="+(n?"true":"false")+"&support="+E.support.hash+"&client_name="+r.clientName+"&client_version="+r.clientVersion;return!1===r.sendAudio&&!1!==r.sendVideo?a+="&videoOnly=true":!1!==r.sendAudio&&!1===r.sendVideo&&(a+="&audioOnly=true"),r.expectedStreamNames&&(a=a+"&esn="+r.expectedStreamNames.join(",")),r.forceConnection&&(a+="&forceConnection=true"),r.user&&(a+="&udata=true"),a};t.default=function(){var e=(0,s.default)(i.default.mark(function e(t,r,n){var o,a,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={method:"post",callId:t,failoverUrls:n.failoverUrls},n.auth&&(o.auth=n.auth),n.authOptions&&(o.auth=new b.default(n.authOptions)),n.clientName||(n.clientName=""),n.clientVersion||(n.clientVersion=""),n.sfu&&(o.query={sfu:n.sfu.sfu,region:n.sfu.region,version:n.sfu.version}),a=function(){var e=(0,s.default)(i.default.mark(function e(a){var s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=void 0,e.prev=1,e.next=4,(0,x.default)(r,(0,c.default)({},o,a,{warnStatuses:[404,422]}));case 4:s=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),404===e.t0.status?C.default.warn("sfu unavailable",(0,c.default)({id:t,joinUrl:r},(0,T.errLog)(e.t0))):503===e.t0.status?C.default.error("unable to join a call - no sfus available",(0,c.default)({id:t,joinUrl:r},(0,T.errLog)(e.t0))):C.default.warn("unable to get sfu uri",(0,c.default)({id:t,joinUrl:r},(0,T.errLog)(e.t0))),e.t0;case 11:return s.body.call.callUri=U(s.body.call,s.authToken,n),e.abrupt("return",s);case 13:case"end":return e.stop()}},e,void 0,[[1,7]])}));return function(t){return e.apply(this,arguments)}}(),e.next=9,a();case 9:return u=e.sent,e.abrupt("return",new F(u.body,a,n));case 11:case"end":return e.stop()}},e,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(130),a=(n=o)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,a.default)(e)}},function(e,t){var r=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"invalid",names:["value"]}]};Object.keys(r).forEach(function(e){r[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disconnectedMessages=t.offlineMessages=t.PEER_MESSAGES=t.TROUBLESHOOTING=void 0;var n=i(r(33)),o=i(r(17)),a=i(r(18));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,o.default)(this,e),this._messages={}}return(0,a.default)(e,[{key:"addMessage",value:function(e){this._messages[e.code]=e}},{key:"removeMessage",value:function(e){delete this._messages[e.code]}},{key:"messages",get:function(){var e=this;return(0,n.default)(this._messages).map(function(t){return e._messages[t]}).sort(function(e,t){return e.code-t.code})}}]),e}(),u=new s;u.addMessage({code:1001,type:"network",level:"error",message:"Internet disconnected",explanation:"Check your internet connection and reconnect to the network"});var l=new s;l.addMessage({code:1002,type:"network",level:"error",message:"Call disconnected",explanation:"Please wait while the call reconnects"});t.TROUBLESHOOTING={NO_WEBCAM:{code:1003,type:"webcam",level:"warn",message:"No webcam found",explanation:"Make sure your webcam is connected and your browser has permission to use it"},NO_MIC:{code:1004,type:"microphone",level:"warn",message:"No microphone found",explanation:"Make sure your microphone is connected and your browser has permission to use it"},NETWORK_FIREWALLED:{code:1005,type:"network",level:"error",message:"Connection blocked by firewall",explanation:"Disable firewall"},UNSTABLE_NETWORK:{code:1006,type:"network",level:"warn",message:"Unstable connection",explanation:"If on wifi, try connecting to a stronger network"},WEBRTC_RECV_DISCONNECTED:{code:1007,type:"network",level:"error",message:"Unable to receive stream",explanation:"If on wifi, try connecting to a stronger network"},WEBRTC_SEND_DISCONNECTED:{code:1008,type:"network",level:"warn",message:"Unable to send stream",explanation:"If on wifi, try connecting to a stronger network"},ONE_TO_ONE_PEER_DISCONNECTED:{code:1009,type:"network",level:"error",message:"Peer disconnected",explanation:"Please wait for the other user to come back online"}},t.PEER_MESSAGES={UNSTABLE_PEER:{code:2001,type:"network",level:"error",message:"This user's connection is unstable"}},t.offlineMessages=u,t.disconnectedMessages=l,t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachTo=void 0;var n=c(r(20)),o=c(r(53)),a=c(r(368)),i=c(r(24)),s=(t.attachTo=function(){var e=(0,i.default)(n.default.mark(function e(t,r){var c,d,g,b,_=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.transport&&"video"===t.kind){e.next=3;break}return u.default.error("must be video consumer or video producer",{peer:t}),e.abrupt("return");case 3:c="function"===typeof t.receive?"consumer":"producer",l.CPU.enableStats(),d=null,t.transport.peerConnection?(g=function(){var e=(0,i.default)(n.default.mark(function e(){var i,u,g,b,w,k,E,P,S;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.transport.peerConnection.getStats();case 2:if(u=e.sent,null!==d){e.next=6;break}return d=u,e.abrupt("return");case 6:g="consumer"===c?h(u,d):p(u,d),b="consumer"===c?m(u):v(u,d),w=f(u,t.track),k=(0,a.default)(w,2),E=k[0],P=k[1],S={type:c,id:t.id,bitrate:g,width:E,height:P,fractionLost:b,cpu:l.CPU.averageCpuUsage(r),rtt:y(u),transportStatus:t.transport.connectionState},d=u,t.emit("webrtc-stats",S),(0,s.throttledLog)("webrtc stats","debug",1e3,(i={type:c},(0,o.default)(i,c,t.id),(0,o.default)(i,"stats",S),i));case 13:case"end":return e.stop()}},e,_)}));return function(){return e.apply(this,arguments)}}(),b=setInterval(g,r),t.on("close",function(){clearInterval(b),l.CPU.disableStats(),d=null}),t.on("pause",function(){clearInterval(b),l.CPU.disableStats(),d=null}),t.on("resume",function(){b=setInterval(g,r),l.CPU.enableStats()})):(t.enableStats(r),t.on("stats",function(e){var n,i=e.filter(function(e){return"inbound-rtp"===e.type});if(0!==i.length){var u=f(null,t.track),d=(0,a.default)(u,2),p=d[0],h=d[1],m={type:c,id:t.id,bitrate:i[0].bitrate,width:p,height:h,fractionLost:i[0].fractionLost,cpu:l.CPU.averageCpuUsage(r),rtt:0,transportStatus:t.transport.connectionState};t.emit("webrtc-stats",m),(0,s.throttledLog)("webrtc stats","debug",1e3,(n={type:c},(0,o.default)(n,c,t.id),(0,o.default)(n,"stats",m),n))}}),t.on("close",function(){t.disableStats(),l.CPU.disableStats()}),t.on("pause",function(){t.disableStats(),l.CPU.disableStats()}),t.on("resume",function(){t.enableStats(r),l.CPU.enableStats()}));case 7:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),r(42)),u=c(s),l=r(187);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;var n=null;return e.forEach(function(e){e.isRemote||(null!==r&&void 0===e.kind&&e.id?e.id.toLowerCase().includes(r)&&(n=e):e.type===t&&(n=e))}),n}function f(e,t){var r=d(e,"media-source","video");if(r){if(r.width&&r.height)return[r.width,r.height];if(r.frameWidth&&r.frameHeight)return[r.frameWidth,r.frameHeight]}if(t){var n=t.getSettings();return[n.width,n.height]}return[0,0]}function p(e,t){var r=d(e,"outbound-rtp","video");return r&&t&&t.has(r.id)?Math.ceil(8*(r.bytesSent-t.get(r.id).bytesSent)/(r.timestamp-t.get(r.id).timestamp)*1e3):0}function h(e,t){var r=d(e,"inbound-rtp","video");return r&&t&&t.has(r.id)?Math.ceil(8*(r.bytesReceived-t.get(r.id).bytesReceived)/(r.timestamp-t.get(r.id).timestamp)*1e3):0}function m(e){var t=d(e,"inbound-rtp","video");return t&&t.fractionLost?t.fractionLost:0}function v(e,t){var r=d(e,"outbound-rtp","video");if(!r||!t)return 0;var n=t.get(r.id);if(!n)return 0;var o=e.get(r.remoteId),a=t.get(n.remoteId),i=r.packetsSent-n.packetsSent,s=0;if(o&&a){s=i-(o.packetsReceived-a.packetsReceived)}else{var u=d(e,"remote-inbound-rtp","video"),l=d(t,"remote-inbound-rtp","video");u&&l&&u.packetsLost&&(s=u.packetsLost-l.packetsLost)}return s/i}function y(e){var t=function(e){var t=d(e,"transport");return t&&t.selectedCandidatePairId?e.get(t.selectedCandidatePairId):null}(e);return t&&(t.currentRoundTripTime||t.currentRtt)||0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CPU=void 0;var n=p(r(25)),o=p(r(17)),a=p(r(18)),i=p(r(34)),s=p(r(35)),u=p(r(20)),l=p(r(46)),c=p(r(24)),d=function(){var e=(0,c.default)(u.default.mark(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new l.default(function(e,n){window.chrome&&chrome.runtime&&"function"===typeof chrome.runtime.sendMessage?chrome.runtime.sendMessage(h,{event:t,value:r},function(t){chrome.runtime.lastError||void 0===t?n(chrome.runtime.lastError):e(t)}):n(new Error("not supported"))}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),f=p(r(22));function p(e){return e&&e.__esModule?e:{default:e}}var h="odapejiakkapklmhgeakppkidlkdbcbn",m=100;function v(e,t){return t+e}var y=function(e){function t(){(0,o.default)(this,t);var e=(0,i.default)(this,(t.__proto__||(0,n.default)(t)).call(this));return e._internalHandle=function(t){e._i=e._i<e._cpuUsage.length-1?e._i+1:0,e._cpuUsage[e._i]=t},e._cpuPort=null,e._i=0,e._currentInterval=m,e._internalListeners=0,e._updateCap(m),e.on("newListener",e._onNewListener.bind(e)),e.on("removeListener",e._onRemoveListener.bind(e)),e}return(0,s.default)(t,e),(0,a.default)(t,[{key:"enableStats",value:function(){0===this._internalListeners&&this.on("stats",this._internalHandle),this._internalListeners++}},{key:"disableStats",value:function(){this._internalListeners--,this._internalListeners<=0&&(this._internalListeners=0,this.off("stats",this._internalHandle))}},{key:"setInterval",value:function(){var e=(0,c.default)(u.default.mark(function e(t){var r;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("lv-cpu-usage-set-interval",t);case 3:return r=e.sent,this._currentInterval=r,this._updateCap(r),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getInterval",value:function(){var e=(0,c.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("lv-cpu-usage-get-interval");case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",null);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"isSupported",value:function(){var e=(0,c.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("lv-cpu-usage-enabled");case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"averageCpuUsage",value:function(e){if(e>3e4&&(e=3e4),e<=0)return 0;if(3e4===e)return this._cpuUsage.reduce(v,0)/this._cpuUsage.length;for(var t=0,r=e,n=this._i,o=0;r>0;)o++,r-=this._currentInterval,t+=this._cpuUsage[n],n=0===n?this._cpuUsage.length-1:n-1;return t/o}},{key:"_updateCap",value:function(e){this._cpuCap=3e4/e,this._cpuCap<=0&&(this._cpuCap=1),this._cpuUsage=new Float32Array(this._cpuCap)}},{key:"_onNewListener",value:function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("stats"!==t||null!==this._cpuPort){e.next=3;break}return e.next=3,this._connect();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_onRemoveListener",value:function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("stats"!==t||0!==this.listenerCount(t)){e.next=3;break}return e.next=3,this._disconnect();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_connect",value:function(){var e=(0,c.default)(u.default.mark(function e(){var t=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isSupported();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:if(null===this._cpuPort){e.next=6;break}return e.abrupt("return");case 6:try{this._cpuPort=chrome.runtime.connect(h),this._cpuPort.onMessage.addListener(function(e){e&&e.cpuStats&&t.emit("stats",e.cpuStats)}),this._cpuPort.onDisconnect.addListener(function(){t._cpuPort=null,t.emit("error",new Error("remote extension has been disconnected"))})}catch(r){this.emit("error",r)}case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_disconnect",value:function(){this._cpuPort&&this._cpuPort.disconnect()}},{key:"cpuUsage",get:function(){return this.averageCpuUsage(3e4)}},{key:"lastCpuUsage",get:function(){return this._cpuUsage[this._i]}}]),t}(f.default);t.CPU=new y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchCpuSpikes=void 0;var n=u(r(20)),o=u(r(14)),a=u(r(24)),i=(t.watchCpuSpikes=function(){var e=(0,a.default)(n.default.mark(function e(t){var r,a,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.9,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15e3;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.CPU.isSupported();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:r={bitrate:0},a=null,u=function(e){var n=i.CPU.averageCpuUsage(p);if(null!==a&&Date.now()-a>l){var u="CPU usage is too high for long time",h={cpuUsage:n,cpuUsageDuration:Date.now()-a};(0,s.throttledLog)(u,"error",c,(0,o.default)({},h,{aggregates:{messageGroup:"webrtc anomaly"}})),t.emit("webrtc-anomaly",(0,o.default)({message:u},h))}i.CPU.averageCpuUsage(1e3)>=f?null===a&&(a=Date.now()):a=null;var m=(r.bitrate-e.bitrate)/r.bitrate;if(m>d&&n>=f){var v="Bitrate has been dropped with high CPU usage",y={bitrateDrop:m,cpuUsage:n,cpuUsageDuration:Date.now()-a};(0,s.throttledLog)(v,"error",c,(0,o.default)({},y,{aggregates:{messageGroup:"webrtc anomaly"}})),t.emit("webrtc-anomaly",(0,o.default)({message:v},y))}r=e},t.on("webrtc-stats",u);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r(187)),s=r(42);function u(e){return e&&e.__esModule?e:{default:e}}var l=3e4,c=3e4},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(20)),o=d(r(14)),a=d(r(24)),i=d(r(375)),s=d(r(128)),u=r(42),l=d(u),c=d(r(378));function d(e){return e&&e.__esModule?e:{default:e}}var f={Accept:"application/json","Content-Type":"application/json"};t.default=function(){var e=(0,a.default)(n.default.mark(function e(t){var r,d,p,h,m,v,y,g,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.auth||b.auth instanceof s.default){e.next=3;break}throw l.default.error("auth must be a LivelyAuthorization object"),new Error("auth must be a LivelyAuthorization object");case 3:return r=b.auth||null,d=b.headers||{},p=(0,o.default)({},f,d),h=t,m=b.failoverUrls?b.failoverUrls.slice():[],v=!!m.length,y=function(){h=m[0],m=m.slice(1),v=!!m.length},g=function(){var e=(0,a.default)(n.default.mark(function e(t){var a,s,d,f,_,w,k,E;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0,!r){e.next=13;break}return b.reauth&&r.refreshToken(),e.prev=3,e.next=6,(0,c.default)(r);case 6:a=e.sent,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),l.default.warn("Authorization error",(0,u.errLog)(e.t0)),e.t0;case 13:return s={method:b.method?b.method:"get",headers:a?(0,o.default)({},p,{Authorization:"bearer "+a}):p},b.body&&(s.body=b.body),b.query&&(d=i.default.stringify(b.query),h=h.indexOf("?")>-1?h+"&"+d:h+"?"+d),f=void 0,e.prev=17,e.next=20,window.fetch(h,s);case 20:f=e.sent,e.next=30;break;case 23:if(e.prev=23,e.t1=e.catch(17),l.default.warn("Unable to reach server",(0,o.default)({useUrl:h},(0,u.errLog)(e.t1))),t||!v){e.next=29;break}return y(),e.abrupt("return",g(!m.length));case 29:throw e.t1;case 30:if(!f||204!==f.status){e.next=32;break}return e.abrupt("return",null);case 32:return _=void 0,e.prev=33,e.next=36,f.json();case 36:_=e.sent,e.next=55;break;case 39:return e.prev=39,e.t2=e.catch(33),w=void 0,e.prev=42,e.next=45,f.text();case 45:w=e.sent,e.next=50;break;case 48:e.prev=48,e.t3=e.catch(42);case 50:if(l.default.warn("Unexpected non-json response from server",{useUrl:h,body:w,statusCode:f.status}),t||!v){e.next=54;break}return y(),e.abrupt("return",g(!m.length));case 54:throw e.t2;case 55:if(!f||401!==f.status&&403!==f.status){e.next=63;break}if(!r||t){e.next=59;break}if(!r.refreshToken()){e.next=59;break}return e.abrupt("return",g(!0));case 59:throw l.default.warn("Authorization error from server",{useUrl:h,status:f.status,reasons:_&&_.reasons}),k=new Error("Authorization error from server"),f&&f.status&&(k.status=f.status),k;case 63:if(!(b.expectedStatus&&f.status!==b.expectedStatus||200!==f.status)){e.next=71;break}if(v||b.warnStatuses&&b.warnStatuses.indexOf(f.status)>-1?l.default.warn("Unexpected response code from server",{useUrl:h,status:f.status,reasons:_&&_.reasons}):l.default.error("Unexpected response code from server",{useUrl:h,status:f.status,reasons:_&&_.reasons}),E=new Error("Unexpected response code from server"),f&&f.status&&(E.status=f.status),t||!v){e.next=70;break}return y(),e.abrupt("return",g(!m.length));case 70:throw E;case 71:return e.abrupt("return",{authToken:a,body:_});case 72:case"end":return e.stop()}},e,void 0,[[3,9],[17,23],[33,39],[42,48]])}));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",g());case 12:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)"undefined"!==typeof e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:i,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var a=t[n],i=a.obj[a.prop],s=Object.keys(i),u=0;u<s.length;++u){var l=s[u],c=i[l];"object"===typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:i,prop:l}),r.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],a=0;a<r.length;++a)"undefined"!==typeof r[a]&&n.push(r[a]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(o){return n}},encode:function(e,t,r){if(0===e.length)return e;var n="string"===typeof e?e:String(e);if("iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var o="",i=0;i<n.length;++i){var s=n.charCodeAt(i);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?o+=n.charAt(i):s<128?o+=a[s]:s<2048?o+=a[192|s>>6]+a[128|63&s]:s<55296||s>=57344?o+=a[224|s>>12]+a[128|s>>6&63]+a[128|63&s]:(i+=1,s=65536+((1023&s)<<10|1023&n.charCodeAt(i)),o+=a[240|s>>18]+a[128|s>>12&63]+a[128|s>>6&63]+a[128|63&s])}return o},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,a){if(!r)return t;if("object"!==typeof r){if(o(t))t.push(r);else{if(!t||"object"!==typeof t)return[t,r];(a&&(a.plainObjects||a.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(r);var s=t;return o(t)&&!o(r)&&(s=i(t,a)),o(t)&&o(r)?(r.forEach(function(r,o){if(n.call(t,o)){var i=t[o];i&&"object"===typeof i&&r&&"object"===typeof r?t[o]=e(i,r,a):t.push(r)}else t[o]=r}),t):Object.keys(r).reduce(function(t,o){var i=r[o];return n.call(t,o)?t[o]=e(t[o],i,a):t[o]=i,t},s)}}},function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="@livelyvideo/web-encoder-core@1.8.25"},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(r(65)),r(107);var o=function(){return null};o.isRequired=function(){return null};var a=o;t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return function(){return null}};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.specialProperty=void 0;n(r(8)),n(r(3));var o="exact-prop: \u200b";t.specialProperty=o;var a=function(e){return e};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=o,t.default=void 0;var n=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function o(e){var t="".concat(e).match(n);return t&&t[1]||""}var a=function(e){return"string"===typeof e?e:e?e.displayName||e.name||o(e)||"Component":void 0};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.createGenerateClassName=t.sheets=t.RuleList=t.SheetsManager=t.SheetsRegistry=t.toCssValue=t.getDynamicStyles=void 0;var n=r(400);Object.defineProperty(t,"getDynamicStyles",{enumerable:!0,get:function(){return d(n).default}});var o=r(98);Object.defineProperty(t,"toCssValue",{enumerable:!0,get:function(){return d(o).default}});var a=r(199);Object.defineProperty(t,"SheetsRegistry",{enumerable:!0,get:function(){return d(a).default}});var i=r(401);Object.defineProperty(t,"SheetsManager",{enumerable:!0,get:function(){return d(i).default}});var s=r(80);Object.defineProperty(t,"RuleList",{enumerable:!0,get:function(){return d(s).default}});var u=r(137);Object.defineProperty(t,"sheets",{enumerable:!0,get:function(){return d(u).default}});var l=r(202);Object.defineProperty(t,"createGenerateClassName",{enumerable:!0,get:function(){return d(l).default}});var c=d(r(406));function d(e){return e&&e.__esModule?e:{default:e}}var f=t.create=function(e){return new c.default(e)};t.default=f()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.registry=[]}return n(e,[{key:"add",value:function(e){var t=this.registry,r=e.options.index;if(-1===t.indexOf(e))if(0===t.length||r>=this.index)t.push(e);else for(var n=0;n<t.length;n++)if(t[n].options.index>r)return void t.splice(n,0,e)}},{key:"reset",value:function(){this.registry=[]}},{key:"remove",value:function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)}},{key:"toString",value:function(e){return this.registry.filter(function(e){return e.attached}).map(function(t){return t.toString(e)}).join("\n")}},{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(108),a=(n=o)&&n.__esModule?n:{default:n};t.default=function(e){return e&&e[a.default]&&e===e[a.default]()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.renderable=t,e.rules&&t.cssRules&&e.rules.link(t.cssRules)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(66)),o=(a(r(203)),a(r(405)));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=0;return function(t,r){(e+=1)>1e10&&(0,n.default)(!1,"[JSS] You might have a memory leak. Rule counter is at %s.",e);var a="c",i="";return r&&(a=r.options.classNamePrefix||"c",null!=r.options.jss.id&&(i+=r.options.jss.id)),""+a+o.default+i+e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=s(r(201)),i=s(r(80));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,r){var o=this;for(var a in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.update=function(e,t){return"string"===typeof e?o.rules.update(e,t):o.rules.update(e),o},this.attached=!1,this.deployed=!1,this.linked=!1,this.classes={},this.options=n({},r,{sheet:this,parent:this,classes:this.classes}),this.renderer=new r.Renderer(this),this.rules=new i.default(this.options),t)this.rules.add(a,t[a]);this.rules.process()}return o(e,[{key:"attach",value:function(){return this.attached?this:(this.deployed||this.deploy(),this.renderer.attach(),!this.linked&&this.options.link&&this.link(),this.attached=!0,this)}},{key:"detach",value:function(){return this.attached?(this.renderer.detach(),this.attached=!1,this):this}},{key:"addRule",value:function(e,t,r){var n=this.queue;this.attached&&!n&&(this.queue=[]);var o=this.rules.add(e,t,r);return this.options.jss.plugins.onProcessRule(o),this.attached?this.deployed?(n?n.push(o):(this.insertRule(o),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),o):o:(this.deployed=!1,o)}},{key:"insertRule",value:function(e){var t=this.renderer.insertRule(e);t&&this.options.link&&(0,a.default)(e,t)}},{key:"addRules",value:function(e,t){var r=[];for(var n in e)r.push(this.addRule(n,e[n],t));return r}},{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"deleteRule",value:function(e){var t=this.rules.get(e);return!!t&&(this.rules.remove(t),!this.attached||!t.renderable||this.renderer.deleteRule(t.renderable))}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"deploy",value:function(){return this.renderer.deploy(),this.deployed=!0,this}},{key:"link",value:function(){var e=this.renderer.getRules();return e&&this.rules.link(e),this.linked=!0,this}},{key:"toString",value:function(e){return this.rules.toString(e)}}]),e}();t.default=u},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(419)),a=n(r(420)),i=n(r(422)),s=n(r(424)),u=n(r(426)),l=n(r(431));var c=function(){return{plugins:[(0,o.default)(),(0,a.default)(),(0,i.default)(),(0,s.default)(),"undefined"===typeof window?null:(0,u.default)(),(0,l.default)()]}};t.default=c},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3));n(r(19)),r(7);var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,r=e.newClasses;if(e.Component,!r)return t;var n=(0,o.default)({},t);return Object.keys(r).forEach(function(e){r[e]&&(n[e]="".concat(t[e]," ").concat(r[e]))}),n};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={black:"#000",white:"#fff"};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dangerouslyUseGlobalCSS,r=void 0!==t&&t,n=e.productionPrefix,o=void 0===n?"jss":n,i=e.seed,s=void 0===i?"":i,u=0;return function(e,t){return u+=1,r&&t&&t.options.name?"".concat(a(t.options.name),"-").concat(e.key):"".concat(o).concat(s).concat(u)}};n(r(19));var o=/([[\].#*$><+~=|^:(),"'`\s])/g;function a(e){return String(e).replace(o,"-")}},function(e,t,r){var n=r(450),o=r(451),a=r(452);e.exports=function(e){return n(e)||o(e)||a()}},function(e,t,r){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!==r&&void 0!==r?r:null}.bind(this))}function a(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var r=null,i=null,s=null;if("function"===typeof t.componentWillMount?r="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==i||null!==s){var u=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=o),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;c.call(this,e,t,n)}}return e}r.r(t),r.d(t,"polyfill",function(){return i}),n.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ModalManager",{enumerable:!0,get:function(){return a.default}});var o=n(r(460)),a=n(r(216))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(461))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(462))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(9)),a=n(r(10)),i=n(r(463)),s=n(r(219)),u=n(r(43)),l=n(r(471)),c=r(220);function d(e,t){var r=-1;return e.some(function(e,n){return!!t(e)&&(r=n,!0)}),r}function f(e){return parseInt((0,i.default)(e,"paddingRight")||0,10)}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e);var r=t.hideSiblingNodes,n=void 0===r||r,a=t.handleContainerOverflow,i=void 0===a||a;this.hideSiblingNodes=n,this.handleContainerOverflow=i,this.modals=[],this.data=[]}return(0,a.default)(e,[{key:"add",value:function(e,t){var r=this.modals.indexOf(e);if(-1!==r)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&(0,c.ariaHidden)(e.modalRef,!1),this.hideSiblingNodes&&(0,c.ariaHiddenSiblings)(t,e.mountNode,e.modalRef,!0);var n=d(this.data,function(e){return e.container===t});if(-1!==n)return this.data[n].modals.push(e),r;var o={modals:[e],container:t,overflowing:(0,l.default)(t),prevPaddings:[]};return this.data.push(o),r}},{key:"mount",value:function(e){var t=d(this.data,function(t){return-1!==t.modals.indexOf(e)}),r=this.data[t];!r.style&&this.handleContainerOverflow&&function(e){e.style={overflow:e.container.style.overflow,paddingRight:e.container.style.paddingRight};var t={overflow:"hidden"};if(e.overflowing){var r=(0,s.default)();t.paddingRight="".concat(f(e.container)+r,"px");for(var n=(0,u.default)(e.container).querySelectorAll(".mui-fixed"),o=0;o<n.length;o+=1){var a=f(n[o]);e.prevPaddings.push(a),n[o].style.paddingRight="".concat(a+r,"px")}}Object.keys(t).forEach(function(r){e.container.style[r]=t[r]})}(r)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var r=d(this.data,function(t){return-1!==t.modals.indexOf(e)}),n=this.data[r];if(n.modals.splice(n.modals.indexOf(e),1),this.modals.splice(t,1),0===n.modals.length)this.handleContainerOverflow&&function(e){e.style&&Object.keys(e.style).forEach(function(t){e.container.style[t]=e.style[t]});for(var t=(0,u.default)(e.container).querySelectorAll(".mui-fixed"),r=0;r<t.length;r+=1)t[r].style.paddingRight="".concat(e.prevPaddings[r],"px")}(n),e.modalRef&&(0,c.ariaHidden)(e.modalRef,!0),this.hideSiblingNodes&&(0,c.ariaHiddenSiblings)(n.container,e.mountNode,e.modalRef,!1),this.data.splice(r,1);else if(this.hideSiblingNodes){var o=n.modals[n.modals.length-1];o.modalRef&&(0,c.ariaHidden)(o.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}();t.default=p},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=function(e){return(0,o.default)(e.replace(a,"ms-"))};var o=n(r(464)),a=/^-ms-/;e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=!("undefined"===typeof window||!window.document||!window.document.createElement);t.default=n,e.exports=t.default},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=function(e){if((!o&&0!==o||e)&&a.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),o=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return o};var o,a=n(r(218));e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ariaHidden=o,t.ariaHiddenSiblings=function(e,t,r,a){!function(e,t,r,o){var a=[t,r];[].forEach.call(e.children,function(e){-1===a.indexOf(e)&&function(e){return 1===e.nodeType&&-1===n.indexOf(e.tagName.toLowerCase())}(e)&&o(e)})}(e,t,r,function(e){return o(e,a)})};var n=["template","script","style"];function o(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(475))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(477))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(478))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(479))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(481))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(487))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(488))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(9)),s=n(r(10)),u=n(r(11)),l=n(r(12)),c=n(r(13)),d=n(r(1)),f=(n(r(2)),n(r(26))),p=n(r(219)),h=n(r(5)),m=n(r(494)),v=n(r(497)),y={vertical:"top",horizontal:"right"},g={vertical:"top",horizontal:"left"},b={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}};t.styles=b;var _=function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=(0,u.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(o)))).getContentAnchorEl=function(){return r.menuListRef.selectedItemRef?f.default.findDOMNode(r.menuListRef.selectedItemRef):f.default.findDOMNode(r.menuListRef).firstChild},r.focus=function(){if(r.menuListRef&&r.menuListRef.selectedItemRef)f.default.findDOMNode(r.menuListRef.selectedItemRef).focus();else{var e=f.default.findDOMNode(r.menuListRef);e&&e.firstChild&&e.firstChild.focus()}},r.handleMenuListRef=function(e){r.menuListRef=e},r.handleEntering=function(e){var t=r.props,n=t.disableAutoFocusItem,o=t.theme,a=f.default.findDOMNode(r.menuListRef);if(!0!==n&&r.focus(),a&&e.clientHeight<a.clientHeight&&!a.style.width){var i="".concat((0,p.default)(),"px");a.style["rtl"===o.direction?"paddingLeft":"paddingRight"]=i,a.style.width="calc(100% + ".concat(i,")")}r.props.onEntering&&r.props.onEntering(e)},r.handleListKeyDown=function(e){"Tab"===e.key&&(e.preventDefault(),r.props.onClose&&r.props.onClose(e,"tabKeyDown"))},r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.props.open&&!0!==this.props.disableAutoFocusItem&&this.focus()}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.classes,n=(e.disableAutoFocusItem,e.MenuListProps),i=(e.onEntering,e.PaperProps),s=void 0===i?{}:i,u=e.PopoverClasses,l=e.theme,c=(0,a.default)(e,["children","classes","disableAutoFocusItem","MenuListProps","onEntering","PaperProps","PopoverClasses","theme"]);return d.default.createElement(m.default,(0,o.default)({getContentAnchorEl:this.getContentAnchorEl,classes:u,onEntering:this.handleEntering,anchorOrigin:"rtl"===l.direction?y:g,transformOrigin:"rtl"===l.direction?y:g,PaperProps:(0,o.default)({},s,{classes:(0,o.default)({},s.classes,{root:r.paper})})},c),d.default.createElement(v.default,(0,o.default)({onKeyDown:this.handleListKeyDown},n,{ref:this.handleMenuListRef}),t))}}]),t}(d.default.Component);_.defaultProps={disableAutoFocusItem:!1,transitionDuration:"auto"};var w=(0,h.default)(b,{name:"MuiMenu",withTheme:!0})(_);t.default=w},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(496))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=n(r(231)),i=n(r(146)),s=o.default.createElement("path",{d:"M7 10l5 5 5-5z"}),u=function(e){return o.default.createElement(i.default,e,s)};(u=(0,a.default)(u)).muiName="SvgIcon";var l=u;t.default=l},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var o=n(r(501)),a=n(r(505)),i=(n(r(232)),n(r(233)),function(e){return(0,o.default)(function(e,t){return!(0,a.default)(e,t)})(e)});t.default=i},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var o=n(r(503)),a=function(e){return(0,o.default)("displayName",e)};t.default=a},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var o=n(r(504)),a=function(e,t){return t+"("+(0,o.default)(e)+")"};t.default=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(507))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(1)),u=(n(r(2)),n(r(6)));r(7);var l=function(e){var t,r=e.children,n=e.classes,l=e.className,c=e.disabled,d=e.IconComponent,f=e.inputRef,p=e.name,h=e.onChange,m=e.value,v=e.variant,y=(0,i.default)(e,["children","classes","className","disabled","IconComponent","inputRef","name","onChange","value","variant"]);return s.default.createElement("div",{className:n.root},s.default.createElement("select",(0,o.default)({className:(0,u.default)(n.select,(t={},(0,a.default)(t,n.filled,"filled"===v),(0,a.default)(t,n.outlined,"outlined"===v),(0,a.default)(t,n.disabled,c),t),l),name:p,disabled:c,onChange:h,value:m,ref:f},y),r),s.default.createElement(d,{className:n.icon}))};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SUPPORTED_FILTERS=t.StreamFilters=t.Filters=void 0;var n=i(r(515)),o=i(r(516)),a=i(r(517));function i(e){return e&&e.__esModule?e:{default:e}}t.Filters=n.default,t.StreamFilters=o.default,t.SUPPORTED_FILTERS=a.default},function(e,t){e.exports=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(31)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"}),o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"Mic");t.default=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(31)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0zm0 0h24v24H0z"}),o.default.createElement("path",{d:"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3L3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z"})),"MicOff");t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setDone=function(){return{type:"CALL_SET_ROOM_DONE",payload:{}}},t.setConnected=function(e){return{type:"CALL_SET_CONNECTED",payload:{connected:e}}},t.setAppData=function(e){return{type:"CALL_SET_ROOM_APP_DATA",payload:{appData:e}}},t.setOptions=function(e){return{type:"CALL_OPTIONS",payload:{options:e}}},t.setViewers=function(e){return{type:"CALL_VIEWERS",payload:{viewers:e}}},t.setPermissions=function(e){return{type:"CALL_PERMISSIONS",payload:{permissions:e}}},t.setActiveSpeaker=function(e){return{type:"CALL_SET_ROOM_ACTIVE_SPEAKER",payload:{peerId:e}}},t.setMediaCapabilities=function(e){return{type:"CALL_SET_MEDIA_CAPABILITIES",payload:e}},t.addProducer=function(e,t){return{type:"CALL_ADD_PRODUCER",payload:{streamName:e,producer:t}}},t.updateProducer=function(e,t,r,n,o){return{type:"CALL_UPDATE_PRODUCER",payload:{streamName:e,producerId:t,codec:r,preview:n,sendPreview:o}}},t.removeProducer=function(e,t,r){return{type:"CALL_REMOVE_PRODUCER",payload:{streamName:e,producerId:t,originator:r}}},t.setProducerPaused=function(e,t,r){return{type:"CALL_SET_PRODUCER_PAUSED",payload:{streamName:e,producerId:t,originator:r}}},t.setProducerResumed=function(e,t,r){return{type:"CALL_SET_PRODUCER_RESUMED",payload:{streamName:e,producerId:t,originator:r}}},t.setProducerTrack=function(e,t,r,n){return{type:"CALL_SET_PRODUCER_TRACK",payload:{streamName:e,streamType:t,producerId:r,track:n}}},t.setProducerStats=function(e,t,r){return{type:"CALL_SET_PRODUCER_STATS",payload:{streamName:e,producerId:t,stats:r}}},t.roomFull=function(e){return{type:"CALL_ROOM_FULL",payload:{full:e}}},t.roomData=function(e,t){return{type:"CALL_ROOM_DATA",payload:{scope:e,peerId:t}}},t.addPeer=function(e){return{type:"CALL_ADD_PEER",payload:{peer:e}}},t.removePeer=function(e){return{type:"CALL_REMOVE_PEER",payload:{peerId:e}}},t.peerChange=function(e,t){var r={};return e&&(r={action:t,peer:{peerId:e.appData.peerId,userId:e.appData.userId,displayName:e.appData.displayName,scope:e.appData.scope,hasAudio:!1,hasVideo:!1}},e.consumers&&e.consumers.length&&e.consumers.forEach(function(e){"audio"===e.kind?r.peer.hasAudio=!0:"video"===e.kind&&(r.peer.hasVideo=!0)})),{type:"PEER_CHANGE",payload:r}},t.addConsumer=function(e,t,r){return{type:"CALL_ADD_CONSUMER",payload:{peerId:e,streamName:t,consumer:r}}},t.removeConsumer=function(e,t,r){return{type:"CALL_REMOVE_CONSUMER",payload:{peerId:e,streamName:t,consumerId:r}}},t.setConsumerPaused=function(e,t,r,n){return{type:"CALL_SET_CONSUMER_PAUSED",payload:{peerId:e,streamName:t,consumerId:r,originator:n}}},t.setConsumerResumed=function(e,t,r,n){return{type:"CALL_SET_CONSUMER_RESUMED",payload:{peerId:e,streamName:t,consumerId:r,originator:n}}},t.setConsumerEffectiveProfile=function(e,t,r,n){return{type:"CALL_SET_CONSUMER_EFFECTIVE_PROFILE",payload:{peerId:e,streamName:t,consumerId:r,profile:n}}},t.setConsumerTrack=function(e,t,r,n){return{type:"CALL_SET_CONSUMER_TRACK",payload:{peerId:e,streamName:t,consumerId:r,track:n}}},t.setConsumerStats=function(e,t,r,n){return{type:"CALL_SET_CONSUMER_STATS",payload:{peerId:e,streamName:t,consumerId:r,stats:n}}},t.setReceivingIceState=function(e){return{type:"CALL_SET_RECEIVING_ICE_STATE",payload:{state:e}}},t.setSendingIceState=function(e){return{type:"CALL_SET_SENDING_ICE_STATE",payload:{state:e}}},t.emitMessages=function(e){return{type:"CALL_EMIT_MESSAGES",payload:{messages:e||[]}}},t.emitPeerMessages=function(e,t){return{type:"CALL_EMIT_PEER_MESSAGES",payload:{peerId:e,messages:t}}},t.callRejected=function(){return{type:"CALL_REJECTED"}},t.callForbidden=function(){return{type:"CALL_FORBIDDEN"}},t.joinCallError=function(e){return{type:"CALL_JOIN_CALL_ERROR",payload:{error:e}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialStreamState=t.AUDIO_ERROR=t.VIDEO_ERROR=t.CONTROLS_SCREEN_SHARE_ERROR=t.CONTROLS_SCREEN_SHARE_SET_SUPPORTED=t.CONTROLS_DEVICES_SET_MIC_ERROR=t.CONTROLS_DEVICES_SET_MIC=t.CONTROLS_DEVICES_SWITCH_WEBCAM_ERROR=t.CONTROLS_DEVICES_SET_WEBCAM_ERROR=t.CONTROLS_DEVICES_SET_WEBCAM=t.CONTROLS_DEVICES_PERMISSIONS_ERROR=t.CONTROLS_DEVICES_ERROR=t.CONTROLS_SET_DEFAULT_AUDIO_CONSTRAINTS=t.CONTROLS_SET_DEFAULT_VIDEO_CONSTRAINTS=t.CONTROLS_DEVICES=void 0;var n,o=r(14),a=(n=o)&&n.__esModule?n:{default:n};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments[1];switch(t.type){case"CALL_SET_ROOM_DONE":return P;case s:var r=t.payload.streamName,n=E(e,r);return n[r].devices=t.payload.devices,n[r]=w(n[r]),n;case c:var o=t.payload.streamName,a=E(e,o);return a[o].error=t.payload.error,a[o]=w(a[o]),a;case l:var k=t.payload.streamName,S=E(e,k);return S[k].defaultAudioConstraints=t.payload.constraints,S[k]=w(S[k]),S;case u:var x=t.payload.streamName,T=E(e,x);return T[x].defaultVideoConstraints=t.payload.constraints,T[x]=w(T[x]),T;case m:var C=t.payload,O=C.mic,R=C.streamName,M=E(e,R);return O?(M[R].mic=O,M[R].micError=null,M[R].audioError=null,M[R].permissionsError=null,M[R]=w(M[R]),M):(M[R].mic=null,M);case v:var D=t.payload,j=D.streamName,I=D.error,A=E(e,j);return A[j].micError=I,A[j]=w(A[j]),A;case _:var N=t.payload,L=N.streamName,F=N.error,U=E(e,L);return U[L].audioError=F,U[L]=w(U[L]),U;case f:var B=t.payload,V=B.webcam,W=B.streamName,z=E(e,W);return V?(z[W].webcam=V,z[W].webcamSwitchError=null,z[W].webcamError=null,z[W].videoError=null,z[W].permissionsError=null,z[W]=w(z[W]),z):(z[W].webcam=null,z);case p:var H=t.payload,q=H.streamName,G=H.error,K=E(e,q);return K[q].webcamError=G,K[q]=w(K[q]),K;case d:var $=t.payload,Y=$.streamName,Q=$.error,X=E(e,Y);return X[Y].permissionsError=Q,X[Y]=w(X[Y]),X;case h:var J=t.payload,Z=J.streamName,ee=J.error,te=E(e,Z);return te[Z].webcamSwitchError=ee,te[Z]=w(te[Z]),te;case b:var re=t.payload,ne=re.streamName,oe=re.error,ae=E(e,ne);return ae[ne].videoError=oe,ae[ne]=w(ae[ne]),ae;case y:var ie=t.payload,se=ie.supported,ue=ie.streamName,le=E(e,ue);return le[ue].screenShareSupported=se,le[ue]=w(le[ue]),le;case g:var ce=t.payload,de=ce.streamName,fe=ce.error,pe=E(e,de);return pe[de].screenShareError=fe,pe[de]=w(pe[de]),pe;case"CALL_SET_PRODUCER_TRACK":var he=t.payload,me=he.streamName;if(he.streamType!==i.STREAM)return e;var ve=E(e,me);return ve[me].screenShareError=null,ve[me]=w(ve[me]),ve;default:return e}};var i=r(242);var s=t.CONTROLS_DEVICES="CONTROLS_DEVICES",u=t.CONTROLS_SET_DEFAULT_VIDEO_CONSTRAINTS="CONTROLS_SET_DEFAULT_VIDEO_CONSTRAINTS",l=t.CONTROLS_SET_DEFAULT_AUDIO_CONSTRAINTS="CONTROLS_SET_DEFAULT_AUDIO_CONSTRAINTS",c=t.CONTROLS_DEVICES_ERROR="CONTROLS_DEVICES_ERROR",d=t.CONTROLS_DEVICES_PERMISSIONS_ERROR="CONTROLS_DEVICES_PERMISSIONS_ERROR",f=t.CONTROLS_DEVICES_SET_WEBCAM="CONTROLS_DEVICES_SET_WEBCAM",p=t.CONTROLS_DEVICES_SET_WEBCAM_ERROR="CONTROLS_DEVICES_SET_WEBCAM_ERROR",h=t.CONTROLS_DEVICES_SWITCH_WEBCAM_ERROR="CONTROLS_DEVICES_SWITCH_WEBCAM_ERROR",m=t.CONTROLS_DEVICES_SET_MIC="CONTROLS_DEVICES_SET_MIC",v=t.CONTROLS_DEVICES_SET_MIC_ERROR="CONTROLS_DEVICES_SET_MIC_ERROR",y=t.CONTROLS_SCREEN_SHARE_SET_SUPPORTED="CONTROLS_SCREEN_SHARE_SET_SUPPORTED",g=t.CONTROLS_SCREEN_SHARE_ERROR="CONTROLS_SCREEN_SHARE_ERROR",b=t.VIDEO_ERROR="VIDEO_ERROR",_=t.AUDIO_ERROR="AUDIO_ERROR",w=function(e){var t=e.devices&&e.devices.filter(function(e){return"audioinput"===e.kind})||[],r=e.mic&&e.mic.deviceId&&(e.mic.deviceId.exact||e.mic.deviceId)||"",n=e.mic&&e.mic.label||"",o=!!e.mic,i=e.devices&&e.devices.filter(function(e){return"videoinput"===e.kind})||[],s=e.webcam&&e.webcam.deviceId&&(e.webcam.deviceId.exact||e.webcam.deviceId)||"",u=e.webcam&&e.webcam.label||"",l=!!e.webcam;return(0,a.default)({},e,{audioDevices:t,audioDeviceSet:o,currentAudioDeviceLabel:n,currentAudioDeviceId:r,videoDevices:i,videoDeviceSet:l,currentVideoDeviceLabel:u,currentVideoDeviceId:s,hasAudioDevices:!!t.length,hasVideoDevices:!!i.length})},k=t.initialStreamState=function(){return w({devices:null,devicesError:null,permissionsError:null,mic:null,micError:null,webcam:null,webcamError:null,webcamSwitchError:null,screenShareSupported:null,screenShareError:null,videoError:null,audioError:null,defaultAudioConstraints:{},defaultVideoConstraints:{}})},E=function(e,t){var r=(0,a.default)({},e);return r[t]||(r[t]=k()),r},P={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STREAM=void 0;var n=v(r(14)),o=v(r(20)),a=v(r(24)),i=v(r(46)),s=v(r(25)),u=v(r(17)),l=v(r(18)),c=v(r(34)),d=v(r(35)),f=r(22),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(243)),h=r(55),m=v(h);function v(e){return e&&e.__esModule?e:{default:e}}t.STREAM="screen-share";var y=function(e){function t(e){var r=this;(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return n.captureStream=function(){return function(){return new i.default(function(){var e=(0,a.default)(o.default.mark(function e(t,i){var s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n._ready){e.next=2;break}throw new Error("screen capture is not ready");case 2:s=function(){var e=(0,a.default)(o.default.mark(function e(a){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a.data&&a.data.event){e.next=2;break}return e.abrupt("return");case 2:e.t0=a.data.event,e.next="lv-screen-share-no-source"===e.t0?5:"lv-screen-share-source"===e.t0?8:11;break;case 5:return window.removeEventListener("message",s),i(new Error("no source")),e.abrupt("break",11);case 8:return window.removeEventListener("message",s),n._getStream(a.data.data.id,t,i),e.abrupt("break",11);case 11:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}(),window.addEventListener("message",s),n._sendCaptureRequest();case 5:case"end":return e.stop()}},e,r)}));return function(t,r){return e.apply(this,arguments)}}())}},n.name=e,window.ext=n._extensions,n._ready=!1,n._readyPromise=null,n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"ensureReady",value:function(){var e=(0,a.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._readyPromise||(this._readyPromise=this._ensureReady()),e.prev=1,e.next=4,this._readyPromise;case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),m.default.info("screen share not available"),this._emit(p.setSupported(this.name,!1)),e.abrupt("return");case 11:m.default.info("screen share available"),this._emit(p.setSupported(this.name,!0));case 13:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"_sendReady",value:function(){window.postMessage({event:"lv-screen-share-ready"},"*")}},{key:"_ensureReady",value:function(){var e=this;return new i.default(function(t,r){if(e._ready)t();else{var n=void 0,i=function r(o){o&&o.data&&o.data.event&&"lv-screen-share-is-ready"===o.data.event&&(e._ready=!0,window.removeEventListener("message",r),window.clearInterval(n),t())};window.addEventListener("message",i);var s=0;n=window.setInterval((0,a.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s>10)){t.next=5;break}return r(new Error("screen-share extension ready timeout")),window.removeEventListener("message",i),window.clearInterval(n),t.abrupt("return");case 5:s++,e._sendReady();case 7:case"end":return t.stop()}},t,e)})),1e3),e._sendReady()}})}},{key:"_emit",value:function(e){try{this.emit(e.type,e.payload)}catch(t){m.default.warn("unhandled screenshare event handler error",(0,n.default)({event:e},(0,h.errLog)(t)))}}},{key:"_sendCaptureRequest",value:function(){window.postMessage({event:"lv-screen-share-capture"},"*")}},{key:"_getStream",value:function(){var e=(0,a.default)(o.default.mark(function e(t,r,a){var i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.default.debug("requesting source stream",{sourceId:t}),i=void 0,e.prev=2,e.next=5,navigator.mediaDevices.getUserMedia({video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxWidth:1920,maxHeight:1080}}});case 5:i=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),m.default.error("unable to get screen share stream",(0,n.default)({sourceId:t},(0,h.errLog)(e.t0))),a(e.t0),e.abrupt("return");case 13:r(i);case 14:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t,r,n){return e.apply(this,arguments)}}()}]),t}(f.EventEmitter);t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.setSupported=function(e,t){return{type:"CONTROLS_SCREEN_SHARE_SET_SUPPORTED",payload:{streamName:e,supported:t}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CALLS_UPDATE_CALL=t.CALLS_REQUESTING=t.CALLS_RECEIVED=t.CALLS_ERROR=void 0;var n=a(r(183)),o=a(r(14));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.CALLS_ERROR="CALLS_ERROR",s=t.CALLS_RECEIVED="CALLS_RECEIVED",u=t.CALLS_REQUESTING="CALLS_REQUESTING",l=t.CALLS_UPDATE_CALL="CALLS_UPDATE_CALL",c={calls:[],error:null,loading:!0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case"CALL_SET_ROOM_DONE":return c;case u:return(0,o.default)({},e,{calls:[],error:null,loading:!0});case s:return(0,o.default)({},e,{calls:[].concat((0,n.default)(t.payload.calls)),error:null,loading:!1});case i:return(0,o.default)({},e,{error:t.payload.error});case l:return(0,o.default)({},e,{calls:e.calls.map(function(e){return e.id===t.payload.call.id?t.payload.call:e})});default:return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(14)),o=i(r(154)),a=i(r(552));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var r=(0,o.default)(e,t);if(!r)return{peer:null,stream:null};var i=r.peer;return(0,n.default)({peer:i},(0,a.default)(e,t))}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(31)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"}),o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"VolumeOff");t.default=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(565))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.profiles=t.WebSocketDriver=t.WebRTCDriver=t.WebEncoder=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=r(267),i=u(a),s=u(r(2));function u(e){return e&&e.__esModule?e:{default:e}}t.WebEncoder=i.default,t.WebRTCDriver=a.WebRTCDriver,t.WebSocketDriver=a.WebSocketDriver,t.profiles=a.profiles;var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){var e=this;try{this.webEncoder=new i.default({drivers:this.props.drivers})}catch(t){return this.props.on("error",t.context||"invalid-options"),void this.props.on("stop")}this.webEncoder.on("abr:message",this.proxy("abr:message")),this.webEncoder.on("abr:downshift",this.proxy("abr:downshift")),this.webEncoder.on("abr:upshift",this.proxy("abr:upshift")),this.webEncoder.on("call",this.proxy("call")),this.webEncoder.on("error",function(){for(var t,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.props).on.apply(t,["error"].concat(n)),e.props.on("stop")}),this.webEncoder.on("log",this.proxy("log")),this.webEncoder.on("reload",this.proxy("reload")),this.webEncoder.on("webrtc-stats",this.proxy("webrtc-stats")),this.webEncoder.on("webrtc-anomaly",this.proxy("webrtc-anomaly")),this.webEncoder.on("restart",this.proxy("restart")),this.webEncoder.on("shutdown",this.proxy("shutdown")),this.webEncoder.on("start",this.proxy("start")),this.webEncoder.on("stop",this.proxy("stop"))}},{key:"componentWillUnmount",value:function(){this.webEncoder&&this.webEncoder.destroy()}},{key:"componentWillReceiveProps",value:function(e){this.webEncoder&&(e.broadcasting||"stopped"===this.webEncoder.state?((!(e.stream&&this.props.stream&&this.props.stream.id===e.stream.id||!e.stream&&!this.props.stream)||e.webrtc&&this.props.webrtc&&e.webrtc.authOptions!==this.props.webrtc.authOptions||e.webrtc&&this.props.webrtc&&e.webrtc.getToken!==this.props.webrtc.getToken||JSON.stringify(e.webrtc)!==JSON.stringify(this.props.webrtc)||JSON.stringify(e.websocket)!==JSON.stringify(this.props.websocket))&&(this.webEncoder.options={stream:e.stream,webrtc:e.webrtc,ws:e.websocket}),e.broadcasting&&"broadcasting"!==this.webEncoder.state&&this.webEncoder.start()):this.webEncoder.stop())}},{key:"proxy",value:function(e){var t=this;return function(){for(var r,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];(r=t.props).on.apply(r,[e].concat(o))}}},{key:"render",value:function(){return null}}]),t}();t.default=l,l.propTypes={broadcasting:s.default.bool.isRequired,drivers:s.default.arrayOf(s.default.string),on:s.default.func,stream:s.default.object,webrtc:s.default.object,websocket:s.default.object}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=I(r(20)),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),u=I(s),l=I(r(2)),c=I(r(395)),d=I(r(97)),f=I(r(458)),p=I(r(222)),h=I(r(223)),m=I(r(224)),v=I(r(225)),y=I(r(56)),g=I(r(483)),b=I(r(226)),_=I(r(146)),w=I(r(491)),k=I(r(5)),E=I(r(512)),P=I(r(513)),S=I(r(514)),x=r(236),T=I(r(518)),C=I(r(524)),O=I(r(525)),R=I(r(529)),M=r(109),D=r(533),j=I(D);function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var N=c.default.getParser(window.navigator.userAgent).parse(),L=N?N.parsedResult:{},F=L.platform&&"desktop"===L.platform.type,U=L.platform&&"Firefox"===L.browser.name&&"mobile"===L.platform.type,B=L.platform&&"Safari"===L.browser.name&&"mobile"===L.platform.type,V=L.platform&&"Safari"!==L.browser.name&&"mobile"===L.platform.type,W="user",z="environment",H=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n=A(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.state={devices:null,show:!1,filtersOpen:!1,volumes:[],facingMode:W},n.openFilters=function(){n.setState({filtersOpen:!0})},n.switchFacingMode=function(){n.setState({facingMode:n.state.facingMode===W?z:W})},A(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentWillMount",value:function(){this.enumerateDevices(),this.startAnalyzerInterval()}},{key:"componentDidUpdate",value:function(e,t){t.facingMode!==this.state.facingMode&&this.getStream(this.props)}},{key:"componentWillReceiveProps",value:function(e){if(e.profile.volume!==this.props.profile.volume&&e.stream&&this.applyVolume(isNaN(e.profile.volume)?1:e.profile.volume,e.stream),e.profile.audio===this.props.profile.audio&&e.profile.video===this.props.profile.video&&e.profile.height===this.props.profile.height&&e.profile.filtersEnabled===this.props.profile.filtersEnabled&&JSON.stringify(e.profile.filters)===JSON.stringify(this.props.profile.filters)||this.getStream(e),e.reset&&e.reset!==this.props.reset){var t=this.resetProfile();this.setState({show:!0}),this.props.onProfile(t)}}},{key:"componentWillUnmount",value:function(){clearInterval(this.analyzerInterval),this.audioCtx&&this.audioCtx.close(),this.endStreams()}},{key:"startAnalyzerInterval",value:function(){var e=this;this.analyzerInterval=setInterval(function(){if(e.analyzer&&e.props.testAudio){e.analyzer.getByteFrequencyData(e.analyzerData);for(var t=e.analyzerData.length,r=0,n=0;n<t;n++)r+=e.analyzerData[n];var o=Math.min(r/t/255,1),a=e.state.volumes.concat([o]).slice(-5);e.setState({volumes:a})}},200)}},{key:"getDeviceId",value:function(e){if(e.originalDeviceId)return e.originalDeviceId;var t=e.getSettings&&e.getSettings(),r=e.getConstraints&&e.getConstraints(),n=t&&t.deviceId||r&&r.deviceId&&(r.deviceId.exact||r.deviceId);if(n)return n;var o=void 0;return"audio"===e.kind?o=this.audioDevices.find(function(t){return t.label===e.label}):"video"===e.kind&&(o=this.videoDevices.find(function(t){return t.label===e.label})),o?o.deviceId:null}},{key:"setStreamOnEnded",value:function(e,t){e.onended||(e.onended=[]),e.onended.push(t)}},{key:"setStreamCustomProperties",value:function(e,t){t.filters=e.filters}},{key:"getModifiedStreamAudio",value:function(e){var t=this;if(!F||!window.AudioContext&&!window.webkitAudioContext)return e;if(this.audioCtx||(window.AudioContext?this.audioCtx=new window.AudioContext:this.audioCtx=new window.webkitAudioContext),!this.audioCtx.createAnalyser||!this.audioCtx.createGain||!this.audioCtx.createMediaStreamSource||!this.audioCtx.createMediaStreamDestination)return e;this.analyzer||(this.analyzer=this.audioCtx.createAnalyser(),this.analyzer.fftSize=256,this.analyzerData=new Uint8Array(this.analyzer.frequencyBinCount));var r=this.audioCtx.createGain(),n=this.audioCtx.createMediaStreamSource(e),o=this.audioCtx.createMediaStreamDestination(),a=o.stream;n.connect(r),r.connect(o),r.connect(this.analyzer),r.gain.value=this.volume;var i=e.getAudioTracks();return a.getAudioTracks().forEach(function(e){e.originalDeviceId=t.getDeviceId(i[0])}),e.getVideoTracks().forEach(function(e){a.addTrack(e)}),this.setStreamCustomProperties(e,a),a.filters?a.filters.gainNode=r:a.filters={gainNode:r},this.setStreamOnEnded(a,function(){i.forEach(function(e){e.stop()})}),a}},{key:"getModifiedStreamVideo",value:function(e){var t=this;if(this.props.disableFilters||!this.props.profile.filtersEnabled)return e;var r=new x.Filters;for(var n in this.props.profile.filters)r[n]=this.props.profile.filters[n];var o=new x.StreamFilters(e,r),a=o.apply(),i=e.getVideoTracks();return a.getVideoTracks().forEach(function(e){e.originalDeviceId=t.getDeviceId(i[0]);var r=i[0].getConstraints(),n=i[0].getSettings();e.originalFacingMode=r&&r.facingMode||n&&n.facingMode||z}),e.getAudioTracks().forEach(function(e){a.addTrack(e)}),this.setStreamCustomProperties(a,e),this.setStreamOnEnded(a,function(){o.destroy()}),a}},{key:"getModifiedStream",value:function(e){var t=this,r=e.getAudioTracks(),n=e.getVideoTracks(),o=e;return n.length&&(o=this.getModifiedStreamVideo(o)),r.length&&(o=this.getModifiedStreamAudio(o)),o.getTracks().forEach(function(e){e.onended=function(){t.triggerOnStream()}}),this.setStreamOnEnded(o,function(){t.triggerOnStream()}),o}},{key:"componentDidMount",value:function(){this.getStream(this.props)}},{key:"resetProfile",value:function(){var e=(0,M.copyInstance)(M.defaultProfile);return this.state.profile&&(e.volume=this.state.profile.volume),e}},{key:"noDevices",value:function(e){this.props.onError("deviceError",{code:e})}},{key:"handleError",value:function(e){switch(e.message){case"not_supported":return void this.noDevices("not_supported")}switch(e.name){case"NotFoundError":case"DevicesNotFoundError":this.noDevices("not_found");break;case"TrackEndedError":case"NotReadableError":case"TrackStartError":this.noDevices("not_usable");break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":this.noDevices("device_specification");break;case"NotAllowedError":case"PermissionDeniedError":this.noDevices("device_permission");break;default:this.noDevices("error","unhandled getUserMedia error",{err:e.stack})}}},{key:"getAudioConstraints",value:function(e){function t(e,t){return"undefined"===typeof e?t:e}var r={deviceId:(e=e||this.props).profile.audio},n=t(e.echoCancellation,!0),o=t(e.noiseSuppression,!1),a=t(e.autoGainControl,0);return r.echoCancellation=n,r.noiseSuppression=o,r.autoGainControl=a,r}},{key:"applyVolume",value:function(e,t){t.filters&&(t.filters.gainNode.gain.value=e)}},{key:"triggerOnStream",value:function(){var e=this;if(this.modifiedStream){var t=(0,M.copyInstance)(this.props.profile),r=this.modifiedStream.getAudioTracks().find(function(e){return"live"===e.readyState}),n=this.modifiedStream.getVideoTracks().find(function(e){return"live"===e.readyState}),o=!1;!r&&t.audio&&(t.audio=null,o=!0),!n&&t.video&&(t.video=null,o=!0),o?this.enumerateDevices(this.state,function(o,a){var i=function(){e.endStreams()};if(o)i();else{var s=a.find(function(e){return"audioinput"===e.kind}),u=a.find(function(e){return"videoinput"===e.kind});u?!r&&s?e.props.onProfile(t):!n&&u&&e.props.onProfile(t):i()}}):this.props.onStream(this.modifiedStream)}else this.props.onStream(null)}},{key:"endStreams",value:function(){var e;(e=this.modifiedStream)&&!e.internallyEnded&&(e.onended&&e.onended.forEach(function(e){e()}),e.getTracks().forEach(function(t){t.stop(),e.removeTrack(t)}),e.internallyEnded=!0,window.URL.revokeObjectURL(e),e=null),this.modifiedStream=null,this.props.onStream(null)}},{key:"checkStream",value:function(e){e.getTracks().forEach(function(e){if("ended"===e.readyState)throw new Error("TrackEndedError")})}},{key:"getStream",value:function(){var e,t=(e=n.default.mark(function e(t){var r,o,i,s,u;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.endStreams(),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=5;break}return j.default.warn("media devices not supported",this.logContext),this.handleError(new Error("not_supported")),e.abrupt("return");case 5:r=this.getConstraints(t),o=void 0,i=void 0,s=0;case 9:if(!(s<r.length)){e.next=26;break}return u=r[s],e.prev=11,e.next=14,navigator.mediaDevices.getUserMedia(u);case 14:return o=e.sent,i=null,e.abrupt("break",26);case 19:e.prev=19,e.t0=e.catch(11),j.default.warn("getUserMedia failed",a({constraints:u},(0,D.errLog)(e.t0),this.logContext)),i=e.t0;case 23:s++,e.next=9;break;case 26:if(!i){e.next=29;break}return this.handleError(i),e.abrupt("return");case 29:if(o){e.next=32;break}return this.handleError(new Error("NotFoundError")),e.abrupt("return");case 32:this.checkStream(o),this.modifiedStream=this.getModifiedStream(o),this.applyVolume(this.volume,this.modifiedStream),this.triggerOnStream(),this.enumerateDevices();case 37:case"end":return e.stop()}},e,this,[[11,19]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,a){try{var i=t[o](a),s=i.value}catch(u){return void r(u)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})});return function(e){return t.apply(this,arguments)}}()},{key:"getConstraints",value:function(e){function t(e,t){return"undefined"===typeof e?t:e}var r={echoCancellation:t(e.echoCancellation,!0),noiseSuppression:t(e.noiseSuppression,!1),autoGainControl:t(e.autoGainControl,!1)};e.profile.audio&&(r.deviceId="default"===e.profile.audio?e.profile.audio:{exact:e.profile.audio});var n={frameRate:B?60:e.profile.frameRate};return n.desktop?n.aspectRatio=e.profile.aspectRatio:n.facingMode=this.state.facingMode,e.profile.video&&(n.deviceId="default"===e.profile.video?e.profile.video:{exact:e.profile.video}),[{audio:r,video:a({},n,{width:{exact:1920},height:{exact:1080}})},{audio:r,video:a({},n,{width:1280,height:720})},{audio:!e.profile.audio||{deviceId:e.profile.audio},video:e.profile.video?{facingMode:this.state.facingMode,deviceId:e.profile.video,width:1280,height:720}:{facingMode:this.state.facingMode,width:1280,height:720}},{audio:!0,video:{facingMode:this.state.facingMode}}]}},{key:"renderDevices",value:function(e,t,r){var n=this,o="video"===e?this.props.translate("Camera"):this.props.translate("Microphone"),a=t.find(function(e){return e.deviceId===r});return a||(a=t[0]),u.default.createElement(v.default,{fullWidth:!0,margin:"normal"},u.default.createElement(g.default,{htmlFor:e},o),u.default.createElement(w.default,{value:a?a.deviceId:"",onClick:function(){n.enumerateDevices()},onChange:function(t){var r=(0,M.copyInstance)(n.props.profile);r[e]=t.target.value,n.props.onProfile(r)},inputProps:{name:e+"-device",id:e+"-device"}},t.map(function(e){return u.default.createElement(b.default,{key:e.deviceId,value:e.deviceId},e.label||"-")})))}},{key:"enumerateDevices",value:function(e,t){var r=this;(e=e||{})&&e.show&&this.setState(e),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then(function(n){JSON.stringify(r.state.devices)!==JSON.stringify(n)&&r.setState(a({},e,{devices:n})),t&&t(null,n)}).catch(function(n){j.default.warn("enumerateDevices failed",a({},(0,D.errLog)(n),r.logContext)),r.setState(a({},e,{err:n})),t&&t(n)}):this.handleError(new Error("not_supported"))}},{key:"show",value:function(){this.enumerateDevices({show:!0})}},{key:"renderIconBar",value:function(){var e=this,t=this.props.classes,r=void 0;switch(this.props.variant){case"overlay":r=t.iconBarOverlay;break;case"under":default:r=t.iconBar}return u.default.createElement("div",{className:r},u.default.createElement("div",{className:t.control},u.default.createElement(y.default,{onClick:this.show.bind(this),className:t.iconButton},this.props.settingsIconSvg?u.default.createElement(_.default,{fontSize:"large",className:t.icon},this.props.settingsIconSvg):u.default.createElement(E.default,{fontSize:"large",className:t.icon}))),this.props.disableFilters||"Safari"===L.browser.name||"Microsoft Edge"===L.browser.name?null:u.default.createElement("div",{className:t.control},u.default.createElement(y.default,{onClick:this.openFilters,className:t.iconButton},this.props.filterIconSvg?u.default.createElement(_.default,{fontSize:"large",className:t.icon},this.props.filterIconSvg):u.default.createElement(P.default,{fontSize:"large",className:t.icon}))),F||V&&this.props.broadcasting?null:u.default.createElement("div",{className:t.control},u.default.createElement(y.default,{onClick:this.switchFacingMode,className:t.iconButton},this.props.cameraIconSvg?u.default.createElement(_.default,{fontSize:"large",className:t.icon},this.props.cameraIconSvg):u.default.createElement(S.default,{fontSize:"large",className:t.icon}))),F&&"Microsoft Edge"!==L.browser.name?u.default.createElement("div",{className:t.control},u.default.createElement(R.default,{volumes:this.state.volumes,translate:this.props.translate,onChange:function(t){var r=(0,M.copyInstance)(e.props.profile);r.volume=t,e.props.onProfile(r)},volume:this.volume})):null,u.default.createElement("div",{className:t.buttonContainer},this.props.onBroadcast?u.default.createElement(d.default,{variant:"contained",color:"primary",onClick:function(){j.default.info("start broadcasting media stream",{mic:e.audioId,cam:e.videoId}),e.props.onBroadcast()}},this.props.translate(this.props.broadcasting?"stop":"start")):null))}},{key:"renderSettings",value:function(){var e=this,t=function(){e.setState({show:!1}),e.props.onTestAudio(!1)};return u.default.createElement(f.default,{fullWidth:!0,open:this.state.show,onClose:t},u.default.createElement(m.default,{id:"form-dialog-title"},this.props.translate("Settings")),u.default.createElement(h.default,null,u.default.createElement("div",null,!U&&this.renderDevices("audio",this.audioDevices,this.audioId),F&&this.renderDevices("video",this.videoDevices,this.videoId),"Safari"!==L.browser.name&&u.default.createElement(O.default,{onClick:function(){e.props.onTestAudio(!e.props.testAudio)},testing:!!this.props.testAudio,translate:this.props.translate,volumes:this.state.volumes}))),u.default.createElement(p.default,null,u.default.createElement(d.default,{onClick:t,color:"primary"},this.props.translate("close"))))}},{key:"renderFilters",value:function(){var e=this;if(this.props.disableFilters)return null;var t=function(){e.setState({filtersOpen:!1})};return u.default.createElement(f.default,{fullWidth:!0,open:this.state.filtersOpen,onClose:t},u.default.createElement(T.default,{disabled:!this.props.profile.filtersEnabled,onToggle:function(t){var r=(0,M.copyInstance)(e.props.profile);r.filtersEnabled=!r.filtersEnabled,e.props.onProfile(r)},onChange:function(t){var r=(0,M.copyInstance)(e.props.profile);for(var n in t)r.filters[n]=t[n];e.props.onProfile(r)},filters:this.props.profile.filters,stream:this.props.stream,translate:this.props.translate,onClose:t}))}},{key:"render",value:function(){return u.default.createElement("div",{className:this.props.classes.container},u.default.createElement(C.default,{preview:this.props.preview,mirror:this.props.mirrorPreview,testAudio:this.props.testAudio,stream:this.props.stream}),this.renderIconBar(),this.renderSettings(),this.renderFilters())}},{key:"volume",get:function(){return this.props.profile&&!isNaN(this.props.profile.volume)?this.props.profile.volume:.5}},{key:"logContext",get:function(){var e="object"===o(this.props.logContext)?this.props.logContext:{};return a({userAgent:window.navigator.userAgent},e)}},{key:"audioDevices",get:function(){return this.state.devices?this.state.devices.filter(function(e){return"audioinput"===e.kind}):[]}},{key:"videoDevices",get:function(){return this.state.devices?this.state.devices.filter(function(e){return"videoinput"===e.kind}):[]}},{key:"audioId",get:function(){if(this.modifiedStream){var e=this.modifiedStream.getAudioTracks();if(e.length)return this.getDeviceId(e[0])}return this.props.profile.audio}},{key:"videoId",get:function(){if(this.modifiedStream){var e=this.modifiedStream.getVideoTracks();if(e.length)return this.getDeviceId(e[0])}return this.props.profile.video}}]),t}();H.defaultProps={disableFilters:!0},H.propTypes={classes:l.default.object.isRequired,testAudio:l.default.bool,disableFilters:l.default.bool,onBroadcast:l.default.func,onError:l.default.func.isRequired,onProfile:l.default.func.isRequired,onStream:l.default.func.isRequired,onTestAudio:l.default.func.isRequired,maxHeight:l.default.number,preview:l.default.bool.isRequired,profile:l.default.object.isRequired,translate:l.default.func.isRequired,stream:l.default.object,logContext:l.default.object,variant:l.default.string},t.default=(0,k.default)(function(e){return{container:{position:"relative",width:"100%",height:"100%"},refresh:{position:"absolute",right:"0",top:"0"},tooltip:{color:"#CCC"},control:{float:"left",textAlign:"left"},buttonContainer:{paddingRight:e.spacing.unit,paddingTop:9,float:"right",textAlign:"right"},iconBarOverlay:{position:"absolute",bottom:"0",width:"100%",background:"#111",opacity:"0.5",textAlign:"center","&:hover":{opacity:1}},iconBar:{paddingTop:e.spacing.unit,backgroundColor:"#222",bottom:0,textAlign:"right",whiteSpace:"nowrap",width:"100%"},iconButton:{zIndex:1299},icon:{color:"#FFF"},button:{marginTop:e.spacing.unit}}})(H)},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"===typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachToCallWithStore=t.attachToCall=t.setupCallWithStore=void 0;var n=_(r(20)),o=_(r(24)),a=_(r(46)),i=_(r(14)),s=_(r(33)),u=r(535),l=r(536),c=r(153),d=r(544),f=_(d),p=r(242),h=_(p),m=b(r(151)),v=b(r(243)),y=b(r(240)),g=_(r(55));function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t,r){for(var n=(0,s.default)(y),o=function(o){var a=y[n[o]]();e.on(a.type,function(e){var n={type:a.type,payload:e};r(n),t._on(n)})},a=0;a<n.length;a++)o(a)}function k(e,t,r,n){var o={call:e,unmuteAudio:e.unmuteAudio.bind(e),muteAudio:e.muteAudio.bind(e),enableAudio:e.enableAudio.bind(e),disableAudio:e.disableAudio.bind(e),setAudioStreamRetriever:e.setAudioStreamRetriever.bind(e),setMaxProducingViewers:e.setMaxProducingViewers.bind(e),setDisplayName:e.setDisplayName.bind(e),updateMaxBitrate:e.updateMaxBitrate.bind(e),disableVideo:e.disableVideo.bind(e),enableVideo:e.enableVideo.bind(e),pauseVideo:e.pauseVideo.bind(e),unpauseVideo:e.unpauseVideo.bind(e),setVideoStreamRetriever:e.setVideoStreamRetriever.bind(e),start:e.start.bind(e),close:e.close.bind(e),getViewers:e.getViewers.bind(e),promoteViewer:e.promoteViewer.bind(e),demoteViewer:e.demoteViewer.bind(e),kickViewer:e.kickViewer.bind(e),setStreamsOptions:function(n){r({type:c.CALL_ACTIONS,payload:{_callActions:E(n,e,t,r),streams:e.streamNames}})},streams:{}};return n&&(0,s.default)(n).forEach(function(t){var r=n[t];o.streams[t]={},r.forEach(function(r){r instanceof f.default?(o.streams[t].getDevices=r.getDevices.bind(r),o.streams[t].switchWebcam=function(){return e.setVideoStreamRetriever(t,r.switchWebcam(),!0,d.STREAM)},o.streams[t].setWebcam=function(n,o,a){return e.setVideoStreamRetriever(t,r.webcamByDeviceId(n,o,a),!0,d.STREAM)},o.streams[t].setMic=function(n,o,a){return e.setAudioStreamRetriever(t,r.micByDeviceId(n,o,a),!0,d.STREAM)},o.streams[t].setDefaultAudioConstraints=function(e){return r.setDefaultAudioConstraints(e)},o.streams[t].setDefaultVideoConstraints=function(e){return r.setDefaultVideoConstraints(e)}):r instanceof h.default&&(o.streams[t].updateScreenShare=r.ensureReady.bind(r),o.streams[t].startScreenShare=function(){return e.setVideoStreamRetriever(t,r.captureStream(),!0,p.STREAM)})})}),o}var E=function(e,t,r,n){var o=void 0;e&&(o=function(e,t,r){var n={};return(0,s.default)(e).forEach(function(t){n[t]=[];var r=e[t];(0,s.default)(r).forEach(function(e){var o=r[e];if(e===d.STREAM){var a=new f.default(t,o);n[t].push(a)}else if(e===p.STREAM){var i=new h.default(t,o);n[t].push(i)}})}),(0,s.default)(n).forEach(function(e){n[e].forEach(function(e){if(e instanceof f.default){for(var n=(0,s.default)(m),o=function(o){var a=m[n[o]]();e.on(a.type,function(e){var n={type:a.type,payload:e};r(n),t._on(n)})},a=0;a<n.length;a++)o(a);e.setDefaultAudioConstraints(e.defaultAudioConstraints),e.setDefaultVideoConstraints(e.defaultVideoConstraints)}else if(e instanceof h.default){var i=(0,s.default)(v),u=function(n){var o=v[i[n]]();e.on(o.type,function(e){var n={type:o.type,payload:e};r(n),t._on(n)})};for(a=0;a<i.length;a++)u(a)}})}),n}(e,r,n));var a=k(t,r,n,o);return o&&(0,s.default)(o).forEach(function(r){var n=function(e,t){var r={};return e.forEach(function(e){if(e instanceof f.default){var n=t&&t[d.STREAM]&&t[d.STREAM].video||{},o=t&&t[d.STREAM]&&t[d.STREAM].audio||{};r.video=(0,i.default)({streamRetriever:n.preferredDeviceLabel?e.webcamByDeviceLabel(n.preferredDeviceLabel):e.webcamByDeviceId(n.preferredDeviceId||null),streamRetrieverType:d.STREAM},n),r.audio=(0,i.default)({streamRetriever:o.preferredDeviceLabel?e.micByDeviceLabel(o.preferredDeviceLabel):e.micByDeviceId(o.preferredDeviceId||null),streamRetrieverType:d.STREAM},o)}}),r}(o[r],e[r]);t.setStream(r,n)}),a},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];return r({type:c.CALL_INITIALIZING}),new a.default(function(){var a=(0,o.default)(n.default.mark(function o(a,i){var s,l,d;return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=t.call||{},l=void 0,n.prev=2,n.next=5,e(s);case 5:l=n.sent,n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(2),g.default.error("Unable to set up call",{err:n.t0}),r({type:c.CALL_ERROR,payload:n.t0}),i(n.t0),n.abrupt("return");case 14:d=new u.Call,w(l,d,r),r({type:c.CALL_INITIALIZED,payload:{_callActions:E(t.streams,l,d,r),streams:l.streamNames}}),a(d);case 18:case"end":return n.stop()}},o,void 0,[[2,8]])}));return function(e,t){return a.apply(this,arguments)}}())},S=(t.setupCallWithStore=function(){var e=(0,o.default)(n.default.mark(function e(t,r){var o,a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,l.createStore)(t,r),e.next=3,P(t,r,o.dispatch);case 3:return a=e.sent,e.abrupt("return",{call:a,store:o});case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),t.attachToCall=function(e,t,r){r({type:c.CALL_INITIALIZING});var n=new u.Call;return w(e,n,r),r({type:c.CALL_INITIALIZED,payload:{_callActions:E(t,e,n,r),streams:e.streamNames}}),n});t.attachToCallWithStore=function(e,t){var r=(0,l.createStore)(e,t);return{call:S(e,t,r.dispatch),store:r}};t.default=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(r(14)),o=y(r(548)),a=y(r(25)),i=y(r(17)),s=y(r(18)),u=y(r(34)),l=y(r(35)),c=r(68),d=y(c),f=r(87),p=y(r(69)),h=y(r(245)),m=y(r(553)),v=y(r(554));function y(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return(0,i.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.peer,r=e.videoPaused,a=e.audioPaused,i=e.stream,s=e.isStreamPlaying,u=e.showStreamPlaying,l=e.streamPlaying,c=e.onClick,f=(0,o.default)(e,["peer","videoPaused","audioPaused","stream","isStreamPlaying","showStreamPlaying","streamPlaying","onClick"]),p=this.props.videoClass||"";if(!t||!i)return!1;var h=i.audio,m=i.video;return!(s&&u&&!l)&&(!(s&&!u&&l)&&d.default.createElement(v.default,(0,n.default)({},f,{onClick:c,volume:t.volume,muted:a||t.muted,paused:r,audioTrack:h&&h.track,videoTrack:m&&m.track,videoClass:p})))}}]),t}(c.Component);g.propTypes={peerId:p.default.string.isRequired,streamName:p.default.oneOfType([p.default.string,p.default.array]),isStreamPlaying:p.default.oneOfType([p.default.string,p.default.array])},g.defaultProps={showStreamPlaying:!0};t.default=(0,f.connect)(function(e,t){return(0,n.default)({},(0,h.default)(e,t),(0,m.default)(e,t))})(g)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var n=P(r(53)),o=P(r(25)),a=P(r(17)),i=P(r(18)),s=P(r(34)),u=P(r(35)),l=r(68),c=P(l),d=r(47),f=r(87),p=P(r(69)),h=r(39),m=P(r(6)),v=P(r(556)),y=P(r(56)),g=P(r(246)),b=P(r(239)),_=P(r(561)),w=P(r(562)),k=P(r(155)),E=P(r(245));function P(e){return e&&e.__esModule?e:{default:e}}var S=t.styles=function(e){return{root:{zIndex:1},docked:{position:"absolute"},dockedRight:{top:0,right:0,bottom:0},dockedLeft:{top:0,left:0,bottom:0},icon:{fill:e.palette.common.white},iconButton:{width:24,height:24,marginLeft:12,marginTop:6,marginBottom:6,background:"rgba(0,0,0,0.08)"},iconButtonIcon:{fill:e.palette.common.white,fontSize:".75em"},label:{position:"absolute",top:0,bottom:0,left:0,right:0}}},x=function(e){function t(){var e,r,n,i;(0,a.default)(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return r=n=(0,s.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),n.state={anchorEl:null},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},i=r,(0,s.default)(n,i)}return(0,u.default)(t,e),(0,i.default)(t,[{key:"renderMicPaused",value:function(){var e=this.props,t=e.classes,r=(e.stream||{}).audio;return!(r&&!r.paused)&&c.default.createElement("div",{style:{display:"block"}},c.default.createElement(v.default,{placement:"right",title:"Mic muted"},c.default.createElement("div",null,c.default.createElement(y.default,{className:t.iconButton,disabled:!0,classes:{label:t.label}},c.default.createElement(b.default,{className:t.iconButtonIcon})))))}},{key:"renderVolumeOff",value:function(){var e=this.props,t=e.classes,r=e.peer;return!(r&&!r.muted)&&c.default.createElement("div",{style:{display:"block"}},c.default.createElement(v.default,{placement:"right",title:"Volume off"},c.default.createElement("div",null,c.default.createElement(y.default,{className:t.iconButton,disabled:!0,classes:{label:t.label}},c.default.createElement(g.default,{className:t.iconButtonIcon})))))}},{key:"render",value:function(){var e,t=this,r=this.props,o=r.children,a=r.classes,i=r.peerId,s=r.docked,u=this.state.anchorEl,l=(0,m.default)((e={},(0,n.default)(e,a.root,!0),(0,n.default)(e,a.docked,!!s),(0,n.default)(e,a.dockedRight,s&&"right"===s),(0,n.default)(e,a.dockedLeft,s&&"left"===s),e));return c.default.createElement("div",{className:l},o&&c.default.createElement(v.default,{placement:"right",title:"More"},c.default.createElement(y.default,{onClick:this.handleClick},c.default.createElement(_.default,{className:a.icon}))),u&&c.default.createElement(w.default,{anchorEl:u,open:Boolean(u),onClose:this.handleClose},o.length?o.map(function(e,r){return e?c.default.cloneElement(e,{peerId:e.props.peerId||i,onClick:t.handleClose,key:e.props.key||r}):null}):c.default.cloneElement(o,{peerId:o.props.peerId||i,onClick:this.handleClose})))}}]),t}(l.Component);x.propTypes={peerId:p.default.string.isRequired},x.defaultProps={docked:"left"},t.default=(0,d.compose)((0,h.withStyles)(S,{name:"PVCRemoteMenu"}),(0,f.connect)(E.default,k.default))(x)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=b(r(25)),o=b(r(17)),a=b(r(18)),i=b(r(34)),s=b(r(35)),u=r(68),l=b(u),c=b(r(69)),d=r(47),f=r(87),p=b(r(564)),h=b(r(226)),m=b(r(247)),v=b(r(566)),y=b(r(154)),g=b(r(155));function b(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){var e,r,a,s;(0,o.default)(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return r=a=(0,i.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(l))),a.handleDemote=function(){a.props.onClick(),a.props.actions.demoteViewer(a.props.peer.userId,null,a.props.webhookActions)},s=r,(0,i.default)(a,s)}return(0,s.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.props,t=e.peer,r=e.title,n=e.icon;return l.default.createElement(h.default,{disabled:!t||!t.userId,key:"kick",onClick:this.handleDemote},n&&l.default.createElement(m.default,null,l.default.createElement(p.default,null)),l.default.createElement(v.default,{inset:!!n,primary:r}))}}]),t}(u.Component);_.propTypes={peerId:c.default.string.isRequired,onClick:c.default.func.isRequired,title:c.default.string.isRequired,icon:c.default.bool},t.default=(0,d.compose)((0,f.connect)(y.default,g.default))(_)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var n=P(r(25)),o=P(r(17)),a=P(r(18)),i=P(r(34)),s=P(r(35)),u=r(68),l=P(u),c=P(r(69)),d=r(47),f=r(87),p=P(r(246)),h=P(r(568)),m=P(r(569)),v=P(r(570)),y=P(r(56)),g=P(r(227)),b=P(r(247)),_=P(r(148)),w=r(39),k=P(r(155)),E=P(r(154));function P(e){return e&&e.__esModule?e:{default:e}}var S=t.styles={root:{paddingLeft:4,paddingRight:16,paddingBottom:0,paddingTop:0},slider:{marginLeft:16,marginRight:16},sliderContainer:{minWidth:128},listItemIcon:{marginRight:4}},x=function(e){function t(){var e,r,a,s;(0,o.default)(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return r=a=(0,i.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(l))),a.handleChange=function(e,t){a.props.actions.setPeerVolume(a.props.peer.peerId,t)},a.handleMute=function(){a.props.peer.muted?a.props.actions.unmutePeer(a.props.peer.peerId):a.props.actions.mutePeer(a.props.peer.peerId)},s=r,(0,i.default)(a,s)}return(0,s.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.classes,n=t.peer,o=n.volume,a=void 0===o?1:o,i=n.muted,s=void 0!==i&&i,u=l.default.createElement(h.default,null);return a<.5&&(u=l.default.createElement(v.default,null)),0===a&&(u=l.default.createElement(m.default,null)),s&&(u=l.default.createElement(p.default,null)),l.default.createElement(g.default,{classes:{root:r.root},disabled:!n||!n.peerId,key:"volume"},l.default.createElement(b.default,{className:r.listItemIcon,onClick:this.handleMute},l.default.createElement(y.default,null,u)),l.default.createElement("div",{className:r.sliderContainer},l.default.createElement(_.default,{disabled:s,onDragEnd:function(){return e.props.onClick()},max:1,min:0,step:.1,classes:{container:r.slider},value:a,onChange:this.handleChange})))}}]),t}(u.Component);x.propTypes={peerId:c.default.string.isRequired,onClick:c.default.func.isRequired},t.default=(0,d.compose)((0,w.withStyles)(S,{name:"PVCRemoteVolumeMenuItem"}),(0,f.connect)(E.default,k.default))(x)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=c(r(1)),a=c(r(2)),i=r(39),s=c(r(571)),u=c(r(56)),l=c(r(579));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props.classes;return o.default.createElement(s.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},className:e.snackbar,open:!!this.props.message,message:o.default.createElement("span",{id:"message-id"},this.props.message),action:[o.default.createElement(u.default,{key:"close","aria-label":"Close",color:"inherit",className:e.close,onClick:this.props.handleClose},o.default.createElement(l.default,null))]})}}]),t}();d.propTypes={handleClose:a.default.func.isRequired,message:a.default.string},t.default=(0,i.withStyles)(function(e){return{close:{padding:e.spacing.unit/2}}})(d)},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"common",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"red",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"pink",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"purple",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"deepPurple",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"indigo",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"blue",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"lightBlue",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"cyan",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"teal",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"green",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"lightGreen",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"lime",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"yellow",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"amber",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"orange",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"deepOrange",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"brown",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"grey",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"blueGrey",{enumerable:!0,get:function(){return E.default}});var o=n(r(209)),a=n(r(102)),i=n(r(207)),s=n(r(581)),u=n(r(582)),l=n(r(206)),c=n(r(583)),d=n(r(584)),f=n(r(585)),p=n(r(586)),h=n(r(149)),m=n(r(587)),v=n(r(588)),y=n(r(150)),g=n(r(589)),b=n(r(590)),_=n(r(591)),w=n(r(592)),k=n(r(208)),E=n(r(593))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(31)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"ExpandMore");t.default=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(31)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"ExpandLess");t.default=a},function(e,t,r){e.exports=r(594)},function(e,t,r){"use strict";var n=r(111),o="function"===typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,h=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.memo"):60115,v=o?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,r,n,o,a,i,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,a,i,s],l=0;(e=Error(t.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function w(e,t,r){this.props=e,this.context=t,this.refs=_,this.updater=r||b}function k(){}function E(e,t,r){this.props=e,this.context=t,this.refs=_,this.updater=r||b}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&g("85"),this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=w.prototype;var P=E.prototype=new k;P.constructor=E,n(P,w.prototype),P.isPureReactComponent=!0;var S={current:null},x={current:null},T=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,r){var n=void 0,o={},i=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)T.call(t,n)&&!C.hasOwnProperty(n)&&(o[n]=t[n]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(n in u=e.defaultProps)void 0===o[n]&&(o[n]=u[n]);return{$$typeof:a,type:e,key:i,ref:s,props:o,_owner:x.current}}function R(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var M=/\/+/g,D=[];function j(e,t,r,n){if(D.length){var o=D.pop();return o.result=e,o.keyPrefix=t,o.func=r,o.context=n,o.count=0,o}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>D.length&&D.push(e)}function A(e,t,r){return null==e?0:function e(t,r,n,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case a:case i:u=!0}}if(u)return n(o,t,""===r?"."+N(t,0):r),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=r+N(s=t[l],l);u+=e(s,c,n,o)}else if(c=null===t||"object"!==typeof t?null:"function"===typeof(c=y&&t[y]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=e(s=s.value,c=r+N(s,l++),n,o);else"object"===s&&g("31","[object Object]"===(n=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":n,"");return u}(e,"",t,r)}function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,r){var n=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,n,r,function(e){return e}):null!=e&&(R(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(M,"$&/")+"/")+r)),n.push(e))}function U(e,t,r,n,o){var a="";null!=r&&(a=(""+r).replace(M,"$&/")+"/"),A(e,F,t=j(t,a,n,o)),I(t)}function B(){var e=S.current;return null===e&&g("307"),e}var V={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return U(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;A(e,L,t=j(null,null,t,r)),I(t)},count:function(e){return A(e,function(){return null},null)},toArray:function(e){var t=[];return U(e,t,null,function(e){return e}),t},only:function(e){return R(e)||g("143"),e}},createRef:function(){return{current:null}},Component:w,PureComponent:E,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return B().useCallback(e,t)},useContext:function(e,t){return B().useContext(e,t)},useEffect:function(e,t){return B().useEffect(e,t)},useImperativeHandle:function(e,t,r){return B().useImperativeHandle(e,t,r)},useDebugValue:function(){},useLayoutEffect:function(e,t){return B().useLayoutEffect(e,t)},useMemo:function(e,t){return B().useMemo(e,t)},useReducer:function(e,t,r){return B().useReducer(e,t,r)},useRef:function(e){return B().useRef(e)},useState:function(e){return B().useState(e)},Fragment:s,StrictMode:u,Suspense:h,createElement:O,cloneElement:function(e,t,r){(null===e||void 0===e)&&g("267",e);var o=void 0,i=n({},e.props),s=e.key,u=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,l=x.current),void 0!==t.key&&(s=""+t.key);var c=void 0;for(o in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)T.call(t,o)&&!C.hasOwnProperty(o)&&(i[o]=void 0===t[o]&&void 0!==c?c[o]:t[o])}if(1===(o=arguments.length-2))i.children=r;else if(1<o){c=Array(o);for(var d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:a,type:e.type,key:s,ref:u,props:i,_owner:l}},createFactory:function(e){var t=O.bind(null,e);return t.type=e,t},isValidElement:R,version:"16.8.3",unstable_ConcurrentMode:f,unstable_Profiler:l,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:S,ReactCurrentOwner:x,assign:n}},W={default:V},z=W&&V||W;e.exports=z.default||z},function(e,t,r){"use strict";var n=r(1),o=r(111),a=r(263);function i(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,r,n,o,a,i,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,a,i,s],l=0;(e=Error(t.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}n||i("227");var s=!1,u=null,l=!1,c=null,d={onError:function(e){s=!0,u=e}};function f(e,t,r,n,o,a,i,l,c){s=!1,u=null,function(e,t,r,n,o,a,i,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(c){this.onError(c)}}.apply(d,arguments)}var p=null,h={};function m(){if(p)for(var e in h){var t=h[e],r=p.indexOf(e);if(-1<r||i("96",e),!y[r])for(var n in t.extractEvents||i("97",e),y[r]=t,r=t.eventTypes){var o=void 0,a=r[n],s=t,u=n;g.hasOwnProperty(u)&&i("99",u),g[u]=a;var l=a.phasedRegistrationNames;if(l){for(o in l)l.hasOwnProperty(o)&&v(l[o],s,u);o=!0}else a.registrationName?(v(a.registrationName,s,u),o=!0):o=!1;o||i("98",n,e)}}}function v(e,t,r){b[e]&&i("100",e),b[e]=t,_[e]=t.eventTypes[r].dependencies}var y=[],g={},b={},_={},w=null,k=null,E=null;function P(e,t,r){var n=e.type||"unknown-event";e.currentTarget=E(r),function(e,t,r,n,o,a,d,p,h){if(f.apply(this,arguments),s){if(s){var m=u;s=!1,u=null}else i("198"),m=void 0;l||(l=!0,c=m)}}(n,t,void 0,e),e.currentTarget=null}function S(e,t){return null==t&&i("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function x(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var T=null;function C(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)P(e,t[n],r[n]);else t&&P(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var O={injectEventPluginOrder:function(e){p&&i("101"),p=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];h.hasOwnProperty(t)&&h[t]===n||(h[t]&&i("102",t),h[t]=n,r=!0)}r&&m()}};function R(e,t){var r=e.stateNode;if(!r)return null;var n=w(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}return e?null:(r&&"function"!==typeof r&&i("231",t,typeof r),r)}function M(e){if(null!==e&&(T=S(T,e)),e=T,T=null,e&&(x(e,C),T&&i("95"),l))throw e=c,l=!1,c=null,e}var D=Math.random().toString(36).slice(2),j="__reactInternalInstance$"+D,I="__reactEventHandlers$"+D;function A(e){if(e[j])return e[j];for(;!e[j];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[j]).tag||6===e.tag?e:null}function N(e){return!(e=e[j])||5!==e.tag&&6!==e.tag?null:e}function L(e){if(5===e.tag||6===e.tag)return e.stateNode;i("33")}function F(e){return e[I]||null}function U(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function B(e,t,r){(t=R(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=S(r._dispatchListeners,t),r._dispatchInstances=S(r._dispatchInstances,e))}function V(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=U(t);for(t=r.length;0<t--;)B(r[t],"captured",e);for(t=0;t<r.length;t++)B(r[t],"bubbled",e)}}function W(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=R(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=S(r._dispatchListeners,t),r._dispatchInstances=S(r._dispatchInstances,e))}function z(e){e&&e.dispatchConfig.registrationName&&W(e._targetInst,null,e)}function H(e){x(e,V)}var q=!("undefined"===typeof window||!window.document||!window.document.createElement);function G(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var K={animationend:G("Animation","AnimationEnd"),animationiteration:G("Animation","AnimationIteration"),animationstart:G("Animation","AnimationStart"),transitionend:G("Transition","TransitionEnd")},$={},Y={};function Q(e){if($[e])return $[e];if(!K[e])return e;var t,r=K[e];for(t in r)if(r.hasOwnProperty(t)&&t in Y)return $[e]=r[t];return e}q&&(Y=document.createElement("div").style,"AnimationEvent"in window||(delete K.animationend.animation,delete K.animationiteration.animation,delete K.animationstart.animation),"TransitionEvent"in window||delete K.transitionend.transition);var X=Q("animationend"),J=Q("animationiteration"),Z=Q("animationstart"),ee=Q("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),re=null,ne=null,oe=null;function ae(){if(oe)return oe;var e,t,r=ne,n=r.length,o="value"in re?re.value:re.textContent,a=o.length;for(e=0;e<n&&r[e]===o[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===o[a-t];t++);return oe=o.slice(e,1<t?1-t:void 0)}function ie(){return!0}function se(){return!1}function ue(e,t,r,n){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(r):"target"===o?this.target=n:this[o]=r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?ie:se,this.isPropagationStopped=se,this}function le(e,t,r,n){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,r,n),o}return new this(e,t,r,n)}function ce(e){e instanceof this||i("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=le,e.release=ce}o(ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ie)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ie)},persist:function(){this.isPersistent=ie},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),ue.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ue.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var a=new t;return o(a,r.prototype),r.prototype=a,r.prototype.constructor=r,r.Interface=o({},n.Interface,e),r.extend=n.extend,de(r),r},de(ue);var fe=ue.extend({data:null}),pe=ue.extend({data:null}),he=[9,13,27,32],me=q&&"CompositionEvent"in window,ve=null;q&&"documentMode"in document&&(ve=document.documentMode);var ye=q&&"TextEvent"in window&&!ve,ge=q&&(!me||ve&&8<ve&&11>=ve),be=String.fromCharCode(32),_e={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},we=!1;function ke(e,t){switch(e){case"keyup":return-1!==he.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ee(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pe=!1;var Se={eventTypes:_e,extractEvents:function(e,t,r,n){var o=void 0,a=void 0;if(me)e:{switch(e){case"compositionstart":o=_e.compositionStart;break e;case"compositionend":o=_e.compositionEnd;break e;case"compositionupdate":o=_e.compositionUpdate;break e}o=void 0}else Pe?ke(e,r)&&(o=_e.compositionEnd):"keydown"===e&&229===r.keyCode&&(o=_e.compositionStart);return o?(ge&&"ko"!==r.locale&&(Pe||o!==_e.compositionStart?o===_e.compositionEnd&&Pe&&(a=ae()):(ne="value"in(re=n)?re.value:re.textContent,Pe=!0)),o=fe.getPooled(o,t,r,n),a?o.data=a:null!==(a=Ee(r))&&(o.data=a),H(o),a=o):a=null,(e=ye?function(e,t){switch(e){case"compositionend":return Ee(t);case"keypress":return 32!==t.which?null:(we=!0,be);case"textInput":return(e=t.data)===be&&we?null:e;default:return null}}(e,r):function(e,t){if(Pe)return"compositionend"===e||!me&&ke(e,t)?(e=ae(),oe=ne=re=null,Pe=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ge&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=pe.getPooled(_e.beforeInput,t,r,n)).data=e,H(t)):t=null,null===a?t:null===t?a:[a,t]}},xe=null,Te=null,Ce=null;function Oe(e){if(e=k(e)){"function"!==typeof xe&&i("280");var t=w(e.stateNode);xe(e.stateNode,e.type,t)}}function Re(e){Te?Ce?Ce.push(e):Ce=[e]:Te=e}function Me(){if(Te){var e=Te,t=Ce;if(Ce=Te=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function De(e,t){return e(t)}function je(e,t,r){return e(t,r)}function Ie(){}var Ae=!1;function Ne(e,t){if(Ae)return e(t);Ae=!0;try{return De(e,t)}finally{Ae=!1,(null!==Te||null!==Ce)&&(Ie(),Me())}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Le[e.type]:"textarea"===t}function Ue(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Be(e){if(!q)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}function Ve(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function We(e){e._valueTracker||(e._valueTracker=function(e){var t=Ve(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ze(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ve(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}var He=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;He.hasOwnProperty("ReactCurrentDispatcher")||(He.ReactCurrentDispatcher={current:null});var qe=/^(.*)[\\\/]/,Ge="function"===typeof Symbol&&Symbol.for,Ke=Ge?Symbol.for("react.element"):60103,$e=Ge?Symbol.for("react.portal"):60106,Ye=Ge?Symbol.for("react.fragment"):60107,Qe=Ge?Symbol.for("react.strict_mode"):60108,Xe=Ge?Symbol.for("react.profiler"):60114,Je=Ge?Symbol.for("react.provider"):60109,Ze=Ge?Symbol.for("react.context"):60110,et=Ge?Symbol.for("react.concurrent_mode"):60111,tt=Ge?Symbol.for("react.forward_ref"):60112,rt=Ge?Symbol.for("react.suspense"):60113,nt=Ge?Symbol.for("react.memo"):60115,ot=Ge?Symbol.for("react.lazy"):60116,at="function"===typeof Symbol&&Symbol.iterator;function it(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=at&&e[at]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case et:return"ConcurrentMode";case Ye:return"Fragment";case $e:return"Portal";case Xe:return"Profiler";case Qe:return"StrictMode";case rt:return"Suspense"}if("object"===typeof e)switch(e.$$typeof){case Ze:return"Context.Consumer";case Je:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case nt:return st(e.type);case ot:if(e=1===e._status?e._result:null)return st(e)}return null}function ut(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,o=e._debugSource,a=st(e.type);r=null,n&&(r=st(n.type)),n=a,a="",o?a=" (at "+o.fileName.replace(qe,"")+":"+o.lineNumber+")":r&&(a=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+a}t+=r,e=e.return}while(e);return t}var lt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ct=Object.prototype.hasOwnProperty,dt={},ft={};function pt(e,t,r,n,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new pt(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new pt(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new pt(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new pt(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new pt(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new pt(e,3,!0,e,null)}),["capture","download"].forEach(function(e){ht[e]=new pt(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){ht[e]=new pt(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){ht[e]=new pt(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function vt(e){return e[1].toUpperCase()}function yt(e,t,r,n){var o=ht.hasOwnProperty(t)?ht[t]:null;(null!==o?0===o.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,o,n)&&(r=null),n||null===o?function(e){return!!ct.call(ft,e)||!ct.call(dt,e)&&(lt.test(e)?ft[e]=!0:(dt[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=null===r?3!==o.type&&"":r:(t=o.attributeName,n=o.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}function gt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bt(e,t){var r=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function _t(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=gt(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function wt(e,t){null!=(t=t.checked)&&yt(e,"checked",t,!1)}function kt(e,t){wt(e,t);var r=gt(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Pt(e,t.type,r):t.hasOwnProperty("defaultValue")&&Pt(e,t.type,gt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Et(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Pt(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,vt);ht[t]=new pt(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,vt);ht[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,vt);ht[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new pt(e,1,!1,e.toLowerCase(),null)});var St={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function xt(e,t,r){return(e=ue.getPooled(St.change,e,t,r)).type="change",Re(r),H(e),e}var Tt=null,Ct=null;function Ot(e){M(e)}function Rt(e){if(ze(L(e)))return e}function Mt(e,t){if("change"===e)return t}var Dt=!1;function jt(){Tt&&(Tt.detachEvent("onpropertychange",It),Ct=Tt=null)}function It(e){"value"===e.propertyName&&Rt(Ct)&&Ne(Ot,e=xt(Ct,e,Ue(e)))}function At(e,t,r){"focus"===e?(jt(),Ct=r,(Tt=t).attachEvent("onpropertychange",It)):"blur"===e&&jt()}function Nt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rt(Ct)}function Lt(e,t){if("click"===e)return Rt(t)}function Ft(e,t){if("input"===e||"change"===e)return Rt(t)}q&&(Dt=Be("input")&&(!document.documentMode||9<document.documentMode));var Ut={eventTypes:St,_isInputEventSupported:Dt,extractEvents:function(e,t,r,n){var o=t?L(t):window,a=void 0,i=void 0,s=o.nodeName&&o.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===o.type?a=Mt:Fe(o)?Dt?a=Ft:(a=Nt,i=At):(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=Lt),a&&(a=a(e,t)))return xt(a,r,n);i&&i(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Pt(o,"number",o.value)}},Bt=ue.extend({view:null,detail:null}),Vt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Vt[e])&&!!t[e]}function zt(){return Wt}var Ht=0,qt=0,Gt=!1,Kt=!1,$t=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:zt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ht;return Ht=e.screenX,Gt?"mousemove"===e.type?e.screenX-t:0:(Gt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=qt;return qt=e.screenY,Kt?"mousemove"===e.type?e.screenY-t:0:(Kt=!0,0)}}),Yt=$t.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Qt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Xt={eventTypes:Qt,extractEvents:function(e,t,r,n){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&(r.relatedTarget||r.fromElement)||!a&&!o)return null;if(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,a?(a=t,t=(t=r.relatedTarget||r.toElement)?A(t):null):a=null,a===t)return null;var i=void 0,s=void 0,u=void 0,l=void 0;"mouseout"===e||"mouseover"===e?(i=$t,s=Qt.mouseLeave,u=Qt.mouseEnter,l="mouse"):"pointerout"!==e&&"pointerover"!==e||(i=Yt,s=Qt.pointerLeave,u=Qt.pointerEnter,l="pointer");var c=null==a?o:L(a);if(o=null==t?o:L(t),(e=i.getPooled(s,a,r,n)).type=l+"leave",e.target=c,e.relatedTarget=o,(r=i.getPooled(u,t,r,n)).type=l+"enter",r.target=o,r.relatedTarget=c,n=t,a&&n)e:{for(o=n,l=0,i=t=a;i;i=U(i))l++;for(i=0,u=o;u;u=U(u))i++;for(;0<l-i;)t=U(t),l--;for(;0<i-l;)o=U(o),i--;for(;l--;){if(t===o||t===o.alternate)break e;t=U(t),o=U(o)}t=null}else t=null;for(o=t,t=[];a&&a!==o&&(null===(l=a.alternate)||l!==o);)t.push(a),a=U(a);for(a=[];n&&n!==o&&(null===(l=n.alternate)||l!==o);)a.push(n),n=U(n);for(n=0;n<t.length;n++)W(t[n],"bubbled",e);for(n=a.length;0<n--;)W(a[n],"captured",r);return[e,r]}};function Jt(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var Zt=Object.prototype.hasOwnProperty;function er(e,t){if(Jt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Zt.call(t,r[n])||!Jt(e[r[n]],t[r[n]]))return!1;return!0}function tr(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function rr(e){2!==tr(e)&&i("188")}function nr(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tr(e))&&i("188"),1===t?null:e;for(var r=e,n=t;;){var o=r.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===r)return rr(o),e;if(s===n)return rr(o),t;s=s.sibling}i("188")}if(r.return!==n.return)r=o,n=a;else{s=!1;for(var u=o.child;u;){if(u===r){s=!0,r=o,n=a;break}if(u===n){s=!0,n=o,r=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===r){s=!0,r=a,n=o;break}if(u===n){s=!0,n=a,r=o;break}u=u.sibling}s||i("189")}}r.alternate!==n&&i("190")}return 3!==r.tag&&i("188"),r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var or=ue.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ar=ue.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ir=Bt.extend({relatedTarget:null});function sr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ur={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cr=Bt.extend({key:function(e){if(e.key){var t=ur[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=sr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?lr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:zt,charCode:function(e){return"keypress"===e.type?sr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?sr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),dr=$t.extend({dataTransfer:null}),fr=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:zt}),pr=ue.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),hr=$t.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),mr=[["abort","abort"],[X,"animationEnd"],[J,"animationIteration"],[Z,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vr={},yr={};function gr(e,t){var r=e[0],n="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r],isInteractive:t},vr[e]=t,yr[r]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){gr(e,!0)}),mr.forEach(function(e){gr(e,!1)});var br={eventTypes:vr,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yr[e])&&!0===e.isInteractive},extractEvents:function(e,t,r,n){var o=yr[e];if(!o)return null;switch(e){case"keypress":if(0===sr(r))return null;case"keydown":case"keyup":e=cr;break;case"blur":case"focus":e=ir;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=$t;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=dr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=fr;break;case X:case J:case Z:e=or;break;case ee:e=pr;break;case"scroll":e=Bt;break;case"wheel":e=hr;break;case"copy":case"cut":case"paste":e=ar;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Yt;break;default:e=ue}return H(t=e.getPooled(o,t,r,n)),t}},_r=br.isInteractiveTopLevelEventType,wr=[];function kr(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n;for(n=r;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(r),r=A(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var o=Ue(e.nativeEvent);n=e.topLevelType;for(var a=e.nativeEvent,i=null,s=0;s<y.length;s++){var u=y[s];u&&(u=u.extractEvents(n,t,a,o))&&(i=S(i,u))}M(i)}}var Er=!0;function Pr(e,t){if(!t)return null;var r=(_r(e)?xr:Tr).bind(null,e);t.addEventListener(e,r,!1)}function Sr(e,t){if(!t)return null;var r=(_r(e)?xr:Tr).bind(null,e);t.addEventListener(e,r,!0)}function xr(e,t){je(Tr,e,t)}function Tr(e,t){if(Er){var r=Ue(t);if(null===(r=A(r))||"number"!==typeof r.tag||2===tr(r)||(r=null),wr.length){var n=wr.pop();n.topLevelType=e,n.nativeEvent=t,n.targetInst=r,e=n}else e={topLevelType:e,nativeEvent:t,targetInst:r,ancestors:[]};try{Ne(kr,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>wr.length&&wr.push(e)}}}var Cr={},Or=0,Rr="_reactListenersID"+(""+Math.random()).slice(2);function Mr(e){return Object.prototype.hasOwnProperty.call(e,Rr)||(e[Rr]=Or++,Cr[e[Rr]]={}),Cr[e[Rr]]}function Dr(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function jr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ir(e,t){var r,n=jr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jr(n)}}function Ar(){for(var e=window,t=Dr();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(r){break}t=Dr(e.document)}return t}function Nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Lr(e){var t=Ar(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(r.ownerDocument.documentElement,r)){if(null!==n&&Nr(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(n.start,o);n=void 0===n.end?a:Math.min(n.end,o),!e.extend&&a>n&&(o=n,n=a,a=o),o=Ir(r,a);var i=Ir(r,n);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fr=q&&"documentMode"in document&&11>=document.documentMode,Ur={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Br=null,Vr=null,Wr=null,zr=!1;function Hr(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return zr||null==Br||Br!==Dr(r)?null:("selectionStart"in(r=Br)&&Nr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Wr&&er(Wr,r)?null:(Wr=r,(e=ue.getPooled(Ur.select,Vr,e,t)).type="select",e.target=Br,H(e),e))}var qr={eventTypes:Ur,extractEvents:function(e,t,r,n){var o,a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(o=!a)){e:{a=Mr(a),o=_.onSelect;for(var i=0;i<o.length;i++){var s=o[i];if(!a.hasOwnProperty(s)||!a[s]){a=!1;break e}}a=!0}o=!a}if(o)return null;switch(a=t?L(t):window,e){case"focus":(Fe(a)||"true"===a.contentEditable)&&(Br=a,Vr=t,Wr=null);break;case"blur":Wr=Vr=Br=null;break;case"mousedown":zr=!0;break;case"contextmenu":case"mouseup":case"dragend":return zr=!1,Hr(r,n);case"selectionchange":if(Fr)break;case"keydown":case"keyup":return Hr(r,n)}return null}};function Gr(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Kr(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+gt(r),t=null,o=0;o<e.length;o++){if(e[o].value===r)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function $r(e,t){return null!=t.dangerouslySetInnerHTML&&i("91"),o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yr(e,t){var r=t.value;null==r&&(r=t.defaultValue,null!=(t=t.children)&&(null!=r&&i("92"),Array.isArray(t)&&(1>=t.length||i("93"),t=t[0]),r=t),null==r&&(r="")),e._wrapperState={initialValue:gt(r)}}function Qr(e,t){var r=gt(t.value),n=gt(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function Xr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}O.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=F,k=N,E=L,O.injectEventPluginsByName({SimpleEventPlugin:br,EnterLeaveEventPlugin:Xt,ChangeEventPlugin:Ut,SelectEventPlugin:qr,BeforeInputEventPlugin:Se});var Jr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Zr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function en(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Zr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var tn,rn=void 0,nn=(tn=function(e,t){if(e.namespaceURI!==Jr.svg||"innerHTML"in e)e.innerHTML=t;else{for((rn=rn||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=rn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return tn(e,t)})}:tn);function on(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var an={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sn=["Webkit","ms","Moz","O"];function un(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||an.hasOwnProperty(e)&&an[e]?(""+t).trim():t+"px"}function ln(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=un(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}Object.keys(an).forEach(function(e){sn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),an[t]=an[e]})});var cn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dn(e,t){t&&(cn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&i("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&i("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||i("61")),null!=t.style&&"object"!==typeof t.style&&i("62",""))}function fn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function pn(e,t){var r=Mr(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=_[t];for(var n=0;n<t.length;n++){var o=t[n];if(!r.hasOwnProperty(o)||!r[o]){switch(o){case"scroll":Sr("scroll",e);break;case"focus":case"blur":Sr("focus",e),Sr("blur",e),r.blur=!0,r.focus=!0;break;case"cancel":case"close":Be(o)&&Sr(o,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(o)&&Pr(o,e)}r[o]=!0}}}function hn(){}var mn=null,vn=null;function yn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function gn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,_n="function"===typeof clearTimeout?clearTimeout:void 0,wn=a.unstable_scheduleCallback,kn=a.unstable_cancelCallback;function En(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Pn(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Sn=[],xn=-1;function Tn(e){0>xn||(e.current=Sn[xn],Sn[xn]=null,xn--)}function Cn(e,t){Sn[++xn]=e.current,e.current=t}var On={},Rn={current:On},Mn={current:!1},Dn=On;function jn(e,t){var r=e.type.contextTypes;if(!r)return On;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in r)a[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function In(e){return null!==(e=e.childContextTypes)&&void 0!==e}function An(e){Tn(Mn),Tn(Rn)}function Nn(e){Tn(Mn),Tn(Rn)}function Ln(e,t,r){Rn.current!==On&&i("168"),Cn(Rn,t),Cn(Mn,r)}function Fn(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())a in e||i("108",st(t)||"Unknown",a);return o({},r,n)}function Un(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||On,Dn=Rn.current,Cn(Rn,t),Cn(Mn,Mn.current),!0}function Bn(e,t,r){var n=e.stateNode;n||i("169"),r?(t=Fn(e,t,Dn),n.__reactInternalMemoizedMergedChildContext=t,Tn(Mn),Tn(Rn),Cn(Rn,t)):Tn(Mn),Cn(Mn,r)}var Vn=null,Wn=null;function zn(e){return function(t){try{return e(t)}catch(r){}}}function Hn(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function qn(e,t,r,n){return new Hn(e,t,r,n)}function Gn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Kn(e,t){var r=e.alternate;return null===r?((r=qn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.contextDependencies=e.contextDependencies,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $n(e,t,r,n,o,a){var s=2;if(n=e,"function"===typeof e)Gn(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case Ye:return Yn(r.children,o,a,t);case et:return Qn(r,3|o,a,t);case Qe:return Qn(r,2|o,a,t);case Xe:return(e=qn(12,r,t,4|o)).elementType=Xe,e.type=Xe,e.expirationTime=a,e;case rt:return(e=qn(13,r,t,o)).elementType=rt,e.type=rt,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Je:s=10;break e;case Ze:s=9;break e;case tt:s=11;break e;case nt:s=14;break e;case ot:s=16,n=null;break e}i("130",null==e?e:typeof e,"")}return(t=qn(s,r,t,o)).elementType=e,t.type=n,t.expirationTime=a,t}function Yn(e,t,r,n){return(e=qn(7,e,n,t)).expirationTime=r,e}function Qn(e,t,r,n){return e=qn(8,e,n,t),t=0===(1&t)?Qe:et,e.elementType=t,e.type=t,e.expirationTime=r,e}function Xn(e,t,r){return(e=qn(6,e,null,t)).expirationTime=r,e}function Jn(e,t,r){return(t=qn(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zn(e,t){e.didError=!1;var r=e.earliestPendingTime;0===r?e.earliestPendingTime=e.latestPendingTime=t:r<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ro(t,e)}function eo(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var r=e.earliestPendingTime,n=e.latestPendingTime;r===t?e.earliestPendingTime=n===t?e.latestPendingTime=0:n:n===t&&(e.latestPendingTime=r),r=e.earliestSuspendedTime,n=e.latestSuspendedTime,0===r?e.earliestSuspendedTime=e.latestSuspendedTime=t:r<t?e.earliestSuspendedTime=t:n>t&&(e.latestSuspendedTime=t),ro(t,e)}function to(e,t){var r=e.earliestPendingTime;return r>t&&(t=r),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ro(e,t){var r=t.earliestSuspendedTime,n=t.latestSuspendedTime,o=t.earliestPendingTime,a=t.latestPingedTime;0===(o=0!==o?o:a)&&(0===e||n<e)&&(o=n),0!==(e=o)&&r>e&&(e=r),t.nextExpirationTimeToWorkOn=o,t.expirationTime=e}function no(e,t){if(e&&e.defaultProps)for(var r in t=o({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var oo=(new n.Component).refs;function ao(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:o({},t,r),e.memoizedState=r,null!==(n=e.updateQueue)&&0===e.expirationTime&&(n.baseState=r)}var io={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tr(e)},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=ks(),o=Qa(n=Yi(n,e));o.payload=t,void 0!==r&&null!==r&&(o.callback=r),zi(),Ja(e,o),Ji(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=ks(),o=Qa(n=Yi(n,e));o.tag=Ha,o.payload=t,void 0!==r&&null!==r&&(o.callback=r),zi(),Ja(e,o),Ji(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=ks(),n=Qa(r=Yi(r,e));n.tag=qa,void 0!==t&&null!==t&&(n.callback=t),zi(),Ja(e,n),Ji(e,r)}};function so(e,t,r,n,o,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!er(r,n)||!er(o,a))}function uo(e,t,r){var n=!1,o=On,a=t.contextType;return"object"===typeof a&&null!==a?a=Wa(a):(o=In(t)?Dn:Rn.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?jn(e,o):On),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=io,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function lo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function co(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs=oo;var a=t.contextType;"object"===typeof a&&null!==a?o.context=Wa(a):(a=In(t)?Dn:Rn.current,o.context=jn(e,a)),null!==(a=e.updateQueue)&&(ri(e,a,r,o,n),o.state=e.memoizedState),"function"===typeof(a=t.getDerivedStateFromProps)&&(ao(e,t,a,r),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&io.enqueueReplaceState(o,o.state,null),null!==(a=e.updateQueue)&&(ri(e,a,r,o,n),o.state=e.memoizedState)),"function"===typeof o.componentDidMount&&(e.effectTag|=4)}var fo=Array.isArray;function po(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){r=r._owner;var n=void 0;r&&(1!==r.tag&&i("309"),n=r.stateNode),n||i("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=n.refs;t===oo&&(t=n.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}"string"!==typeof e&&i("284"),r._owner||i("290",e)}return e}function ho(e,t){"textarea"!==e.type&&i("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function mo(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,r){return(e=Kn(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,r,n){return null===t||6!==t.tag?((t=Xn(r,e.mode,n)).return=e,t):((t=o(t,r)).return=e,t)}function l(e,t,r,n){return null!==t&&t.elementType===r.type?((n=o(t,r.props)).ref=po(e,t,r),n.return=e,n):((n=$n(r.type,r.key,r.props,null,e.mode,n)).ref=po(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Jn(r,e.mode,n)).return=e,t):((t=o(t,r.children||[])).return=e,t)}function d(e,t,r,n,a){return null===t||7!==t.tag?((t=Yn(r,e.mode,n,a)).return=e,t):((t=o(t,r)).return=e,t)}function f(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Xn(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Ke:return(r=$n(t.type,t.key,t.props,null,e.mode,r)).ref=po(e,null,t),r.return=e,r;case $e:return(t=Jn(t,e.mode,r)).return=e,t}if(fo(t)||it(t))return(t=Yn(t,e.mode,r,null)).return=e,t;ho(e,t)}return null}function p(e,t,r,n){var o=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==o?null:u(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Ke:return r.key===o?r.type===Ye?d(e,t,r.props.children,n,o):l(e,t,r,n):null;case $e:return r.key===o?c(e,t,r,n):null}if(fo(r)||it(r))return null!==o?null:d(e,t,r,n,null);ho(e,r)}return null}function h(e,t,r,n,o){if("string"===typeof n||"number"===typeof n)return u(t,e=e.get(r)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Ke:return e=e.get(null===n.key?r:n.key)||null,n.type===Ye?d(t,e,n.props.children,o,n.key):l(t,e,n,o);case $e:return c(t,e=e.get(null===n.key?r:n.key)||null,n,o)}if(fo(n)||it(n))return d(t,e=e.get(r)||null,n,o,null);ho(t,n)}return null}function m(o,i,s,u){for(var l=null,c=null,d=i,m=i=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var y=p(o,d,s[m],u);if(null===y){null===d&&(d=v);break}e&&d&&null===y.alternate&&t(o,d),i=a(y,i,m),null===c?l=y:c.sibling=y,c=y,d=v}if(m===s.length)return r(o,d),l;if(null===d){for(;m<s.length;m++)(d=f(o,s[m],u))&&(i=a(d,i,m),null===c?l=d:c.sibling=d,c=d);return l}for(d=n(o,d);m<s.length;m++)(v=h(d,o,m,s[m],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),i=a(v,i,m),null===c?l=v:c.sibling=v,c=v);return e&&d.forEach(function(e){return t(o,e)}),l}function v(o,s,u,l){var c=it(u);"function"!==typeof c&&i("150"),null==(u=c.call(u))&&i("151");for(var d=c=null,m=s,v=s=0,y=null,g=u.next();null!==m&&!g.done;v++,g=u.next()){m.index>v?(y=m,m=null):y=m.sibling;var b=p(o,m,g.value,l);if(null===b){m||(m=y);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,v),null===d?c=b:d.sibling=b,d=b,m=y}if(g.done)return r(o,m),c;if(null===m){for(;!g.done;v++,g=u.next())null!==(g=f(o,g.value,l))&&(s=a(g,s,v),null===d?c=g:d.sibling=g,d=g);return c}for(m=n(o,m);!g.done;v++,g=u.next())null!==(g=h(m,o,v,g.value,l))&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),s=a(g,s,v),null===d?c=g:d.sibling=g,d=g);return e&&m.forEach(function(e){return t(o,e)}),c}return function(e,n,a,u){var l="object"===typeof a&&null!==a&&a.type===Ye&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case Ke:e:{for(c=a.key,l=n;null!==l;){if(l.key===c){if(7===l.tag?a.type===Ye:l.elementType===a.type){r(e,l.sibling),(n=o(l,a.type===Ye?a.props.children:a.props)).ref=po(e,l,a),n.return=e,e=n;break e}r(e,l);break}t(e,l),l=l.sibling}a.type===Ye?((n=Yn(a.props.children,e.mode,u,a.key)).return=e,e=n):((u=$n(a.type,a.key,a.props,null,e.mode,u)).ref=po(e,n,a),u.return=e,e=u)}return s(e);case $e:e:{for(l=a.key;null!==n;){if(n.key===l){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){r(e,n.sibling),(n=o(n,a.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Jn(a,e.mode,u)).return=e,e=n}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==n&&6===n.tag?(r(e,n.sibling),(n=o(n,a)).return=e,e=n):(r(e,n),(n=Xn(a,e.mode,u)).return=e,e=n),s(e);if(fo(a))return m(e,n,a,u);if(it(a))return v(e,n,a,u);if(c&&ho(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 0:i("152",(u=e.type).displayName||u.name||"Component")}return r(e,n)}}var vo=mo(!0),yo=mo(!1),go={},bo={current:go},_o={current:go},wo={current:go};function ko(e){return e===go&&i("174"),e}function Eo(e,t){Cn(wo,t),Cn(_o,e),Cn(bo,go);var r=t.nodeType;switch(r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:en(null,"");break;default:t=en(t=(r=8===r?t.parentNode:t).namespaceURI||null,r=r.tagName)}Tn(bo),Cn(bo,t)}function Po(e){Tn(bo),Tn(_o),Tn(wo)}function So(e){ko(wo.current);var t=ko(bo.current),r=en(t,e.type);t!==r&&(Cn(_o,e),Cn(bo,r))}function xo(e){_o.current===e&&(Tn(bo),Tn(_o))}var To=0,Co=2,Oo=4,Ro=8,Mo=16,Do=32,jo=64,Io=128,Ao=He.ReactCurrentDispatcher,No=0,Lo=null,Fo=null,Uo=null,Bo=null,Vo=null,Wo=null,zo=0,Ho=null,qo=0,Go=!1,Ko=null,$o=0;function Yo(){i("307")}function Qo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Jt(e[r],t[r]))return!1;return!0}function Xo(e,t,r,n,o,a){if(No=a,Lo=t,Uo=null!==e?e.memoizedState:null,Ao.current=null===Uo?ca:da,t=r(n,o),Go){do{Go=!1,$o+=1,Uo=null!==e?e.memoizedState:null,Wo=Bo,Ho=Vo=Fo=null,Ao.current=da,t=r(n,o)}while(Go);Ko=null,$o=0}return Ao.current=la,(e=Lo).memoizedState=Bo,e.expirationTime=zo,e.updateQueue=Ho,e.effectTag|=qo,e=null!==Fo&&null!==Fo.next,No=0,Wo=Vo=Bo=Uo=Fo=Lo=null,zo=0,Ho=null,qo=0,e&&i("300"),t}function Jo(){Ao.current=la,No=0,Wo=Vo=Bo=Uo=Fo=Lo=null,zo=0,Ho=null,qo=0,Go=!1,Ko=null,$o=0}function Zo(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Vo?Bo=Vo=e:Vo=Vo.next=e,Vo}function ea(){if(null!==Wo)Wo=(Vo=Wo).next,Uo=null!==(Fo=Uo)?Fo.next:null;else{null===Uo&&i("310");var e={memoizedState:(Fo=Uo).memoizedState,baseState:Fo.baseState,queue:Fo.queue,baseUpdate:Fo.baseUpdate,next:null};Vo=null===Vo?Bo=e:Vo.next=e,Uo=Fo.next}return Vo}function ta(e,t){return"function"===typeof t?t(e):t}function ra(e){var t=ea(),r=t.queue;if(null===r&&i("311"),0<$o){var n=r.dispatch;if(null!==Ko){var o=Ko.get(r);if(void 0!==o){Ko.delete(r);var a=t.memoizedState;do{a=e(a,o.action),o=o.next}while(null!==o);return Jt(a,t.memoizedState)||(ka=!0),t.memoizedState=a,t.baseUpdate===r.last&&(t.baseState=a),r.eagerReducer=e,r.eagerState=a,[a,n]}}return[t.memoizedState,n]}n=r.last;var s=t.baseUpdate;if(a=t.baseState,null!==s?(null!==n&&(n.next=null),n=s.next):n=null!==n?n.next:null,null!==n){var u=o=null,l=n,c=!1;do{var d=l.expirationTime;d<No?(c||(c=!0,u=s,o=a),d>zo&&(zo=d)):a=l.eagerReducer===e?l.eagerState:e(a,l.action),s=l,l=l.next}while(null!==l&&l!==n);c||(u=s,o=a),Jt(a,t.memoizedState)||(ka=!0),t.memoizedState=a,t.baseUpdate=u,t.baseState=o,r.eagerReducer=e,r.eagerState=a}return[t.memoizedState,r.dispatch]}function na(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===Ho?(Ho={lastEffect:null}).lastEffect=e.next=e:null===(t=Ho.lastEffect)?Ho.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,Ho.lastEffect=e),e}function oa(e,t,r,n){var o=Zo();qo|=e,o.memoizedState=na(t,r,void 0,void 0===n?null:n)}function aa(e,t,r,n){var o=ea();n=void 0===n?null:n;var a=void 0;if(null!==Fo){var i=Fo.memoizedState;if(a=i.destroy,null!==n&&Qo(n,i.deps))return void na(To,r,a,n)}qo|=e,o.memoizedState=na(t,r,a,n)}function ia(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function sa(){}function ua(e,t,r){25>$o||i("301");var n=e.alternate;if(e===Lo||null!==n&&n===Lo)if(Go=!0,e={expirationTime:No,action:r,eagerReducer:null,eagerState:null,next:null},null===Ko&&(Ko=new Map),void 0===(r=Ko.get(t)))Ko.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}else{zi();var o=ks(),a={expirationTime:o=Yi(o,e),action:r,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)a.next=a;else{var u=s.next;null!==u&&(a.next=u),s.next=a}if(t.last=a,0===e.expirationTime&&(null===n||0===n.expirationTime)&&null!==(n=t.eagerReducer))try{var l=t.eagerState,c=n(l,r);if(a.eagerReducer=n,a.eagerState=c,Jt(c,l))return}catch(d){}Ji(e,o)}}var la={readContext:Wa,useCallback:Yo,useContext:Yo,useEffect:Yo,useImperativeHandle:Yo,useLayoutEffect:Yo,useMemo:Yo,useReducer:Yo,useRef:Yo,useState:Yo,useDebugValue:Yo},ca={readContext:Wa,useCallback:function(e,t){return Zo().memoizedState=[e,void 0===t?null:t],e},useContext:Wa,useEffect:function(e,t){return oa(516,Io|jo,e,t)},useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,oa(4,Oo|Do,ia.bind(null,t,e),r)},useLayoutEffect:function(e,t){return oa(4,Oo|Do,e,t)},useMemo:function(e,t){var r=Zo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={last:null,dispatch:null,eagerReducer:e,eagerState:t}).dispatch=ua.bind(null,Lo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Zo().memoizedState=e},useState:function(e){var t=Zo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,eagerReducer:ta,eagerState:e}).dispatch=ua.bind(null,Lo,e),[t.memoizedState,e]},useDebugValue:sa},da={readContext:Wa,useCallback:function(e,t){var r=ea();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Qo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)},useContext:Wa,useEffect:function(e,t){return aa(516,Io|jo,e,t)},useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,aa(4,Oo|Do,ia.bind(null,t,e),r)},useLayoutEffect:function(e,t){return aa(4,Oo|Do,e,t)},useMemo:function(e,t){var r=ea();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Qo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)},useReducer:ra,useRef:function(){return ea().memoizedState},useState:function(e){return ra(ta)},useDebugValue:sa},fa=null,pa=null,ha=!1;function ma(e,t){var r=qn(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function va(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ya(e){if(ha){var t=pa;if(t){var r=t;if(!va(e,t)){if(!(t=En(r))||!va(e,t))return e.effectTag|=2,ha=!1,void(fa=e);ma(fa,r)}fa=e,pa=Pn(t)}else e.effectTag|=2,ha=!1,fa=e}}function ga(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;fa=e}function ba(e){if(e!==fa)return!1;if(!ha)return ga(e),ha=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!gn(t,e.memoizedProps))for(t=pa;t;)ma(e,t),t=En(t);return ga(e),pa=fa?En(e.stateNode):null,!0}function _a(){pa=fa=null,ha=!1}var wa=He.ReactCurrentOwner,ka=!1;function Ea(e,t,r,n){t.child=null===e?yo(t,null,r,n):vo(t,e.child,r,n)}function Pa(e,t,r,n,o){r=r.render;var a=t.ref;return Va(t,o),n=Xo(e,t,r,n,a,o),null===e||ka?(t.effectTag|=1,Ea(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),ja(e,t,o))}function Sa(e,t,r,n,o,a){if(null===e){var i=r.type;return"function"!==typeof i||Gn(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=$n(r.type,null,n,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,xa(e,t,i,n,o,a))}return i=e.child,o<a&&(o=i.memoizedProps,(r=null!==(r=r.compare)?r:er)(o,n)&&e.ref===t.ref)?ja(e,t,a):(t.effectTag|=1,(e=Kn(i,n)).ref=t.ref,e.return=t,t.child=e)}function xa(e,t,r,n,o,a){return null!==e&&er(e.memoizedProps,n)&&e.ref===t.ref&&(ka=!1,o<a)?ja(e,t,a):Ca(e,t,r,n,a)}function Ta(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Ca(e,t,r,n,o){var a=In(r)?Dn:Rn.current;return a=jn(t,a),Va(t,o),r=Xo(e,t,r,n,a,o),null===e||ka?(t.effectTag|=1,Ea(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),ja(e,t,o))}function Oa(e,t,r,n,o){if(In(r)){var a=!0;Un(t)}else a=!1;if(Va(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),uo(t,r,n),co(t,r,n,o),n=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var u=i.context,l=r.contextType;"object"===typeof l&&null!==l?l=Wa(l):l=jn(t,l=In(r)?Dn:Rn.current);var c=r.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==n||u!==l)&&lo(t,i,n,l),Ka=!1;var f=t.memoizedState;u=i.state=f;var p=t.updateQueue;null!==p&&(ri(t,p,n,i,o),u=t.memoizedState),s!==n||f!==u||Mn.current||Ka?("function"===typeof c&&(ao(t,r,c,n),u=t.memoizedState),(s=Ka||so(t,r,s,n,f,u,l))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.effectTag|=4)):("function"===typeof i.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=l,n=s):("function"===typeof i.componentDidMount&&(t.effectTag|=4),n=!1)}else i=t.stateNode,s=t.memoizedProps,i.props=t.type===t.elementType?s:no(t.type,s),u=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=Wa(l):l=jn(t,l=In(r)?Dn:Rn.current),(d="function"===typeof(c=r.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==n||u!==l)&&lo(t,i,n,l),Ka=!1,u=t.memoizedState,f=i.state=u,null!==(p=t.updateQueue)&&(ri(t,p,n,i,o),f=t.memoizedState),s!==n||u!==f||Mn.current||Ka?("function"===typeof c&&(ao(t,r,c,n),f=t.memoizedState),(c=Ka||so(t,r,s,n,u,f,l))?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,f,l)),"function"===typeof i.componentDidUpdate&&(t.effectTag|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=f),i.props=n,i.state=f,i.context=l,n=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),n=!1);return Ra(e,t,r,n,a,o)}function Ra(e,t,r,n,o,a){Ta(e,t);var i=0!==(64&t.effectTag);if(!n&&!i)return o&&Bn(t,r,!1),ja(e,t,a);n=t.stateNode,wa.current=t;var s=i&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&i?(t.child=vo(t,e.child,null,a),t.child=vo(t,null,s,a)):Ea(e,t,s,a),t.memoizedState=n.state,o&&Bn(t,r,!0),t.child}function Ma(e){var t=e.stateNode;t.pendingContext?Ln(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ln(0,t.context,!1),Eo(e,t.containerInfo)}function Da(e,t,r){var n=t.mode,o=t.pendingProps,a=t.memoizedState;if(0===(64&t.effectTag)){a=null;var i=!1}else a={timedOutAt:null!==a?a.timedOutAt:0},i=!0,t.effectTag&=-65;if(null===e)if(i){var s=o.fallback;e=Yn(null,n,0,null),0===(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),n=Yn(s,n,r,null),e.sibling=n,(r=e).return=n.return=t}else r=n=yo(t,null,o.children,r);else null!==e.memoizedState?(s=(n=e.child).sibling,i?(r=o.fallback,o=Kn(n,n.pendingProps),0===(1&t.mode)&&((i=null!==t.memoizedState?t.child.child:t.child)!==n.child&&(o.child=i)),n=o.sibling=Kn(s,r,s.expirationTime),r=o,o.childExpirationTime=0,r.return=n.return=t):r=n=vo(t,n.child,o.children,r)):(s=e.child,i?(i=o.fallback,(o=Yn(null,n,0,null)).child=s,0===(1&t.mode)&&(o.child=null!==t.memoizedState?t.child.child:t.child),(n=o.sibling=Yn(i,n,r,null)).effectTag|=2,r=o,o.childExpirationTime=0,r.return=n.return=t):n=r=vo(t,s,o.children,r)),t.stateNode=e.stateNode;return t.memoizedState=a,t.child=r,n}function ja(e,t,r){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child&&i("153"),null!==t.child){for(r=Kn(e=t.child,e.pendingProps,e.expirationTime),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Kn(e,e.pendingProps,e.expirationTime)).return=t;r.sibling=null}return t.child}function Ia(e,t,r){var n=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Mn.current)ka=!0;else if(n<r){switch(ka=!1,t.tag){case 3:Ma(t),_a();break;case 5:So(t);break;case 1:In(t.type)&&Un(t);break;case 4:Eo(t,t.stateNode.containerInfo);break;case 10:Ua(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?Da(e,t,r):null!==(t=ja(e,t,r))?t.sibling:null}return ja(e,t,r)}}else ka=!1;switch(t.expirationTime=0,t.tag){case 2:n=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var o=jn(t,Rn.current);if(Va(t,r),o=Xo(null,t,n,e,o,r),t.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,Jo(),In(n)){var a=!0;Un(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=n.getDerivedStateFromProps;"function"===typeof s&&ao(t,n,s,e),o.updater=io,t.stateNode=o,o._reactInternalFiber=t,co(t,n,e,r),t=Ra(null,t,n,!0,a,r)}else t.tag=0,Ea(null,t,o,r),t=t.child;return t;case 16:switch(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),a=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(o),t.type=e,o=t.tag=function(e){if("function"===typeof e)return Gn(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===tt)return 11;if(e===nt)return 14}return 2}(e),a=no(e,a),s=void 0,o){case 0:s=Ca(null,t,e,a,r);break;case 1:s=Oa(null,t,e,a,r);break;case 11:s=Pa(null,t,e,a,r);break;case 14:s=Sa(null,t,e,no(e.type,a),n,r);break;default:i("306",e,"")}return s;case 0:return n=t.type,o=t.pendingProps,Ca(e,t,n,o=t.elementType===n?o:no(n,o),r);case 1:return n=t.type,o=t.pendingProps,Oa(e,t,n,o=t.elementType===n?o:no(n,o),r);case 3:return Ma(t),null===(n=t.updateQueue)&&i("282"),o=null!==(o=t.memoizedState)?o.element:null,ri(t,n,t.pendingProps,null,r),(n=t.memoizedState.element)===o?(_a(),t=ja(e,t,r)):(o=t.stateNode,(o=(null===e||null===e.child)&&o.hydrate)&&(pa=Pn(t.stateNode.containerInfo),fa=t,o=ha=!0),o?(t.effectTag|=2,t.child=yo(t,null,n,r)):(Ea(e,t,n,r),_a()),t=t.child),t;case 5:return So(t),null===e&&ya(t),n=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,gn(n,o)?s=null:null!==a&&gn(n,a)&&(t.effectTag|=16),Ta(e,t),1!==r&&1&t.mode&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ea(e,t,s,r),t=t.child),t;case 6:return null===e&&ya(t),null;case 13:return Da(e,t,r);case 4:return Eo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=vo(t,null,n,r):Ea(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,Pa(e,t,n,o=t.elementType===n?o:no(n,o),r);case 7:return Ea(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ea(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,s=t.memoizedProps,Ua(t,a=o.value),null!==s){var u=s.value;if(0===(a=Jt(u,a)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!Mn.current){t=ja(e,t,r);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.contextDependencies;if(null!==l){s=u.child;for(var c=l.first;null!==c;){if(c.context===n&&0!==(c.observedBits&a)){1===u.tag&&((c=Qa(r)).tag=qa,Ja(u,c)),u.expirationTime<r&&(u.expirationTime=r),null!==(c=u.alternate)&&c.expirationTime<r&&(c.expirationTime=r),c=r;for(var d=u.return;null!==d;){var f=d.alternate;if(d.childExpirationTime<c)d.childExpirationTime=c,null!==f&&f.childExpirationTime<c&&(f.childExpirationTime=c);else{if(!(null!==f&&f.childExpirationTime<c))break;f.childExpirationTime=c}d=d.return}l.expirationTime<r&&(l.expirationTime=r);break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}Ea(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=(a=t.pendingProps).children,Va(t,r),n=n(o=Wa(o,a.unstable_observedBits)),t.effectTag|=1,Ea(e,t,n,r),t.child;case 14:return a=no(o=t.type,t.pendingProps),Sa(e,t,o,a=no(o.type,a),n,r);case 15:return xa(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:no(n,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,In(n)?(e=!0,Un(t)):e=!1,Va(t,r),uo(t,n,o),co(t,n,o,r),Ra(null,t,n,!0,e,r)}i("156")}var Aa={current:null},Na=null,La=null,Fa=null;function Ua(e,t){var r=e.type._context;Cn(Aa,r._currentValue),r._currentValue=t}function Ba(e){var t=Aa.current;Tn(Aa),e.type._context._currentValue=t}function Va(e,t){Na=e,Fa=La=null;var r=e.contextDependencies;null!==r&&r.expirationTime>=t&&(ka=!0),e.contextDependencies=null}function Wa(e,t){return Fa!==e&&!1!==t&&0!==t&&("number"===typeof t&&1073741823!==t||(Fa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===La?(null===Na&&i("308"),La=t,Na.contextDependencies={first:t,expirationTime:0}):La=La.next=t),e._currentValue}var za=0,Ha=1,qa=2,Ga=3,Ka=!1;function $a(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ya(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Qa(e){return{expirationTime:e,tag:za,payload:null,callback:null,next:null,nextEffect:null}}function Xa(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Ja(e,t){var r=e.alternate;if(null===r){var n=e.updateQueue,o=null;null===n&&(n=e.updateQueue=$a(e.memoizedState))}else n=e.updateQueue,o=r.updateQueue,null===n?null===o?(n=e.updateQueue=$a(e.memoizedState),o=r.updateQueue=$a(r.memoizedState)):n=e.updateQueue=Ya(o):null===o&&(o=r.updateQueue=Ya(n));null===o||n===o?Xa(n,t):null===n.lastUpdate||null===o.lastUpdate?(Xa(n,t),Xa(o,t)):(Xa(n,t),o.lastUpdate=t)}function Za(e,t){var r=e.updateQueue;null===(r=null===r?e.updateQueue=$a(e.memoizedState):ei(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t)}function ei(e,t){var r=e.alternate;return null!==r&&t===r.updateQueue&&(t=e.updateQueue=Ya(t)),t}function ti(e,t,r,n,a,i){switch(r.tag){case Ha:return"function"===typeof(e=r.payload)?e.call(i,n,a):e;case Ga:e.effectTag=-2049&e.effectTag|64;case za:if(null===(a="function"===typeof(e=r.payload)?e.call(i,n,a):e)||void 0===a)break;return o({},n,a);case qa:Ka=!0}return n}function ri(e,t,r,n,o){Ka=!1;for(var a=(t=ei(e,t)).baseState,i=null,s=0,u=t.firstUpdate,l=a;null!==u;){var c=u.expirationTime;c<o?(null===i&&(i=u,a=l),s<c&&(s=c)):(l=ti(e,0,u,l,r,n),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(c=null,u=t.firstCapturedUpdate;null!==u;){var d=u.expirationTime;d<o?(null===c&&(c=u,null===i&&(a=l)),s<d&&(s=d)):(l=ti(e,0,u,l,r,n),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===i&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===i&&null===c&&(a=l),t.baseState=a,t.firstUpdate=i,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=l}function ni(e,t,r){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),oi(t.firstEffect,r),t.firstEffect=t.lastEffect=null,oi(t.firstCapturedEffect,r),t.firstCapturedEffect=t.lastCapturedEffect=null}function oi(e,t){for(;null!==e;){var r=e.callback;if(null!==r){e.callback=null;var n=t;"function"!==typeof r&&i("191",r),r.call(n)}e=e.nextEffect}}function ai(e,t){return{value:e,source:t,stack:ut(t)}}function ii(e){e.effectTag|=4}var si=void 0,ui=void 0,li=void 0,ci=void 0;si=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ui=function(){},li=function(e,t,r,n,a){var i=e.memoizedProps;if(i!==n){var s=t.stateNode;switch(ko(bo.current),e=null,r){case"input":i=bt(s,i),n=bt(s,n),e=[];break;case"option":i=Gr(s,i),n=Gr(s,n),e=[];break;case"select":i=o({},i,{value:void 0}),n=o({},n,{value:void 0}),e=[];break;case"textarea":i=$r(s,i),n=$r(s,n),e=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(s.onclick=hn)}dn(r,n),s=r=void 0;var u=null;for(r in i)if(!n.hasOwnProperty(r)&&i.hasOwnProperty(r)&&null!=i[r])if("style"===r){var l=i[r];for(s in l)l.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==r&&"children"!==r&&"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(b.hasOwnProperty(r)?e||(e=[]):(e=e||[]).push(r,null));for(r in n){var c=n[r];if(l=null!=i?i[r]:void 0,n.hasOwnProperty(r)&&c!==l&&(null!=c||null!=l))if("style"===r)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(u||(u={}),u[s]=c[s])}else u||(e||(e=[]),e.push(r,u)),u=c;else"dangerouslySetInnerHTML"===r?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(r,""+c)):"children"===r?l===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(r,""+c):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&(b.hasOwnProperty(r)?(null!=c&&pn(a,r),e||l===c||(e=[])):(e=e||[]).push(r,c))}u&&(e=e||[]).push("style",u),a=e,(t.updateQueue=a)&&ii(t)}},ci=function(e,t,r,n){r!==n&&ii(t)};var di="function"===typeof WeakSet?WeakSet:Set;function fi(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=ut(r)),null!==r&&st(r.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(o){setTimeout(function(){throw o})}}function pi(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){$i(e,r)}else t.current=null}function hi(e,t,r){if(null!==(r=null!==(r=r.updateQueue)?r.lastEffect:null)){var n=r=r.next;do{if((n.tag&e)!==To){var o=n.destroy;n.destroy=void 0,void 0!==o&&o()}(n.tag&t)!==To&&(o=n.create,n.destroy=o()),n=n.next}while(n!==r)}}function mi(e){switch("function"===typeof Wn&&Wn(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var r=t=t.next;do{var n=r.destroy;if(void 0!==n){var o=e;try{n()}catch(a){$i(o,a)}}r=r.next}while(r!==t)}break;case 1:if(pi(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){$i(e,a)}break;case 5:pi(e);break;case 4:gi(e)}}function vi(e){return 5===e.tag||3===e.tag||4===e.tag}function yi(e){e:{for(var t=e.return;null!==t;){if(vi(t)){var r=t;break e}t=t.return}i("160"),r=void 0}var n=t=void 0;switch(r.tag){case 5:t=r.stateNode,n=!1;break;case 3:case 4:t=r.stateNode.containerInfo,n=!0;break;default:i("161")}16&r.effectTag&&(on(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||vi(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)if(r)if(n){var a=t,s=o.stateNode,u=r;8===a.nodeType?a.parentNode.insertBefore(s,u):a.insertBefore(s,u)}else t.insertBefore(o.stateNode,r);else n?(s=t,u=o.stateNode,8===s.nodeType?(a=s.parentNode).insertBefore(u,s):(a=s).appendChild(u),null!==(s=s._reactRootContainer)&&void 0!==s||null!==a.onclick||(a.onclick=hn)):t.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function gi(e){for(var t=e,r=!1,n=void 0,o=void 0;;){if(!r){r=t.return;e:for(;;){switch(null===r&&i("160"),r.tag){case 5:n=r.stateNode,o=!1;break e;case 3:case 4:n=r.stateNode.containerInfo,o=!0;break e}r=r.return}r=!0}if(5===t.tag||6===t.tag){e:for(var a=t,s=a;;)if(mi(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===a)break;for(;null===s.sibling;){if(null===s.return||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}o?(a=n,s=t.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):n.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){n=t.stateNode.containerInfo,o=!0,t.child.return=t,t=t.child;continue}}else if(mi(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function bi(e,t){switch(t.tag){case 0:case 11:case 14:case 15:hi(Oo,Ro,t);break;case 1:break;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps;e=null!==e?e.memoizedProps:n;var o=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&function(e,t,r,n,o){e[I]=o,"input"===r&&"radio"===o.type&&null!=o.name&&wt(e,o),fn(r,n),n=fn(r,o);for(var a=0;a<t.length;a+=2){var i=t[a],s=t[a+1];"style"===i?ln(e,s):"dangerouslySetInnerHTML"===i?nn(e,s):"children"===i?on(e,s):yt(e,i,s,n)}switch(r){case"input":kt(e,o);break;case"textarea":Qr(e,o);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!o.multiple,null!=(r=o.value)?Kr(e,!!o.multiple,r,!1):t!==!!o.multiple&&(null!=o.defaultValue?Kr(e,!!o.multiple,o.defaultValue,!0):Kr(e,!!o.multiple,o.multiple?[]:"",!1))}}(r,a,o,e,n)}break;case 6:null===t.stateNode&&i("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(r=t.memoizedState,n=void 0,e=t,null===r?n=!1:(n=!0,e=t.child,0===r.timedOutAt&&(r.timedOutAt=ks())),null!==e&&function(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)n.style.display="none";else{n=r.stateNode;var o=r.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,n.style.display=un("display",o)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else{if(13===r.tag&&null!==r.memoizedState){(n=r.child.sibling).return=r,r=n;continue}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}(e,n),null!==(r=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new di),r.forEach(function(e){var r=function(e,t){var r=e.stateNode;null!==r&&r.delete(t),t=Yi(t=ks(),e),null!==(e=Xi(e,t))&&(Zn(e,t),0!==(t=e.expirationTime)&&Es(e,t))}.bind(null,t,e);s.has(e)||(s.add(e),e.then(r,r))})}break;case 17:break;default:i("163")}}var _i="function"===typeof WeakMap?WeakMap:Map;function wi(e,t,r){(r=Qa(r)).tag=Ga,r.payload={element:null};var n=t.value;return r.callback=function(){Ds(n),fi(e,t)},r}function ki(e,t,r){(r=Qa(r)).tag=Ga;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var o=t.value;r.payload=function(){return n(o)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Fi?Fi=new Set([this]):Fi.add(this));var r=t.value,o=t.stack;fi(e,t),this.componentDidCatch(r,{componentStack:null!==o?o:""})}),r}function Ei(e){switch(e.tag){case 1:In(e.type)&&An();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Po(),Nn(),0!==(64&(t=e.effectTag))&&i("285"),e.effectTag=-2049&t|64,e;case 5:return xo(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Po(),null;case 10:return Ba(e),null;default:return null}}var Pi=He.ReactCurrentDispatcher,Si=He.ReactCurrentOwner,xi=1073741822,Ti=!1,Ci=null,Oi=null,Ri=0,Mi=-1,Di=!1,ji=null,Ii=!1,Ai=null,Ni=null,Li=null,Fi=null;function Ui(){if(null!==Ci)for(var e=Ci.return;null!==e;){var t=e;switch(t.tag){case 1:var r=t.type.childContextTypes;null!==r&&void 0!==r&&An();break;case 3:Po(),Nn();break;case 5:xo(t);break;case 4:Po();break;case 10:Ba(t)}e=e.return}Oi=null,Ri=0,Mi=-1,Di=!1,Ci=null}function Bi(){for(;null!==ji;){var e=ji.effectTag;if(16&e&&on(ji.stateNode,""),128&e){var t=ji.alternate;null!==t&&(null!==(t=t.ref)&&("function"===typeof t?t(null):t.current=null))}switch(14&e){case 2:yi(ji),ji.effectTag&=-3;break;case 6:yi(ji),ji.effectTag&=-3,bi(ji.alternate,ji);break;case 4:bi(ji.alternate,ji);break;case 8:gi(e=ji),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}ji=ji.nextEffect}}function Vi(){for(;null!==ji;){if(256&ji.effectTag)e:{var e=ji.alternate,t=ji;switch(t.tag){case 0:case 11:case 15:hi(Co,To,t);break e;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:no(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:i("163")}}ji=ji.nextEffect}}function Wi(e,t){for(;null!==ji;){var r=ji.effectTag;if(36&r){var n=ji.alternate,o=ji,a=t;switch(o.tag){case 0:case 11:case 15:hi(Mo,Do,o);break;case 1:var s=o.stateNode;if(4&o.effectTag)if(null===n)s.componentDidMount();else{var u=o.elementType===o.type?n.memoizedProps:no(o.type,n.memoizedProps);s.componentDidUpdate(u,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(n=o.updateQueue)&&ni(0,n,s);break;case 3:if(null!==(n=o.updateQueue)){if(s=null,null!==o.child)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}ni(0,n,s)}break;case 5:a=o.stateNode,null===n&&4&o.effectTag&&yn(o.type,o.memoizedProps)&&a.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:i("163")}}128&r&&(null!==(o=ji.ref)&&(a=ji.stateNode,"function"===typeof o?o(a):o.current=a)),512&r&&(Ai=e),ji=ji.nextEffect}}function zi(){null!==Ni&&kn(Ni),null!==Li&&Li()}function Hi(e,t){Ii=Ti=!0,e.current===t&&i("177");var r=e.pendingCommitExpirationTime;0===r&&i("261"),e.pendingCommitExpirationTime=0;var n=t.expirationTime,o=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var r=e.latestPendingTime;0!==r&&(r>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(r=e.earliestSuspendedTime)?Zn(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Zn(e,t)):t>r&&Zn(e,t)}ro(0,e)}(e,o>n?o:n),Si.current=null,n=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,n=t.firstEffect):n=t:n=t.firstEffect,mn=Er,vn=function(){var e=Ar();if(Nr(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var n=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{t.nodeType,o.nodeType}catch(p){t=null;break e}var a=0,i=-1,s=-1,u=0,l=0,c=e,d=null;t:for(;;){for(var f;c!==t||0!==n&&3!==c.nodeType||(i=a+n),c!==o||0!==r&&3!==c.nodeType||(s=a+r),3===c.nodeType&&(a+=c.nodeValue.length),null!==(f=c.firstChild);)d=c,c=f;for(;;){if(c===e)break t;if(d===t&&++u===n&&(i=a),d===o&&++l===r&&(s=a),null!==(f=c.nextSibling))break;d=(c=d).parentNode}c=f}t=-1===i||-1===s?null:{start:i,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),Er=!1,ji=n;null!==ji;){o=!1;var s=void 0;try{Vi()}catch(l){o=!0,s=l}o&&(null===ji&&i("178"),$i(ji,s),null!==ji&&(ji=ji.nextEffect))}for(ji=n;null!==ji;){o=!1,s=void 0;try{Bi()}catch(l){o=!0,s=l}o&&(null===ji&&i("178"),$i(ji,s),null!==ji&&(ji=ji.nextEffect))}for(Lr(vn),vn=null,Er=!!mn,mn=null,e.current=t,ji=n;null!==ji;){o=!1,s=void 0;try{Wi(e,r)}catch(l){o=!0,s=l}o&&(null===ji&&i("178"),$i(ji,s),null!==ji&&(ji=ji.nextEffect))}if(null!==n&&null!==Ai){var u=function(e,t){Li=Ni=Ai=null;var r=os;os=!0;do{if(512&t.effectTag){var n=!1,o=void 0;try{var a=t;hi(Io,To,a),hi(To,jo,a)}catch(u){n=!0,o=u}n&&$i(t,o)}t=t.nextEffect}while(null!==t);os=r,0!==(r=e.expirationTime)&&Es(e,r),cs||os||Cs(1073741823,!1)}.bind(null,e,n);Ni=a.unstable_runWithPriority(a.unstable_NormalPriority,function(){return wn(u)}),Li=u}Ti=Ii=!1,"function"===typeof Vn&&Vn(t.stateNode),r=t.expirationTime,0===(t=(t=t.childExpirationTime)>r?t:r)&&(Fi=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function qi(e){for(;;){var t=e.alternate,r=e.return,n=e.sibling;if(0===(1024&e.effectTag)){Ci=e;e:{var a=t,s=Ri,u=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:In(t.type)&&An();break;case 3:Po(),Nn(),(u=t.stateNode).pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==a&&null!==a.child||(ba(t),t.effectTag&=-3),ui(t);break;case 5:xo(t);var l=ko(wo.current);if(s=t.type,null!==a&&null!=t.stateNode)li(a,t,s,u,l),a.ref!==t.ref&&(t.effectTag|=128);else if(u){var c=ko(bo.current);if(ba(t)){a=(u=t).stateNode;var d=u.type,f=u.memoizedProps,p=l;switch(a[j]=u,a[I]=f,s=void 0,l=d){case"iframe":case"object":Pr("load",a);break;case"video":case"audio":for(d=0;d<te.length;d++)Pr(te[d],a);break;case"source":Pr("error",a);break;case"img":case"image":case"link":Pr("error",a),Pr("load",a);break;case"form":Pr("reset",a),Pr("submit",a);break;case"details":Pr("toggle",a);break;case"input":_t(a,f),Pr("invalid",a),pn(p,"onChange");break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Pr("invalid",a),pn(p,"onChange");break;case"textarea":Yr(a,f),Pr("invalid",a),pn(p,"onChange")}for(s in dn(l,f),d=null,f)f.hasOwnProperty(s)&&(c=f[s],"children"===s?"string"===typeof c?a.textContent!==c&&(d=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(d=["children",""+c]):b.hasOwnProperty(s)&&null!=c&&pn(p,s));switch(l){case"input":We(a),Et(a,f,!0);break;case"textarea":We(a),Xr(a);break;case"select":case"option":break;default:"function"===typeof f.onClick&&(a.onclick=hn)}s=d,u.updateQueue=s,(u=null!==s)&&ii(t)}else{f=t,a=s,p=u,d=9===l.nodeType?l:l.ownerDocument,c===Jr.html&&(c=Zr(a)),c===Jr.html?"script"===a?((a=d.createElement("div")).innerHTML="<script><\/script>",d=a.removeChild(a.firstChild)):"string"===typeof p.is?d=d.createElement(a,{is:p.is}):(d=d.createElement(a),"select"===a&&p.multiple&&(d.multiple=!0)):d=d.createElementNS(c,a),(a=d)[j]=f,a[I]=u,si(a,t,!1,!1),p=a;var h=l,m=fn(d=s,f=u);switch(d){case"iframe":case"object":Pr("load",p),l=f;break;case"video":case"audio":for(l=0;l<te.length;l++)Pr(te[l],p);l=f;break;case"source":Pr("error",p),l=f;break;case"img":case"image":case"link":Pr("error",p),Pr("load",p),l=f;break;case"form":Pr("reset",p),Pr("submit",p),l=f;break;case"details":Pr("toggle",p),l=f;break;case"input":_t(p,f),l=bt(p,f),Pr("invalid",p),pn(h,"onChange");break;case"option":l=Gr(p,f);break;case"select":p._wrapperState={wasMultiple:!!f.multiple},l=o({},f,{value:void 0}),Pr("invalid",p),pn(h,"onChange");break;case"textarea":Yr(p,f),l=$r(p,f),Pr("invalid",p),pn(h,"onChange");break;default:l=f}dn(d,l),c=void 0;var v=d,y=p,g=l;for(c in g)if(g.hasOwnProperty(c)){var _=g[c];"style"===c?ln(y,_):"dangerouslySetInnerHTML"===c?null!=(_=_?_.__html:void 0)&&nn(y,_):"children"===c?"string"===typeof _?("textarea"!==v||""!==_)&&on(y,_):"number"===typeof _&&on(y,""+_):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(b.hasOwnProperty(c)?null!=_&&pn(h,c):null!=_&&yt(y,c,_,m))}switch(d){case"input":We(p),Et(p,f,!1);break;case"textarea":We(p),Xr(p);break;case"option":null!=f.value&&p.setAttribute("value",""+gt(f.value));break;case"select":(l=p).multiple=!!f.multiple,null!=(p=f.value)?Kr(l,!!f.multiple,p,!1):null!=f.defaultValue&&Kr(l,!!f.multiple,f.defaultValue,!0);break;default:"function"===typeof l.onClick&&(p.onclick=hn)}(u=yn(s,u))&&ii(t),t.stateNode=a}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&i("166");break;case 6:a&&null!=t.stateNode?ci(a,t,a.memoizedProps,u):("string"!==typeof u&&(null===t.stateNode&&i("166")),a=ko(wo.current),ko(bo.current),ba(t)?(s=(u=t).stateNode,a=u.memoizedProps,s[j]=u,(u=s.nodeValue!==a)&&ii(t)):(s=t,(u=(9===a.nodeType?a:a.ownerDocument).createTextNode(u))[j]=t,s.stateNode=u));break;case 11:break;case 13:if(u=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=s,Ci=t;break e}u=null!==u,s=null!==a&&null!==a.memoizedState,null!==a&&!u&&s&&(null!==(a=a.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=a,a.nextEffect=l):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),(u||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Po(),ui(t);break;case 10:Ba(t);break;case 9:case 14:break;case 17:In(t.type)&&An();break;case 18:break;default:i("156")}Ci=null}if(t=e,1===Ri||1!==t.childExpirationTime){for(u=0,s=t.child;null!==s;)(a=s.expirationTime)>u&&(u=a),(l=s.childExpirationTime)>u&&(u=l),s=s.sibling;t.childExpirationTime=u}if(null!==Ci)return Ci;null!==r&&0===(1024&r.effectTag)&&(null===r.firstEffect&&(r.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=e.firstEffect),r.lastEffect=e.lastEffect),1<e.effectTag&&(null!==r.lastEffect?r.lastEffect.nextEffect=e:r.firstEffect=e,r.lastEffect=e))}else{if(null!==(e=Ei(e)))return e.effectTag&=1023,e;null!==r&&(r.firstEffect=r.lastEffect=null,r.effectTag|=1024)}if(null!==n)return n;if(null===r)break;e=r}return null}function Gi(e){var t=Ia(e.alternate,e,Ri);return e.memoizedProps=e.pendingProps,null===t&&(t=qi(e)),Si.current=null,t}function Ki(e,t){Ti&&i("243"),zi(),Ti=!0;var r=Pi.current;Pi.current=la;var n=e.nextExpirationTimeToWorkOn;n===Ri&&e===Oi&&null!==Ci||(Ui(),Ri=n,Ci=Kn((Oi=e).current,null),e.pendingCommitExpirationTime=0);for(var o=!1;;){try{if(t)for(;null!==Ci&&!xs();)Ci=Gi(Ci);else for(;null!==Ci;)Ci=Gi(Ci)}catch(y){if(Fa=La=Na=null,Jo(),null===Ci)o=!0,Ds(y);else{null===Ci&&i("271");var a=Ci,s=a.return;if(null!==s){e:{var u=e,l=s,c=a,d=y;if(s=Ri,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==d&&"object"===typeof d&&"function"===typeof d.then){var f=d;d=l;var p=-1,h=-1;do{if(13===d.tag){var m=d.alternate;if(null!==m&&null!==(m=m.memoizedState)){h=10*(1073741822-m.timedOutAt);break}"number"===typeof(m=d.pendingProps.maxDuration)&&(0>=m?p=0:(-1===p||m<p)&&(p=m))}d=d.return}while(null!==d);d=l;do{if((m=13===d.tag)&&(m=void 0!==d.memoizedProps.fallback&&null===d.memoizedState),m){if(null===(l=d.updateQueue)?((l=new Set).add(f),d.updateQueue=l):l.add(f),0===(1&d.mode)){d.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((s=Qa(1073741823)).tag=qa,Ja(c,s))),c.expirationTime=1073741823;break e}l=s;var v=(c=u).pingCache;null===v?(v=c.pingCache=new _i,m=new Set,v.set(f,m)):void 0===(m=v.get(f))&&(m=new Set,v.set(f,m)),m.has(l)||(m.add(l),c=Qi.bind(null,c,f,l),f.then(c,c)),-1===p?u=1073741823:(-1===h&&(h=10*(1073741822-to(u,s))-5e3),u=h+p),0<=u&&Mi<u&&(Mi=u),d.effectTag|=2048,d.expirationTime=s;break e}d=d.return}while(null!==d);d=Error((st(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ut(c))}Di=!0,d=ai(d,c),u=l;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=s,Za(u,s=wi(u,d,s));break e;case 1:if(p=d,h=u.type,c=u.stateNode,0===(64&u.effectTag)&&("function"===typeof h.getDerivedStateFromError||null!==c&&"function"===typeof c.componentDidCatch&&(null===Fi||!Fi.has(c)))){u.effectTag|=2048,u.expirationTime=s,Za(u,s=ki(u,p,s));break e}}u=u.return}while(null!==u)}Ci=qi(a);continue}o=!0,Ds(y)}}break}if(Ti=!1,Pi.current=r,Fa=La=Na=null,Jo(),o)Oi=null,e.finishedWork=null;else if(null!==Ci)e.finishedWork=null;else{if(null===(r=e.current.alternate)&&i("281"),Oi=null,Di){if(o=e.latestPendingTime,a=e.latestSuspendedTime,s=e.latestPingedTime,0!==o&&o<n||0!==a&&a<n||0!==s&&s<n)return eo(e,n),void ws(e,r,n,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,n=e.nextExpirationTimeToWorkOn=n,t=e.expirationTime=1073741823,void ws(e,r,n,t,-1)}t&&-1!==Mi?(eo(e,n),(t=10*(1073741822-to(e,n)))<Mi&&(Mi=t),t=10*(1073741822-ks()),t=Mi-t,ws(e,r,n,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=n,e.finishedWork=r)}}function $i(e,t){for(var r=e.return;null!==r;){switch(r.tag){case 1:var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Fi||!Fi.has(n)))return Ja(r,e=ki(r,e=ai(t,e),1073741823)),void Ji(r,1073741823);break;case 3:return Ja(r,e=wi(r,e=ai(t,e),1073741823)),void Ji(r,1073741823)}r=r.return}3===e.tag&&(Ja(e,r=wi(e,r=ai(t,e),1073741823)),Ji(e,1073741823))}function Yi(e,t){var r=a.unstable_getCurrentPriorityLevel(),n=void 0;if(0===(1&t.mode))n=1073741823;else if(Ti&&!Ii)n=Ri;else{switch(r){case a.unstable_ImmediatePriority:n=1073741823;break;case a.unstable_UserBlockingPriority:n=1073741822-10*(1+((1073741822-e+15)/10|0));break;case a.unstable_NormalPriority:n=1073741822-25*(1+((1073741822-e+500)/25|0));break;case a.unstable_LowPriority:case a.unstable_IdlePriority:n=1;break;default:i("313")}null!==Oi&&n===Ri&&--n}return r===a.unstable_UserBlockingPriority&&(0===ss||n<ss)&&(ss=n),n}function Qi(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),null!==Oi&&Ri===r?Oi=null:(t=e.earliestSuspendedTime,n=e.latestSuspendedTime,0!==t&&r<=t&&r>=n&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>r)&&(e.latestPingedTime=r),ro(r,e),0!==(r=e.expirationTime)&&Es(e,r)))}function Xi(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,o=null;if(null===n&&3===e.tag)o=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){o=n.stateNode;break}n=n.return}return o}function Ji(e,t){null!==(e=Xi(e,t))&&(!Ti&&0!==Ri&&t>Ri&&Ui(),Zn(e,t),Ti&&!Ii&&Oi===e||Es(e,e.expirationTime),ys>vs&&(ys=0,i("185")))}function Zi(e,t,r,n,o){return a.unstable_runWithPriority(a.unstable_ImmediatePriority,function(){return e(t,r,n,o)})}var es=null,ts=null,rs=0,ns=void 0,os=!1,as=null,is=0,ss=0,us=!1,ls=null,cs=!1,ds=!1,fs=null,ps=a.unstable_now(),hs=1073741822-(ps/10|0),ms=hs,vs=50,ys=0,gs=null;function bs(){hs=1073741822-((a.unstable_now()-ps)/10|0)}function _s(e,t){if(0!==rs){if(t<rs)return;null!==ns&&a.unstable_cancelCallback(ns)}rs=t,e=a.unstable_now()-ps,ns=a.unstable_scheduleCallback(Ts,{timeout:10*(1073741822-t)-e})}function ws(e,t,r,n,o){e.expirationTime=n,0!==o||xs()?0<o&&(e.timeoutHandle=bn(function(e,t,r){e.pendingCommitExpirationTime=r,e.finishedWork=t,bs(),ms=hs,Os(e,r)}.bind(null,e,t,r),o)):(e.pendingCommitExpirationTime=r,e.finishedWork=t)}function ks(){return os?ms:(Ps(),0!==is&&1!==is||(bs(),ms=hs),ms)}function Es(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ts?(es=ts=e,e.nextScheduledRoot=e):(ts=ts.nextScheduledRoot=e).nextScheduledRoot=es):t>e.expirationTime&&(e.expirationTime=t),os||(cs?ds&&(as=e,is=1073741823,Rs(e,1073741823,!1)):1073741823===t?Cs(1073741823,!1):_s(e,t))}function Ps(){var e=0,t=null;if(null!==ts)for(var r=ts,n=es;null!==n;){var o=n.expirationTime;if(0===o){if((null===r||null===ts)&&i("244"),n===n.nextScheduledRoot){es=ts=n.nextScheduledRoot=null;break}if(n===es)es=o=n.nextScheduledRoot,ts.nextScheduledRoot=o,n.nextScheduledRoot=null;else{if(n===ts){(ts=r).nextScheduledRoot=es,n.nextScheduledRoot=null;break}r.nextScheduledRoot=n.nextScheduledRoot,n.nextScheduledRoot=null}n=r.nextScheduledRoot}else{if(o>e&&(e=o,t=n),n===ts)break;if(1073741823===e)break;r=n,n=n.nextScheduledRoot}}as=t,is=e}var Ss=!1;function xs(){return!!Ss||!!a.unstable_shouldYield()&&(Ss=!0)}function Ts(){try{if(!xs()&&null!==es){bs();var e=es;do{var t=e.expirationTime;0!==t&&hs<=t&&(e.nextExpirationTimeToWorkOn=hs),e=e.nextScheduledRoot}while(e!==es)}Cs(0,!0)}finally{Ss=!1}}function Cs(e,t){if(Ps(),t)for(bs(),ms=hs;null!==as&&0!==is&&e<=is&&!(Ss&&hs>is);)Rs(as,is,hs>is),Ps(),bs(),ms=hs;else for(;null!==as&&0!==is&&e<=is;)Rs(as,is,!1),Ps();if(t&&(rs=0,ns=null),0!==is&&_s(as,is),ys=0,gs=null,null!==fs)for(e=fs,fs=null,t=0;t<e.length;t++){var r=e[t];try{r._onComplete()}catch(n){us||(us=!0,ls=n)}}if(us)throw e=ls,ls=null,us=!1,e}function Os(e,t){os&&i("253"),as=e,is=t,Rs(e,t,!1),Cs(1073741823,!1)}function Rs(e,t,r){if(os&&i("245"),os=!0,r){var n=e.finishedWork;null!==n?Ms(e,n,t):(e.finishedWork=null,-1!==(n=e.timeoutHandle)&&(e.timeoutHandle=-1,_n(n)),Ki(e,r),null!==(n=e.finishedWork)&&(xs()?e.finishedWork=n:Ms(e,n,t)))}else null!==(n=e.finishedWork)?Ms(e,n,t):(e.finishedWork=null,-1!==(n=e.timeoutHandle)&&(e.timeoutHandle=-1,_n(n)),Ki(e,r),null!==(n=e.finishedWork)&&Ms(e,n,t));os=!1}function Ms(e,t,r){var n=e.firstBatch;if(null!==n&&n._expirationTime>=r&&(null===fs?fs=[n]:fs.push(n),n._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===gs?ys++:(gs=e,ys=0),a.unstable_runWithPriority(a.unstable_ImmediatePriority,function(){Hi(e,t)})}function Ds(e){null===as&&i("246"),as.expirationTime=0,us||(us=!0,ls=e)}function js(e,t){var r=cs;cs=!0;try{return e(t)}finally{(cs=r)||os||Cs(1073741823,!1)}}function Is(e,t){if(cs&&!ds){ds=!0;try{return e(t)}finally{ds=!1}}return e(t)}function As(e,t,r){cs||os||0===ss||(Cs(ss,!1),ss=0);var n=cs;cs=!0;try{return a.unstable_runWithPriority(a.unstable_UserBlockingPriority,function(){return e(t,r)})}finally{(cs=n)||os||Cs(1073741823,!1)}}function Ns(e,t,r,n,o){var a=t.current;e:if(r){t:{2===tr(r=r._reactInternalFiber)&&1===r.tag||i("170");var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(In(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);i("171"),s=void 0}if(1===r.tag){var u=r.type;if(In(u)){r=Fn(r,u,s);break e}}r=s}else r=On;return null===t.context?t.context=r:t.pendingContext=r,t=o,(o=Qa(n)).payload={element:e},null!==(t=void 0===t?null:t)&&(o.callback=t),zi(),Ja(a,o),Ji(a,n),n}function Ls(e,t,r,n){var o=t.current;return Ns(e,t,r,o=Yi(ks(),o),n)}function Fs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Us(e){var t=1073741822-25*(1+((1073741822-ks()+500)/25|0));t>=xi&&(t=xi-1),this._expirationTime=xi=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Bs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Vs(e,t,r){e={current:t=qn(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:r,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Ws(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zs(e,t,r,n,o){var a=r._reactRootContainer;if(a){if("function"===typeof o){var i=o;o=function(){var e=Fs(a._internalRoot);i.call(e)}}null!=e?a.legacy_renderSubtreeIntoContainer(e,t,o):a.render(t,o)}else{if(a=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Vs(e,!1,t)}(r,n),"function"===typeof o){var s=o;o=function(){var e=Fs(a._internalRoot);s.call(e)}}Is(function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,o):a.render(t,o)})}return Fs(a._internalRoot)}function Hs(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Ws(t)||i("200"),function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$e,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)}xe=function(e,t,r){switch(t){case"input":if(kt(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=F(n);o||i("90"),ze(n),kt(n,o)}}}break;case"textarea":Qr(e,r);break;case"select":null!=(t=r.value)&&Kr(e,!!r.multiple,t,!1)}},Us.prototype.render=function(e){this._defer||i("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,r=this._expirationTime,n=new Bs;return Ns(e,t,null,r,n._onCommit),n},Us.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Us.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||i("251"),this._hasChildren){var r=this._expirationTime;if(t!==this){this._hasChildren&&(r=this._expirationTime=t._expirationTime,this.render(this._children));for(var n=null,o=t;o!==this;)n=o,o=o._next;null===n&&i("251"),n._next=o._next,this._next=t,e.firstBatch=this}this._defer=!1,Os(e,r),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Us.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Bs.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Bs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var r=e[t];"function"!==typeof r&&i("191",r),r()}}},Vs.prototype.render=function(e,t){var r=this._internalRoot,n=new Bs;return null!==(t=void 0===t?null:t)&&n.then(t),Ls(e,r,null,n._onCommit),n},Vs.prototype.unmount=function(e){var t=this._internalRoot,r=new Bs;return null!==(e=void 0===e?null:e)&&r.then(e),Ls(null,t,null,r._onCommit),r},Vs.prototype.legacy_renderSubtreeIntoContainer=function(e,t,r){var n=this._internalRoot,o=new Bs;return null!==(r=void 0===r?null:r)&&o.then(r),Ls(t,n,e,o._onCommit),o},Vs.prototype.createBatch=function(){var e=new Us(this),t=e._expirationTime,r=this._internalRoot,n=r.firstBatch;if(null===n)r.firstBatch=e,e._next=null;else{for(r=null;null!==n&&n._expirationTime>=t;)r=n,n=n._next;e._next=n,null!==r&&(r._next=e)}return e},De=js,je=As,Ie=function(){os||0===ss||(Cs(ss,!1),ss=0)};var qs={createPortal:Hs,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?i("188"):i("268",Object.keys(e))),e=null===(e=nr(t))?null:e.stateNode},hydrate:function(e,t,r){return Ws(t)||i("200"),zs(null,e,t,!0,r)},render:function(e,t,r){return Ws(t)||i("200"),zs(null,e,t,!1,r)},unstable_renderSubtreeIntoContainer:function(e,t,r,n){return Ws(r)||i("200"),(null==e||void 0===e._reactInternalFiber)&&i("38"),zs(e,t,r,!1,n)},unmountComponentAtNode:function(e){return Ws(e)||i("40"),!!e._reactRootContainer&&(Is(function(){zs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Hs.apply(void 0,arguments)},unstable_batchedUpdates:js,unstable_interactiveUpdates:As,flushSync:function(e,t){os&&i("187");var r=cs;cs=!0;try{return Zi(e,t)}finally{cs=r,Cs(1073741823,!1)}},unstable_createRoot:function(e,t){return Ws(e)||i("299","unstable_createRoot"),new Vs(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=cs;cs=!0;try{Zi(e)}finally{(cs=t)||os||Cs(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[N,L,F,O.injectEventPluginsByName,g,H,function(e){x(e,z)},Re,Me,Tr,M]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);Vn=zn(function(e){return t.onCommitFiberRoot(r,e)}),Wn=zn(function(e){return t.onCommitFiberUnmount(r,e)})}catch(n){}})(o({},e,{overrideProps:null,currentDispatcherRef:He.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nr(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:A,bundleType:0,version:"16.8.3",rendererPackageName:"react-dom"});var Gs={default:qs},Ks=Gs&&qs||Gs;e.exports=Ks.default||Ks},function(e,t,r){"use strict";e.exports=r(264)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=null,n=!1,o=3,a=-1,i=-1,s=!1,u=!1;function l(){if(!s){var e=r.expirationTime;u?E():u=!0,k(f,e)}}function c(){var e=r,t=r.next;if(r===t)r=null;else{var n=r.previous;r=n.next=t,t.previous=n}e.next=e.previous=null,n=e.callback,t=e.expirationTime,e=e.priorityLevel;var a=o,s=i;o=e,i=t;try{var u=n()}finally{o=a,i=s}if("function"===typeof u)if(u={callback:u,priorityLevel:e,expirationTime:t,next:null,previous:null},null===r)r=u.next=u.previous=u;else{n=null,e=r;do{if(e.expirationTime>=t){n=e;break}e=e.next}while(e!==r);null===n?n=r:n===r&&(r=u,l()),(t=n.previous).next=n.previous=u,u.next=n,u.previous=t}}function d(){if(-1===a&&null!==r&&1===r.priorityLevel){s=!0;try{do{c()}while(null!==r&&1===r.priorityLevel)}finally{s=!1,null!==r?l():u=!1}}}function f(e){s=!0;var o=n;n=e;try{if(e)for(;null!==r;){var a=t.unstable_now();if(!(r.expirationTime<=a))break;do{c()}while(null!==r&&r.expirationTime<=a)}else if(null!==r)do{c()}while(null!==r&&!P())}finally{s=!1,n=o,null!==r?l():u=!1,d()}}var p,h,m=Date,v="function"===typeof setTimeout?setTimeout:void 0,y="function"===typeof clearTimeout?clearTimeout:void 0,g="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function _(e){p=g(function(t){y(h),e(t)}),h=v(function(){b(p),e(t.unstable_now())},100)}if("object"===typeof performance&&"function"===typeof performance.now){var w=performance;t.unstable_now=function(){return w.now()}}else t.unstable_now=function(){return m.now()};var k,E,P,S=null;if("undefined"!==typeof window?S=window:"undefined"!==typeof e&&(S=e),S&&S._schedMock){var x=S._schedMock;k=x[0],E=x[1],P=x[2],t.unstable_now=x[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var T=null,C=function(e){if(null!==T)try{T(e)}finally{T=null}};k=function(e){null!==T?setTimeout(k,0,e):(T=e,setTimeout(C,0,!1))},E=function(){T=null},P=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof g&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var O=null,R=!1,M=-1,D=!1,j=!1,I=0,A=33,N=33;P=function(){return I<=t.unstable_now()};var L=new MessageChannel,F=L.port2;L.port1.onmessage=function(){R=!1;var e=O,r=M;O=null,M=-1;var n=t.unstable_now(),o=!1;if(0>=I-n){if(!(-1!==r&&r<=n))return D||(D=!0,_(U)),O=e,void(M=r);o=!0}if(null!==e){j=!0;try{e(o)}finally{j=!1}}};var U=function e(t){if(null!==O){_(e);var r=t-I+N;r<N&&A<N?(8>r&&(r=8),N=r<A?A:r):A=r,I=t+N,R||(R=!0,F.postMessage(void 0))}else D=!1};k=function(e,t){O=e,M=t,j||0>t?F.postMessage(void 0):D||(D=!0,_(U))},E=function(){O=null,R=!1,M=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,r){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=o,i=a;o=e,a=t.unstable_now();try{return r()}finally{o=n,a=i,d()}},t.unstable_next=function(e){switch(o){case 1:case 2:case 3:var r=3;break;default:r=o}var n=o,i=a;o=r,a=t.unstable_now();try{return e()}finally{o=n,a=i,d()}},t.unstable_scheduleCallback=function(e,n){var i=-1!==a?a:t.unstable_now();if("object"===typeof n&&null!==n&&"number"===typeof n.timeout)n=i+n.timeout;else switch(o){case 1:n=i+-1;break;case 2:n=i+250;break;case 5:n=i+1073741823;break;case 4:n=i+1e4;break;default:n=i+5e3}if(e={callback:e,priorityLevel:o,expirationTime:n,next:null,previous:null},null===r)r=e.next=e.previous=e,l();else{i=null;var s=r;do{if(s.expirationTime>n){i=s;break}s=s.next}while(s!==r);null===i?i=r:i===r&&(r=e,l()),(n=i.previous).next=i.previous=e,e.next=i,e.previous=n}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)r=null;else{e===r&&(r=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var r=o;return function(){var n=o,i=a;o=r,a=t.unstable_now();try{return e.apply(this,arguments)}finally{o=n,a=i,d()}}},t.unstable_getCurrentPriorityLevel=function(){return o},t.unstable_shouldYield=function(){return!n&&(null!==r&&r.expirationTime<i||P())},t.unstable_continueExecution=function(){null!==r&&l()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return r}}).call(this,r(32))},function(e,t,r){var n=function(){return this||"object"===typeof self&&self}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,a=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(266),o)n.regeneratorRuntime=a;else try{delete n.regeneratorRuntime}catch(i){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag",l="object"===typeof e,c=t.regeneratorRuntime;if(c)l&&(e.exports=c);else{(c=t.regeneratorRuntime=l?e.exports:{}).wrap=_;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={},v={};v[i]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(M([])));g&&g!==n&&o.call(g,i)&&(v=g);var b=P.prototype=k.prototype=Object.create(v);E.prototype=b.constructor=P,P.constructor=E,P[u]=E.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,P):(e.__proto__=P,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(b),e},c.awrap=function(e){return{__await:e}},S(x.prototype),x.prototype[s]=function(){return this},c.AsyncIterator=x,c.async=function(e,t,r,n){var o=new x(_(e,t,r,n));return c.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},S(b),b[u]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=M,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=r),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),m}}}function _(e,t,r,n){var o=t&&t.prototype instanceof k?t:k,a=Object.create(o.prototype),i=new R(n||[]);return a._invoke=function(e,t,r){var n=d;return function(o,a){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw a;return D()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=T(i,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=w(e,t,r);if("normal"===u.type){if(n=r.done?h:f,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=h,r.method="throw",r.arg=u.arg)}}}(e,r,i),a}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function k(){}function E(){}function P(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var t;this._invoke=function(r,n){function a(){return new Promise(function(t,a){!function t(r,n,a,i){var s=w(e[r],e,n);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&o.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,a,i)},function(e){t("throw",e,a,i)}):Promise.resolve(l).then(function(e){u.value=e,a(u)},function(e){return t("throw",e,a,i)})}i(s.arg)}(r,n,t,a)})}return t=t?t.then(a,a):a()}}function T(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,T(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=w(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function M(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return a.next=a}}return{next:D}}function D(){return{value:r,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.profiles=t.WebSocketDriver=t.WebRTCDriver=void 0;var n=l(r(20)),o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=l(r(89)),i=l(r(270)),s=l(r(381)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(392));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,a){try{var i=t[o](a),s=i.value}catch(u){return void r(u)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var d={webrtc:i.default,ws:s.default};t.WebRTCDriver=i.default,t.WebSocketDriver=s.default,t.profiles=u;var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._options=e||{},r._options.drivers=r._options.drivers||["webrtc"],r.ChosenDriver=null,r._supportCheck=null,r._setup(),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"_setup",value:function(){var e=c(n.default.mark(function e(){var t,r,o,a,i,s,u=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this._options.drivers,r=[],o={},a=function(e){var a=d[t[e]];if(!a)return u.emit("error",new Error("unrecognized driver "+t[e])),"continue";r.push(c(n.default.mark(function r(){var i;return n.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.verifySupport();case 2:i=r.sent,o[t[e]]=i;case 4:case"end":return r.stop()}},r,u)}))())},i=0;case 5:if(!(i<t.length)){e.next=12;break}if("continue"!==a(i)){e.next=9;break}return e.abrupt("continue",9);case 9:i++,e.next=5;break;case 12:return this._supportCheck=Promise.all(r),e.next=15,this._supportCheck;case 15:this._supportCheck=null,i=0;case 17:if(!(i<t.length)){e.next=26;break}if(!(s=d[t[0]])||!o[t[0]]){e.next=23;break}return this._driverKey=t[0],this.ChosenDriver=s,e.abrupt("break",26);case 23:i++,e.next=17;break;case 26:if(this.ChosenDriver){e.next=29;break}return this.emit("error","no-support"),e.abrupt("return");case 29:this.driver=new this.ChosenDriver(this.driverOptions),this.driver.on("deviceError",function(){u.emit("stop")}),this.driver.on("abr:message",this.proxy("abr:message")),this.driver.on("abr:downshift",this.proxy("abr:downshift")),this.driver.on("abr:upshift",this.proxy("abr:upshift")),this.driver.on("call",this.proxy("call")),this.driver.on("error",this.proxy("error")),this.driver.on("log",this.proxy("log")),this.driver.on("reload",this.proxy("reload")),this.driver.on("webrtc-stats",this.proxy("webrtc-stats")),this.driver.on("webrtc-anomaly",this.proxy("webrtc-anomaly")),this.driver.on("restart",this.proxy("restart")),this.driver.on("shutdown",this.proxy("shutdown")),this.driver.on("start",this.proxy("start")),this.driver.on("stop",this.proxy("stop")),this.driver.apply(this.driverOptions);case 45:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=c(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.driver){e.next=8;break}if(!this._supportCheck){e.next=6;break}return e.next=4,this._supportCheck;case 4:e.next=8;break;case 6:return this.emit("error","no-support"),e.abrupt("return",null);case 8:this.driver.broadcast();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=c(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.driver){e.next=8;break}if(!this._supportCheck){e.next=6;break}return e.next=4,this._supportCheck;case 4:e.next=8;break;case 6:return this.emit("error","no-support"),e.abrupt("return",null);case 8:this.driver.destroy(),this.driver=null;case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){var e=c(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.driver){e.next=8;break}if(!this._supportCheck){e.next=6;break}return e.next=4,this._supportCheck;case 4:e.next=8;break;case 6:return this.emit("error","no-support"),e.abrupt("return",null);case 8:this.driver.stop();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"driverOptions",get:function(){return Object.assign({},this._options,this._options[this._driverKey])}},{key:"options",set:function(e){this._options=e,this.driver&&this.driver.apply(this.driverOptions)}},{key:"state",get:function(){return this.driver?this.driver.state:"stopped"}}]),t}();t.default=f},function(e,t,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,a=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(269),o)n.regeneratorRuntime=a;else try{delete n.regeneratorRuntime}catch(i){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag",l="object"===typeof e,c=t.regeneratorRuntime;if(c)l&&(e.exports=c);else{(c=t.regeneratorRuntime=l?e.exports:{}).wrap=_;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={},v={};v[i]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(M([])));g&&g!==n&&o.call(g,i)&&(v=g);var b=P.prototype=k.prototype=Object.create(v);E.prototype=b.constructor=P,P.constructor=E,P[u]=E.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,P):(e.__proto__=P,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(b),e},c.awrap=function(e){return{__await:e}},S(x.prototype),x.prototype[s]=function(){return this},c.AsyncIterator=x,c.async=function(e,t,r,n){var o=new x(_(e,t,r,n));return c.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},S(b),b[u]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=M,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=r),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),m}}}function _(e,t,r,n){var o=t&&t.prototype instanceof k?t:k,a=Object.create(o.prototype),i=new R(n||[]);return a._invoke=function(e,t,r){var n=d;return function(o,a){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw a;return D()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=T(i,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=w(e,t,r);if("normal"===u.type){if(n=r.done?h:f,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=h,r.method="throw",r.arg=u.arg)}}}(e,r,i),a}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function k(){}function E(){}function P(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var t;this._invoke=function(r,n){function a(){return new Promise(function(t,a){!function t(r,n,a,i){var s=w(e[r],e,n);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&o.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,a,i)},function(e){t("throw",e,a,i)}):Promise.resolve(l).then(function(e){u.value=e,a(u)},i)}i(s.arg)}(r,n,t,a)})}return t=t?t.then(a,a):a()}}function T(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,T(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=w(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function M(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return a.next=a}}return{next:D}}function D(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(20)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=f(r(22)),s=f(r(271)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(134)),l=r(135),c=r(380),d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,a){try{var i=t[o](a),s=i.value}catch(u){return void r(u)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var h=f(r(192)).default.split("@"),m=h[h.length-1],v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._emit=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];setTimeout(function(){r.emit.apply(r,t)},1)},r._updateStream=!1,r._broadcaster=null,r._callData=null,r._call=null,r._broadcasting=!1,r._connecting=!1,r._started=!1,r._connected=!1,r._refreshBroadcaster=!1,r._options={},e&&r.apply(e),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"_setup",value:function(){var e=p(n.default.mark(function e(){var t,r,a,i,u,l=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._call&&!this._connecting){e.next=2;break}return e.abrupt("return");case 2:return this._connecting=!0,t=void 0,t=this._options.authOptions?this._options.authOptions:{},this._options.getToken&&(t.bootstrap=o({},t.bootstrap,{refreshToken:this._options.getToken})),r={auth:t,loadbalancer:this._options.loadbalancer},this._options.integerationCall&&(r.callUrl=this._options.integerationCall),this._broadcaster&&!this._refreshBroadcaster||(this._refreshBroadcaster=!1,this._broadcaster=new s.default(r)),e.prev=9,e.next=12,this._broadcaster.createCall(this._options.callCreateOptions||this._options.callName);case 12:this._callData=e.sent,e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(9),this._connecting=!1,e.t0;case 19:if(this.call){e.next=38;break}return a=this._options.stream&&this._options.stream.getAudioTracks(),i=this._options.stream&&this._options.stream.getVideoTracks(),u=o({streams:(n={},c="default",d={},c in n?Object.defineProperty(n,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):n[c]=d,n),requireSend:!0,expectedStreamNames:["default"],sendAudio:!(this._options.lockStreamConfiguration&&i.length&&!a.length),sendVideo:!(this._options.lockStreamConfiguration&&a.length&&!i.length),clientName:"webencoder",clientVersion:m},this._options.callOptions),e.prev=23,e.next=26,this._broadcaster.joinCall(this._callData.id,u);case 26:this._call=e.sent,e.next=33;break;case 29:throw e.prev=29,e.t1=e.catch(23),this._connecting=!1,e.t1;case 33:this._call.on("webrtc-stats",function(e){l._emit("webrtc-stats",e)}),this._call.on("webrtc-anomaly",function(e){l.emit("webrtc-anomaly",e)}),this.emit("connected"),this._emit("call",this._call),this._connecting=!1;case 38:case"end":return e.stop()}var n,c,d},e,this,[[9,15],[23,29]])}));return function(){return e.apply(this,arguments)}}()},{key:"apply",value:function(){var e=p(n.default.mark(function e(t){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._options.getToken===t.getToken&&this._options.authOptions===t.authOptions&&this._options.loadbalancer===t.loadbalancer&&this._options.integerationCall===t.integerationCall||(this._refreshBroadcaster=!0),this._options=t,e.prev=2,e.next=5,this._setStreams(!0);case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(2),this._emit("error",{err:(0,c.errLog)(e.t0),message:"unable to start stream"}),e.abrupt("return");case 11:this.updateMaxBitrate();case 12:case"end":return e.stop()}},e,this,[[2,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"_setStreams",value:function(){var e=p(n.default.mark(function e(t){var r,o,a,i,s=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._connected){e.next=2;break}return e.abrupt("return");case 2:if(!((r=this._options.stream&&this._options.stream.getVideoTracks())&&r.length&&this._call)){e.next=14;break}return o=function(){if(!(s._options.stream&&s._options.stream.getVideoTracks()).length)throw d.default.warn("no video tracks found on stream retrieval"),new Error("no video tracks");var e=new MediaStream;return s._videoTrack&&s._videoTrack.stop(),s._videoTrack=r[0].clone(),e.addTrack(s._videoTrack),e},e.prev=5,e.next=8,this._call.setVideoStreamRetriever("default",o,t);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),d.default.warn("unable to set webcam",{err:(0,c.errLog)(e.t0),trackLabel:this._videoTrack&&this._videoTrack.label,trackState:this._videoTrack&&this._videoTrack.readyState,settings:this._videoTrack&&this._videoTrack.getSettings&&this._videoTrack.getSettings(),capabilities:this._videoTrack&&this._videoTrack.getCapabilities&&this._videoTrack.getCapabilities(),constraints:this._videoTrack&&this._videoTrack.getConstraints&&this._videoTrack.getConstraints()}),this._emit("error",{err:(0,c.errLog)(e.t0),message:"unable to set webcam"});case 14:if(!((a=this._options.stream&&this._options.stream.getAudioTracks())&&a.length&&this._call)){e.next=26;break}return i=function(){if(!(s._options.stream&&s._options.stream.getAudioTracks()).length)throw d.default.warn("no audio tracks found on stream retrieval"),new Error("no audio tracks");var e=new MediaStream;return s._audioTrack&&s._audioTrack.stop(),s._audioTrack=a[0].clone(),e.addTrack(s._audioTrack),e},e.prev=17,e.next=20,this._call.setAudioStreamRetriever("default",i,t);case 20:e.next=26;break;case 22:e.prev=22,e.t1=e.catch(17),d.default.warn("unable to set audio",{err:(0,c.errLog)(e.t1),trackLabel:this._audioTrack&&this._audioTrack.label,trackState:this._audioTrack&&this._audioTrack.readyState,settings:this._audioTrack&&this._audioTrack.getSettings&&this._audioTrack.getSettings(),capabilities:this._audioTrack&&this._audioTrack.getCapabilities&&this._audioTrack.getCapabilities(),constraints:this._audioTrack&&this._audioTrack.getConstraints&&this._audioTrack.getConstraints()}),this._emit("error",{err:(0,c.errLog)(e.t1),message:"unable to set mic"});case 26:case"end":return e.stop()}},e,this,[[5,10],[17,22]])}));return function(t){return e.apply(this,arguments)}}()},{key:"updateMaxBitrate",value:function(){if(this._call&&this._call._wsTransport&&this._options&&this._options.kbps){var e=1e3*this._options.kbps;this._emit("log",{level:"info",message:"setting max bitrate",bitrate:e}),this._call.updateMaxBitrate(e)}}},{key:"_broadcast",value:function(){var e=p(n.default.mark(function e(){var t=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._broadcasting){e.next=2;break}return e.abrupt("return");case 2:return this._broadcasting=!0,this._call.on(u.roomData().type,p(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t._connected){e.next=12;break}return t._connected=!0,e.prev=2,e.next=5,t._setStreams(!1);case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(2),t._connected=!1,t._emit("error",{err:(0,c.errLog)(e.t0),message:"unable to start stream"}),e.abrupt("return");case 12:case"end":return e.stop()}},e,t,[[2,7]])}))),this._call.on(u.setSendingIceState().type,function(){var e=p(n.default.mark(function e(r){var o=r.state;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:("connected"===o||"completed"===o&&!1===t._started)&&(t._started=!0,t._emit("start"));case 1:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()),e.prev=5,e.next=8,this._call.start();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),this._emit("error",{err:(0,c.errLog)(e.t0),message:"unable to start call"});case 13:this._call=null,this._started=!1,this._connected=!1,this._broadcasting=!1,this._emit("stop");case 18:case"end":return e.stop()}},e,this,[[5,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"broadcast",value:function(){var e=p(n.default.mark(function e(){var t=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._setup();case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),this._emit("error",{err:(0,c.errLog)(e.t0),message:"unable to set up call"}),e.abrupt("return");case 9:if(this._call){e.next=12;break}return this.once("connected",function(){t._broadcast()}),e.abrupt("return");case 12:this._broadcast();case 13:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this._call&&(this._call.close(),this._call=null),this._videoTrack&&(this._videoTrack.stop(),this._videoTrack=null),this._audioTrack&&(this._audioTrack.stop(),this._audioTrack=null),this._broadcaster&&(this._broadcaster.close(),this._broadcaster=null)}},{key:"destroy",value:function(){this.stop()}},{key:"state",get:function(){return this._started?"broadcasting":"stopped"}}],[{key:"isSupported",value:function(){var e=(0,l.localSupport)();return e&&e.video&&e.audio&&e.supports("h264")}},{key:"verifySupport",value:function(){var e=p(n.default.mark(function e(){var t;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.generateLocalSupport)();case 2:return t=e.sent,e.abrupt("return",t&&t.video&&t.audio&&t.supports("h264"));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}();t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=y(r(14)),o=y(r(76)),a=y(r(48)),i=y(r(121)),s=y(r(20)),u=y(r(24)),l=y(r(17)),c=y(r(18)),d=y(r(128)),f=y(r(182)),p=r(135),h=y(r(189)),m=r(42),v=y(m);function y(e){return e&&e.__esModule?e:{default:e}}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,l.default)(this,e),!t.loadbalancer)throw new Error("loadbalancer option is required");if(this.options=t,this.options.failoverLoadbalancers=this.options.failoverLoadbalancers||[],Array.isArray(t.loadbalancer)){if(!t.loadbalancer.length)throw new Error("loadbalancer option is required");v.default.setPackageContext("loadbalancer",t.loadbalancer.join(","));var r=t.loadbalancer;this.options.loadbalancer=r[0],this.options.failoverLoadbalancers=r.slice(1)}else v.default.setPackageContext("loadbalancer",t.loadbalancer);t.callUrl?this._callUrl=t.callUrl:(this._callUrl=t.loadbalancer+"/lb/calls",this._failoverCallUrls=this.options.failoverLoadbalancers.map(function(e){return e+"/lb/calls"})),this._region=null,this._p_region=this.getRegion(),this._auth=new d.default(this.options.auth)}return(0,c.default)(e,[{key:"getRegion",value:function(){var e=(0,u.default)(s.default.mark(function e(){var t;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._region){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,h.default)(this.options.loadbalancer+"/lb/dc",{failoverUrls:this.options.failoverLoadbalancers.map(function(e){return e+"/lb/dc"})});case 5:t=e.sent,this._region=t.body.region,v.default.setPackageContext("region",this._region),v.default.info("region updated",{region:this._region}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),v.default.warn("unable to get region",(0,m.errLog)(e.t0));case 14:this._p_region=null;case 15:case"end":return e.stop()}},e,this,[[2,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"createCall",value:function(){var e=(0,u.default)(s.default.mark(function e(){var t,r,n,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._p_region;case 2:return e.next=4,(0,p.generateLocalSupport)();case 4:return t=e.sent,r={mode:"broadcast",region:this._region,support:t.hash},"string"===typeof u?r.message=u:"object"===("undefined"===typeof u?"undefined":(0,i.default)(u))&&(0,a.default)(r,u),v.default.info("call creation",{callUrl:this._callUrl,auth:this.options.auth,body:r}),e.next=10,(0,h.default)(this._callUrl,{auth:this._auth,method:"post",body:(0,o.default)(r),failoverUrls:this._failoverCallUrls});case 10:return n=e.sent,e.abrupt("return",n.body);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createCallAndJoin",value:function(){var e=(0,u.default)(s.default.mark(function e(){var t,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._p_region;case 2:return e.next=4,this.createCall(o);case 4:return t=e.sent,r=t.id,e.abrupt("return",(0,f.default)(r,this.options.loadbalancer+"/lb/v2/calls/"+r+"/join",(0,n.default)({auth:this._auth,failoverUrls:this.options.failoverLoadbalancers.map(function(e){return e+"/lb/v2/calls/"+r+"/join"})},a)));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"joinCall",value:function(){var e=(0,u.default)(s.default.mark(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._p_region;case 2:return e.abrupt("return",(0,f.default)(t,this.options.loadbalancer+"/lb/v2/calls/"+t+"/join",(0,n.default)({auth:this._auth,failoverUrls:this.options.failoverLoadbalancers.map(function(e){return e+"/lb/v2/calls/"+t+"/join"})},r)));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.auth&&this.auth.destroy()}}]),e}();t.default=g},function(e,t,r){r(273),e.exports=r(16).Object.assign},function(e,t,r){var n=r(36);n(n.S+n.F,"Object",{assign:r(274)})},function(e,t,r){"use strict";var n=r(72),o=r(120),a=r(92),i=r(75),s=r(162),u=Object.assign;e.exports=!u||r(58)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var r=i(e),u=arguments.length,l=1,c=o.f,d=a.f;u>l;)for(var f,p=s(arguments[l++]),h=c?n(p).concat(c(p)):n(p),m=h.length,v=0;m>v;)d.call(p,f=h[v++])&&(r[f]=p[f]);return r}:u},function(e,t,r){var n=r(59),o=r(115),a=r(276);e.exports=function(e){return function(t,r,i){var s,u=n(t),l=o(u.length),c=a(i,l);if(e&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var n=r(116),o=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):a(e,t)}},function(e,t,r){var n=r(16),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},function(e,t,r){e.exports={default:r(279),__esModule:!0}},function(e,t,r){r(77),r(94),e.exports=r(123).f("iterator")},function(e,t,r){var n=r(116),o=r(114);e.exports=function(e){return function(t,r){var a,i,s=String(o(t)),u=n(r),l=s.length;return u<0||u>=l?e?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===l||(i=s.charCodeAt(u+1))<56320||i>57343?e?s.charAt(u):a:e?s.slice(u,u+2):i-56320+(a-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(122),o=r(71),a=r(93),i={};r(49)(i,r(28)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(i,{next:o(1,r)}),a(e,t+" Iterator")}},function(e,t,r){var n=r(41),o=r(40),a=r(72);e.exports=r(45)?Object.defineProperties:function(e,t){o(e);for(var r,i=a(t),s=i.length,u=0;s>u;)n.f(e,r=i[u++],t[r]);return e}},function(e,t,r){"use strict";var n=r(284),o=r(285),a=r(60),i=r(59);e.exports=r(163)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){e.exports={default:r(287),__esModule:!0}},function(e,t,r){r(288),r(170),r(292),r(293),e.exports=r(16).Symbol},function(e,t,r){"use strict";var n=r(27),o=r(50),a=r(45),i=r(36),s=r(164),u=r(289).KEY,l=r(58),c=r(118),d=r(93),f=r(91),p=r(28),h=r(123),m=r(124),v=r(290),y=r(291),g=r(40),b=r(44),_=r(59),w=r(113),k=r(71),E=r(122),P=r(167),S=r(169),x=r(41),T=r(72),C=S.f,O=x.f,R=P.f,M=n.Symbol,D=n.JSON,j=D&&D.stringify,I=p("_hidden"),A=p("toPrimitive"),N={}.propertyIsEnumerable,L=c("symbol-registry"),F=c("symbols"),U=c("op-symbols"),B=Object.prototype,V="function"==typeof M,W=n.QObject,z=!W||!W.prototype||!W.prototype.findChild,H=a&&l(function(){return 7!=E(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=C(B,t);n&&delete B[t],O(e,t,r),n&&e!==B&&O(B,t,n)}:O,q=function(e){var t=F[e]=E(M.prototype);return t._k=e,t},G=V&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},K=function(e,t,r){return e===B&&K(U,t,r),g(e),t=w(t,!0),g(r),o(F,t)?(r.enumerable?(o(e,I)&&e[I][t]&&(e[I][t]=!1),r=E(r,{enumerable:k(0,!1)})):(o(e,I)||O(e,I,k(1,{})),e[I][t]=!0),H(e,t,r)):O(e,t,r)},$=function(e,t){g(e);for(var r,n=v(t=_(t)),o=0,a=n.length;a>o;)K(e,r=n[o++],t[r]);return e},Y=function(e){var t=N.call(this,e=w(e,!0));return!(this===B&&o(F,e)&&!o(U,e))&&(!(t||!o(this,e)||!o(F,e)||o(this,I)&&this[I][e])||t)},Q=function(e,t){if(e=_(e),t=w(t,!0),e!==B||!o(F,t)||o(U,t)){var r=C(e,t);return!r||!o(F,t)||o(e,I)&&e[I][t]||(r.enumerable=!0),r}},X=function(e){for(var t,r=R(_(e)),n=[],a=0;r.length>a;)o(F,t=r[a++])||t==I||t==u||n.push(t);return n},J=function(e){for(var t,r=e===B,n=R(r?U:_(e)),a=[],i=0;n.length>i;)!o(F,t=n[i++])||r&&!o(B,t)||a.push(F[t]);return a};V||(s((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0);return a&&z&&H(B,e,{configurable:!0,set:function t(r){this===B&&t.call(U,r),o(this,I)&&o(this[I],e)&&(this[I][e]=!1),H(this,e,k(1,r))}}),q(e)}).prototype,"toString",function(){return this._k}),S.f=Q,x.f=K,r(168).f=P.f=X,r(92).f=Y,r(120).f=J,a&&!r(74)&&s(B,"propertyIsEnumerable",Y,!0),h.f=function(e){return q(p(e))}),i(i.G+i.W+i.F*!V,{Symbol:M});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=T(p.store),re=0;te.length>re;)m(te[re++]);i(i.S+i.F*!V,"Symbol",{for:function(e){return o(L,e+="")?L[e]:L[e]=M(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),i(i.S+i.F*!V,"Object",{create:function(e,t){return void 0===t?E(e):$(E(e),t)},defineProperty:K,defineProperties:$,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:J}),D&&i(i.S+i.F*(!V||l(function(){var e=M();return"[null]"!=j([e])||"{}"!=j({a:e})||"{}"!=j(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=t=n[1],(b(t)||void 0!==e)&&!G(e))return y(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!G(t))return t}),n[1]=t,j.apply(D,n)}}),M.prototype[A]||r(49)(M.prototype,A,M.prototype.valueOf),d(M,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,t,r){var n=r(91)("meta"),o=r(44),a=r(50),i=r(41).f,s=0,u=Object.isExtensible||function(){return!0},l=!r(58)(function(){return u(Object.preventExtensions({}))}),c=function(e){i(e,n,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!a(e,n)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return l&&d.NEED&&u(e)&&!a(e,n)&&c(e),e}}},function(e,t,r){var n=r(72),o=r(120),a=r(92);e.exports=function(e){var t=n(e),r=o.f;if(r)for(var i,s=r(e),u=a.f,l=0;s.length>l;)u.call(e,i=s[l++])&&t.push(i);return t}},function(e,t,r){var n=r(73);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){r(124)("asyncIterator")},function(e,t,r){r(124)("observable")},function(e,t,r){r(170),r(77),r(94),r(295),r(303),r(304),e.exports=r(16).Promise},function(e,t,r){"use strict";var n,o,a,i,s=r(74),u=r(27),l=r(57),c=r(125),d=r(36),f=r(44),p=r(90),h=r(296),m=r(297),v=r(173),y=r(174).set,g=r(299)(),b=r(127),_=r(175),w=r(300),k=r(176),E=u.TypeError,P=u.process,S=P&&P.versions,x=S&&S.v8||"",T=u.Promise,C="process"==c(P),O=function(){},R=o=b.f,M=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[r(28)("species")]=function(e){e(O,O)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(O)instanceof t&&0!==x.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(n){}}(),D=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},j=function(e,t){if(!e._n){e._n=!0;var r=e._c;g(function(){for(var n=e._v,o=1==e._s,a=0,i=function(t){var r,a,i,s=o?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{s?(o||(2==e._h&&N(e),e._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&(c.exit(),i=!0)),r===t.promise?l(E("Promise-chain cycle")):(a=D(r))?a.call(r,u,l):u(r)):l(n)}catch(d){c&&!i&&c.exit(),l(d)}};r.length>a;)i(r[a++]);e._c=[],e._n=!1,t&&!e._h&&I(e)})}},I=function(e){y.call(u,function(){var t,r,n,o=e._v,a=A(e);if(a&&(t=_(function(){C?P.emit("unhandledRejection",o,e):(r=u.onunhandledrejection)?r({promise:e,reason:o}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=C||A(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},A=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){y.call(u,function(){var t;C?P.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),j(t,!0))},F=function e(t){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw E("Promise can't be resolved itself");(r=D(t))?g(function(){var o={_w:n,_d:!1};try{r.call(t,l(e,o,1),l(L,o,1))}catch(a){L.call(o,a)}}):(n._v=t,n._s=1,j(n,!1))}catch(o){L.call({_w:n,_d:!1},o)}}};M||(T=function(e){h(this,T,"Promise","_h"),p(e),n.call(this);try{e(l(F,this,1),l(L,this,1))}catch(t){L.call(this,t)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(301)(T.prototype,{then:function(e,t){var r=R(v(this,T));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=C?P.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&j(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n;this.promise=e,this.resolve=l(F,e,1),this.reject=l(L,e,1)},b.f=R=function(e){return e===T||e===i?new a(e):o(e)}),d(d.G+d.W+d.F*!M,{Promise:T}),r(93)(T,"Promise"),r(302)("Promise"),i=r(16).Promise,d(d.S+d.F*!M,"Promise",{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!M),"Promise",{resolve:function(e){return k(s&&this===i?T:this,e)}}),d(d.S+d.F*!(M&&r(177)(function(e){T.all(e).catch(O)})),"Promise",{all:function(e){var t=this,r=R(t),n=r.resolve,o=r.reject,a=_(function(){var r=[],a=0,i=1;m(e,!1,function(e){var s=a++,u=!1;r.push(void 0),i++,t.resolve(e).then(function(e){u||(u=!0,r[s]=e,--i||n(r))},o)}),--i||n(r)});return a.e&&o(a.v),r.promise},race:function(e){var t=this,r=R(t),n=r.reject,o=_(function(){m(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(57),o=r(171),a=r(172),i=r(40),s=r(115),u=r(126),l={},c={};(t=e.exports=function(e,t,r,d,f){var p,h,m,v,y=f?function(){return e}:u(e),g=n(r,d,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(a(y)){for(p=s(e.length);p>b;b++)if((v=t?g(i(h=e[b])[0],h[1]):g(e[b]))===l||v===c)return v}else for(m=y.call(e);!(h=m.next()).done;)if((v=o(m,g,h.value,t))===l||v===c)return v}).BREAK=l,t.RETURN=c},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(27),o=r(174).set,a=n.MutationObserver||n.WebKitMutationObserver,i=n.process,s=n.Promise,u="process"==r(73)(i);e.exports=function(){var e,t,r,l=function(){var n,o;for(u&&(n=i.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(a){throw e?r():t=void 0,a}}t=void 0,n&&n.enter()};if(u)r=function(){i.nextTick(l)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function(){c.then(l)}}else r=function(){o.call(n,l)};else{var d=!0,f=document.createTextNode("");new a(l).observe(f,{characterData:!0}),r=function(){f.data=d=!d}}return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},function(e,t,r){var n=r(27).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){var n=r(49);e.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},function(e,t,r){"use strict";var n=r(27),o=r(16),a=r(41),i=r(45),s=r(28)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];i&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){"use strict";var n=r(36),o=r(16),a=r(27),i=r(173),s=r(176);n(n.P+n.R,"Promise",{finally:function(e){var t=i(this,o.Promise||a.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){"use strict";var n=r(36),o=r(127),a=r(175);n(n.S,"Promise",{try:function(e){var t=o.f(this),r=a(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){r(306);var n=r(16).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(36);n(n.S+n.F*!r(45),"Object",{defineProperty:r(41).f})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(r(51)),o=p(r(95)),a=p(r(96)),i=p(r(25)),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,n.default)(e,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=p(r(22)),l=p(r(315)),c=p(r(178)),d=p(r(318)),f=p(r(333));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m={timeout:3e4,headers:{Accept:"application/json"}},v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=h(this,(t.__proto__||(0,i.default)(t)).call(this));r.options=(0,l.default)(m,e);var n={timeout:e.timeout,headers:e.headers};if(r.options.endpoint&&(n.endpointUri=r.options.endpoint.uri),r.options.bootstrap&&(n.bootstrapToken=r.options.bootstrap.token,n.bootstrapRefresh=!!r.options.bootstrap.refreshToken),r.log=new d.default({registerPackage:{name:f.default,id:(0,c.default)().slice(0,8),context:n}}),!e.endpoint&&!e.bootstrap)return r.validationError("endpoint or bootstrap must be configured for auth"),h(r);if(e.endpoint){if(!e.endpoint.uri)return r.validationError("authorization server endpoint uri is required"),h(r);if(!e.endpoint.scope)return r.validationError("authorization server endpoint scope is required"),h(r)}if(e.bootstrap&&!e.bootstrap.token&&!e.bootstrap.refreshToken)return r.validationError("authorization server bootstrap token or refreshToken function is required"),h(r);if(r._stopped=!1,r._fatalError=null,r._token=null,r.options.bootstrap&&r.options.bootstrap.token&&(r._token=r.options.bootstrap.token,r.log.setMessageContext("aggregates.token",r._token),r.log.info("auth token set from bootstrap value")),r._retries=[0,200,1e3,3e3],r._retry=0,r._autorefresh=null,r._headers=r.options.headers,null===r._token)r._retryRequest();else if(r.options.bootstrap&&r.options.bootstrap.expire){var o=r.options.bootstrap.expire-Date.now()-6e4;r._autorefresh=setTimeout(function(){r._autorefresh=null,r._stopped||r._retryRequest()},o)}return r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}(t,u.default),s(t,[{key:"validationError",value:function(e){var t=new Error(e);this._fatalError=t,this._stopped=!0,this.log.error(e,{errName:t&&t.name,errStack:t&&t.stack})}},{key:"destroy",value:function(){this._stopped=!0}},{key:"request",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if(this._fatalError)t(this._fatalError);else{if(null!==this._token)return this.log.debug("existing token returned on token request"),void t(null,this._token);var r=void 0,n=void 0,o=setTimeout(function(){e.removeListener("token",r),e.removeListener("fatal",n),e.log.info("token request timeout"),t(new Error("authorization: timeout"))},this.options.timeout);r=function(){e.removeListener("fatal",n),clearTimeout(o),e.log.debug("new token returned on token request"),t(null,e._token)},n=function(){e.removeListener("token",r),clearTimeout(o),e.log.debug("new token returned on token request"),t(null,e._fatalError)},this.once("token",r),this.once("fatal",n)}}},{key:"refreshToken",value:function(e){var t=this;return this.log.debug("refreshToken called",{token:e}),e?(this._token=e,this.log.setMessageContext("aggregates.token",this._token),this.log.info("token manually set from refreshToken"),this._fatalError=null,null!==this._autorefresh&&(clearTimeout(this._autorefresh),this._autorefresh=null),!0):!this._fatalError&&(null!==this._token&&(null!==this._autorefresh&&(clearTimeout(this._autorefresh),this._autorefresh=null),this._token=null,this.log.removeMessageContext("aggregates.token"),t._retryRequest()),!0)}},{key:"ensureToken",value:function(e){this._token?e():this.once("token",function(){e()})}},{key:"_parseJSON",value:function(e){return e.text().then(function(e){if(e)try{return JSON.parse(e)}catch(t){throw t.fatal=!0,t}return{}})}},{key:"_retryRequest",value:function(){var e=this,t=this._retries[this._retry];t?setTimeout(function(){e._makeRequest()},t):this._makeRequest()}},{key:"_tokenSuccess",value:function(e){var t=this;this._token=e,this.log.setMessageContext("aggregates.token",this._token),this._retry=0,setTimeout(function(){t.emit("token",{token:e})})}},{key:"_makeRequest",value:function(){var e=this;if(this.options.bootstrap&&this.options.bootstrap.refreshToken){var t=this.options.bootstrap.refreshToken();return t.then?(t.then(function(t){e._tokenSuccess(t),e.log.info("token set from async bootstrap refreshToken")}),void(t.catch&&t.catch(function(t){e._fatalError=t,e.log.warn("unable to refresh token from bootstrap function",{err:t}),e.emit("fatal")}))):(this._tokenSuccess(t),void this.log.info("token set from sync bootstrap refreshToken"))}if(!this.options.endpoint)throw new Error("authorization: no ability to refresh token (boostrap or endpoint)");-1===this.options.endpoint.uri.indexOf("?")?this._url=this.options.endpoint.uri+"?scope="+this.options.endpoint.scope:this._url=this.options.endpoint.uri+"&scope="+this.options.endpoint.scope,fetch(this._url,{credentials:"same-origin",headers:this._headers}).then(function(t){if(t.status>=200&&t.status<300)return e._parseJSON(t);if(401===t.status){var r=new Error("authorization: unauthorized");throw r.fatal=!0,r}if(403===t.status){var n=new Error("authorization: forbidden");throw n.fatal=!0,n}throw new Error("authorization: non-200 response code from auth server")}).then(function(t){e._tokenSuccess(t.token),e.log.info("token set from request response");var r=new Date(t.expire).getTime()-Date.now()-6e4;e._autorefresh=setTimeout(function(){e._autorefresh=null,e._stopped||(e.log.info("refreshing token before expiration"),e._retryRequest())},r)}).catch(function(t){if(e._token=null,e.log.removeMessageContext("aggregates.token"),t instanceof TypeError&&(t.fatal=!0),t.fatal)return e._fatalError=t,e.log.error(t.message,{errName:t&&t.name,errStack:t&&t.stack}),void e.emit("fatal");e.log.network("unable to refresh token from endpoint",{err:t}),e._retryRequest(),e._retry<e._retries.length-1&&e._retry++})}}]),t}();t.default=v,e.exports=t.default},function(e,t,r){r(309),e.exports=r(16).Object.setPrototypeOf},function(e,t,r){var n=r(36);n(n.S,"Object",{setPrototypeOf:r(310).set})},function(e,t,r){var n=r(44),o=r(40),a=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(57)(Function.call,r(169).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:a}},function(e,t,r){r(312);var n=r(16).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){var n=r(36);n(n.S,"Object",{create:r(122)})},function(e,t,r){r(314),e.exports=r(16).Object.getPrototypeOf},function(e,t,r){var n=r(75),o=r(166);r(129)("getPrototypeOf",function(){return function(e){return o(n(e))}})},function(e,t,r){"use strict";var n=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(e,t){var r;return t&&!0===t.clone&&n(e)?s((r=e,Array.isArray(r)?[]:{}),e,t):e}function i(e,t,r){var o=e.slice();return t.forEach(function(t,i){"undefined"===typeof o[i]?o[i]=a(t,r):n(t)?o[i]=s(e[i],t,r):-1===e.indexOf(t)&&o.push(a(t,r))}),o}function s(e,t,r){var o=Array.isArray(t);return o===Array.isArray(e)?o?((r||{arrayMerge:i}).arrayMerge||i)(e,t,r):function(e,t,r){var o={};return n(e)&&Object.keys(e).forEach(function(t){o[t]=a(e[t],r)}),Object.keys(t).forEach(function(i){n(t[i])&&e[i]?o[i]=s(e[i],t[i],r):o[i]=a(t[i],r)}),o}(e,t,r):a(t,r)}s.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,r){return s(e,r,t)})};var u=s;e.exports=u},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerHttpWriter=void 0;var n=a(r(179)),o=a(r(131));function a(e){return e&&e.__esModule?e:{default:e}}t.LoggerHttpWriter=o.default,t.default=n.default},function(e,t,r){r(77),r(320),e.exports=r(16).Array.from},function(e,t,r){"use strict";var n=r(57),o=r(36),a=r(75),i=r(171),s=r(172),u=r(115),l=r(321),c=r(126);o(o.S+o.F*!r(177)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,o,d,f=a(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,y=0,g=c(f);if(v&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==g||p==Array&&s(g))for(r=new p(t=u(f.length));t>y;y++)l(r,y,v?m(f[y],y):f[y]);else for(d=g.call(f),r=new p;!(o=d.next()).done;y++)l(r,y,v?i(d,m,[o.value,y],!0):o.value);return r.length=y,r}})},function(e,t,r){"use strict";var n=r(41),o=r(71);e.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},function(e,t,r){r(323),e.exports=r(16).Object.keys},function(e,t,r){var n=r(75),o=r(72);r(129)("keys",function(){return function(e){return o(n(e))}})},function(e,t,r){e.exports={default:r(325),__esModule:!0}},function(e,t,r){r(326);var n=r(16).Object;e.exports=function(e){return n.getOwnPropertyNames(e)}},function(e,t,r){r(129)("getOwnPropertyNames",function(){return r(167).f})},function(e,t,r){(function(t){var r="Expected a function",n=NaN,o="[object Symbol]",a=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,f=c||d||Function("return this")(),p=Object.prototype.toString,h=Math.max,m=Math.min,v=function(){return f.Date.now()};function y(e,t,n){var o,a,i,s,u,l,c=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError(r);function y(t){var r=o,n=a;return o=a=void 0,c=t,s=e.apply(n,r)}function _(e){var r=e-l;return void 0===l||r>=t||r<0||f&&e-c>=i}function w(){var e=v();if(_(e))return k(e);u=setTimeout(w,function(e){var r=t-(e-l);return f?m(r,i-(e-c)):r}(e))}function k(e){return u=void 0,p&&o?y(e):(o=a=void 0,s)}function E(){var e=v(),r=_(e);if(o=arguments,a=this,l=e,r){if(void 0===u)return function(e){return c=e,u=setTimeout(w,t),d?y(e):s}(l);if(f)return u=setTimeout(w,t),y(l)}return void 0===u&&(u=setTimeout(w,t)),s}return t=b(t)||0,g(n)&&(d=!!n.leading,i=(f="maxWait"in n)?h(b(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),E.cancel=function(){void 0!==u&&clearTimeout(u),c=0,o=l=a=u=void 0},E.flush=function(){return void 0===u?s:k(v())},E}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==o}(e))return n;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=s.test(e);return r||u.test(e)?l(e.slice(2),r?2:8):i.test(e)?n:+e}e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError(r);return g(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),y(e,t,{leading:o,maxWait:t,trailing:a})}}).call(this,r(32))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(e.addEventListener)return e.addEventListener(t,r),function(){e.removeEventListener(t,r)};return e.attachEvent("on"+t,function(){r.call(e)}),function(){e.detachEvent("on"+t,function(){r.call(e)})}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="@livelyvideo/logger@2.0.1",e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.length,r=e.length-1;r>=0;r-=1){var n=e.charCodeAt(r);n>127&&n<=2047?t+=1:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&(r-=1)}return t},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={error:0,warn:1,notice:1,deprecated:1,info:2,local:3,debug:3,timing:3,network:3};function o(e){return"undefined"!==n[e]}t.supportsLevel=o,t.meetsLevel=function(e,t){return!(!o(e)||!o(t))&&n[e]<=n[t]},t.supportedLevels=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(48)),o=i(r(33)),a=i(r(181));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var r=t||{},i=r.delimiter||".",s=r.maxDepth,u={};return function e(t,l){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,o.default)(t).forEach(function(d){var f=t[d],p=r.safe&&Array.isArray(f),h=Object.prototype.toString.call(f),m="[object Object]"===h||"[object Array]"===h;if("aggregates"!==d||!m||p){var v=l?l+i+d:d;!p&&m&&(0,o.default)(f).length&&(!r.maxDepth||c<s)?e(f,v,c+1):("[object Error]"===h&&(f=(0,a.default)(f)),"[object String]"===h&&"0"===v&&(v="message"),parseInt(v,10)>0&&(v="data-"+v),u[v]=f)}else u.aggregates?(0,n.default)(u.aggregates,f):u.aggregates=f})}(e),u},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="@livelyvideo/auth-core@2.1.3",e.exports=t.default},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(30)),o=f(r(15)),a=f(r(23)),i=d(r(21)),s=d(r(29)),u=d(r(37)),l=d(r(61)),c=f(r(62));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}function y(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=new o.default("Chrome70"),k=function(e){function t(e,r,n){var o;h(this,t),(o=y(this,g(t).call(this,w)))._transportOptions="send"===e?n.sendTransportOptions:n.recvTransportOptions;var a=!1!==o._transportOptions.udp&&n.turnServers||[];return o._pc=new RTCPeerConnection({iceServers:a,iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"}),o._rtpParametersByKind=r,o._remoteSdp=new c.default(e,r),o._pc.addEventListener("iceconnectionstatechange",function(){switch(o._pc.iceConnectionState){case"checking":o.emit("@connectionstatechange","connecting");break;case"connected":case"completed":o.emit("@connectionstatechange","connected");break;case"failed":o.emit("@connectionstatechange","failed");break;case"disconnected":o.emit("@connectionstatechange","disconnected");break;case"closed":o.emit("@connectionstatechange","closed")}}),o}return b(t,a.default),v(t,[{key:"close",value:function(){w.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){w.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}},{key:"peerConnection",get:function(){return this._pc}}]),t}(),E=function(e){function t(e,r){var n;return h(this,t),(n=y(this,g(t).call(this,"send",e,r)))._transportReady=!1,n._trackIds=new Set,n}return b(t,k),v(t,[{key:"addProducer",value:function(e){var t,r,o=this,a=e.track;return w.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,a.id),this._trackIds.has(a.id)?Promise.reject(new Error("track already added")):(this._trackIds.add(a.id),Promise.resolve().then(function(){if(t=o._pc.getTransceivers().find(function(e){return e.receiver.track.kind===a.kind&&"inactive"===e.direction}))return w.debug("addProducer() | reusing an inactive transceiver"),t.direction="sendonly",t.sender.replaceTrack(a);e.simulcast?(t=o._pc.addTransceiver(a,{direction:"sendonly",sendEncodings:[{rid:"l",active:!0,maxBitrate:45e4},{rid:"m",active:!0,maxBitrate:12e5},{rid:"h",active:!0,maxBitrate:25e5}]}),window.simulcastpc=o._pc):t=o._pc.addTransceiver(a,{direction:"sendonly"})}).then(function(){return o._pc.createOffer()}).then(function(e){return w.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",e),o._pc.setLocalDescription(e)}).then(function(){if(!o._transportReady)return o._setupTransport()}).then(function(){r=n.default.parse(o._pc.localDescription.sdp);var e=o._remoteSdp.createAnswerSdp(r),t={type:"answer",sdp:e};return w.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",t),console.log("qwer",e),o._pc.setRemoteDescription(t)}).then(function(){var n=i.clone(o._rtpParametersByKind[e.kind]);return l.fillRtpParametersForTrack(n,r,a,{mid:t.mid,planBSimulcast:!1}),n}).catch(function(e){try{t.direction="inactive"}catch(r){}throw o._trackIds.delete(a.id),e}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;return this._trackIds.has(r.id)?(w.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),Promise.resolve().then(function(){var e=t._pc.getSenders().find(function(e){return e.track===r});if(!e)throw new Error("local track not found");return t._pc.removeTrack(e),t._trackIds.delete(r.id),t._pc.createOffer()}).then(function(e){return w.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return w.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)})):Promise.reject(new Error("track not found"))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;w.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return Promise.resolve().then(function(){var e=r._pc.getSenders().find(function(e){return e.track===n});if(!e)throw new Error("local track not found");return e.replaceTrack(t)}).then(function(){r._trackIds.delete(n.id),r._trackIds.add(t.id)})}},{key:"restartIce",value:function(e){var t=this;return w.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){return t._pc.createOffer({iceRestart:!0})}).then(function(e){return w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)})}},{key:"_setupTransport",value:function(){var e=this;return w.debug("_setupTransport()"),Promise.resolve().then(function(){var t={},r=e._pc.localDescription.sdp,o=n.default.parse(r),a=u.extractDtlsParameters(o);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0})}}]),t}(),P=function(e){function t(e,r){var n;return h(this,t),(n=y(this,g(t).call(this,"recv",e,r)))._transportCreated=!1,n._transportUpdated=!1,n._consumerInfos=new Map,n}return b(t,k),v(t,[{key:"addConsumer",value:function(e){var t=this;if(w.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return Promise.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],n=e.rtpParameters.rtcp.cname,o={mid:"".concat(e.kind[0]).concat(e.id),kind:e.kind,closed:e.closed,streamId:"recv-stream-".concat(e.id),trackId:"consumer-".concat(e.kind,"-").concat(e.id),ssrc:r.ssrc,cname:n};return r.rtx&&r.rtx.ssrc&&(o.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,o),Promise.resolve().then(function(){if(!t._transportCreated)return t._setupTransport()}).then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return w.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){if(!t._transportUpdated)return t._updateTransport()}).then(function(){var e=t._pc.getTransceivers().find(function(e){return e.mid===o.mid});if(!e)throw new Error("remote track not found");return e.receiver.track})}},{key:"removeConsumer",value:function(e){var t=this;w.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind);var r=this._consumerInfos.get(e.id);return r?(r.closed=!0,Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return w.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})):Promise.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return w.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})}},{key:"_setupTransport",value:function(){var e=this;return w.debug("_setupTransport()"),Promise.resolve().then(function(){return e.safeEmitAsPromise("@needcreatetransport",null)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0})}},{key:"_updateTransport",value:function(){w.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=n.default.parse(e),r={dtlsParameters:u.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}}]),t}(),S=function(){function e(t,r,n){var o;switch(h(this,e),w.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r),t){case"send":return o={audio:s.getSendingRtpParameters("audio",r),video:s.getSendingRtpParameters("video",r)},new E(o,n);case"recv":return o={audio:s.getReceivingFullRtpParameters("audio",r),video:s.getReceivingFullRtpParameters("video",r)},new P(o,n)}}return v(e,null,[{key:"getNativeRtpCapabilities",value:function(){w.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});return e.addTransceiver("audio"),e.addTransceiver("video"),e.createOffer().then(function(t){try{e.close()}catch(o){}var r=n.default.parse(t.sdp);return u.extractRtpCapabilities(r)}).catch(function(t){try{e.close()}catch(r){}throw t})}},{key:"tag",get:function(){return"Chrome70"}}]),e}();t.default=S},function(e,t,r){var n=function(e){return String(Number(e))===e?Number(e):e},o=function(e,t,r){var o=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:o&&!t[e.name]&&(t[e.name]={});var a=e.push?{}:o?t[e.name]:t;!function(e,t,r,o){if(o&&!r)t[o]=n(e[1]);else for(var a=0;a<r.length;a+=1)null!=e[a+1]&&(t[r[a]]=n(e[a+1]))}(r.match(e.reg),a,e.names,e.name),e.push&&t[e.push].push(a)},a=r(184),i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(i).forEach(function(e){var t=e[0],i=e.slice(2);"m"===t&&(r.push({rtp:[],fmtp:[]}),n=r[r.length-1]);for(var s=0;s<(a[t]||[]).length;s+=1){var u=a[t][s];if(u.reg.test(i))return o(u,n,i)}}),t.media=r,t};var s=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(n),o=0;o<r.length;o+=3)t.push({component:r[o],ip:r[o+1],port:r[o+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})})},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,r=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}})})}},function(e,t,r){var n=r(184),o=/%[sdv%]/g,a=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var a=0;a<t.names.length;a+=1){var i=t.names[a];t.name?n.push(r[t.name][i]):n.push(r[t.names[a]])}else n.push(r[t.name]);return function(e){var t=1,r=arguments,n=r.length;return e.replace(o,function(e){if(t>=n)return e;var o=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(o);case"%d":return Number(o);case"%v":return""}})}.apply(null,n)},i=["v","o","s","i","u","e","p","c","b","t","r","z","a"],s=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var r=t.outerOrder||i,o=t.innerOrder||s,u=[];return r.forEach(function(t){n[t].forEach(function(r){r.name in e&&null!=e[r.name]?u.push(a(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach(function(e){u.push(a(t,r,e))})})}),e.media.forEach(function(e){u.push(a("m",n.m[0],e)),o.forEach(function(t){n[t].forEach(function(r){r.name in e&&null!=e[r.name]?u.push(a(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach(function(e){u.push(a(t,r,e))})})})}),u.join("\r\n")+"\r\n"}},function(e,t){!function(t){function r(e){var t=(e=e||{}).min,r=e.max,n=e.integer||!1;if(null==t&&null==r?(t=0,r=1):null==t?t=r-1:null==r&&(r=t+1),r<t)throw new Error("invalid options, max must be >= min");return{min:t,max:r,integer:n}}function n(e){if((e=r(e)).max===e.min)return e.min;var t=Math.random()*(e.max-e.min+Number(!!e.integer))+e.min;return e.integer?Math.floor(t):t}e.exports=n,e.exports.generator=function(e){return e=r(e),function(t,r,o){return e.min=null!=t?t:e.min,e.max=null!=r?r:e.max,e.integer=null!=o?o:e.integer,n(e)}},e.exports.defaults=r}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(30)),o=f(r(15)),a=f(r(23)),i=d(r(21)),s=d(r(29)),u=d(r(37)),l=d(r(63)),c=f(r(64));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}function y(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=new o.default("Chrome69"),k=function(e){function t(e,r,n){var o;h(this,t),(o=y(this,g(t).call(this,w)))._transportOptions="send"===e?n.sendTransportOptions:n.recvTransportOptions;var a=!1!==o._transportOptions.udp&&n.turnServers||[];return o._pc=new RTCPeerConnection({iceServers:a,iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),o._rtpParametersByKind=r,o._remoteSdp=new c.default(e,r),o._pc.addEventListener("iceconnectionstatechange",function(){switch(o._pc.iceConnectionState){case"checking":o.emit("@connectionstatechange","connecting");break;case"connected":case"completed":o.emit("@connectionstatechange","connected");break;case"failed":o.emit("@connectionstatechange","failed");break;case"disconnected":o.emit("@connectionstatechange","disconnected");break;case"closed":o.emit("@connectionstatechange","closed")}}),o}return b(t,a.default),v(t,[{key:"close",value:function(){w.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){w.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}},{key:"peerConnection",get:function(){return this._pc}}]),t}(),E=function(e){function t(e,r){var n;return h(this,t),(n=y(this,g(t).call(this,"send",e,r)))._transportReady=!1,n._stream=new MediaStream,n}return b(t,k),v(t,[{key:"addProducer",value:function(e){var t,r,o=this,a=e.track;return w.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,a.id),this._stream.getTrackById(a.id)?Promise.reject(new Error("track already added")):Promise.resolve().then(function(){return o._stream.addTrack(a),t=o._pc.addTrack(a,o._stream),o._pc.createOffer()}).then(function(t){if(e.simulcast){w.debug("addProducer() | enabling simulcast");var r=n.default.parse(t.sdp);l.addSimulcastForTrack(r,a),t={type:"offer",sdp:n.default.write(r)}}return w.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",t),o._pc.setLocalDescription(t)}).then(function(){if(!o._transportReady)return o._setupTransport()}).then(function(){r=n.default.parse(o._pc.localDescription.sdp);var e={type:"answer",sdp:o._remoteSdp.createAnswerSdp(r)};return w.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",e),o._pc.setRemoteDescription(e)}).then(function(){var t=i.clone(o._rtpParametersByKind[e.kind]);return l.fillRtpParametersForTrack(t,r,a),t}).catch(function(e){try{o._pc.removeTrack(t)}catch(r){}throw o._stream.removeTrack(a),e})}},{key:"removeProducer",value:function(e){var t=this,r=e.track;return w.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),Promise.resolve().then(function(){var e=t._pc.getSenders().find(function(e){return e.track===r});if(!e)throw new Error("RTCRtpSender not found");return t._pc.removeTrack(e),t._stream.removeTrack(r),t._pc.createOffer()}).then(function(e){return w.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).catch(function(e){if(0!==t._stream.getTracks().length)throw e;w.warn("removeProducer() | ignoring expected error due no sending tracks: %s",e.toString())}).then(function(){if("stable"!==t._pc.signalingState){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return w.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)}})}},{key:"replaceProducerTrack",value:function(e,t){var r=this;w.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return Promise.resolve().then(function(){var e=r._pc.getSenders().find(function(e){return e.track===n});if(!e)throw new Error("local track not found");return e.replaceTrack(t)}).then(function(){r._stream.removeTrack(n),r._stream.addTrack(t)})}},{key:"restartIce",value:function(e){var t=this;return w.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){return t._pc.createOffer({iceRestart:!0})}).then(function(e){return w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)})}},{key:"_setupTransport",value:function(){var e=this;return w.debug("_setupTransport()"),Promise.resolve().then(function(){var t={},r=e._pc.localDescription.sdp,o=n.default.parse(r),a=u.extractDtlsParameters(o);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0})}}]),t}(),P=function(e){function t(e,r){var n;return h(this,t),(n=y(this,g(t).call(this,"recv",e,r)))._transportCreated=!1,n._transportUpdated=!1,n._kinds=new Set,n._consumerInfos=new Map,n}return b(t,k),v(t,[{key:"addConsumer",value:function(e){var t=this;if(w.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return Promise.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],n=e.rtpParameters.rtcp.cname,o={kind:e.kind,streamId:"recv-stream-".concat(e.id),trackId:"consumer-".concat(e.kind,"-").concat(e.id),ssrc:r.ssrc,cname:n};return r.rtx&&r.rtx.ssrc&&(o.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,o),this._kinds.add(e.kind),Promise.resolve().then(function(){if(!t._transportCreated)return t._setupTransport()}).then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};return w.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){if(!t._transportUpdated)return t._updateTransport()}).then(function(){var e=t._pc.getReceivers().find(function(e){var t=e.track;return!!t&&t.id===o.trackId});if(!e)throw new Error("remote track not found");return e.track})}},{key:"removeConsumer",value:function(e){var t=this;return w.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id)?(this._consumerInfos.delete(e.id),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};return w.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})):Promise.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return w.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};return w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})}},{key:"_setupTransport",value:function(){var e=this;return w.debug("_setupTransport()"),Promise.resolve().then(function(){return e.safeEmitAsPromise("@needcreatetransport",null)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0})}},{key:"_updateTransport",value:function(){w.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=n.default.parse(e),r={dtlsParameters:u.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}}]),t}(),S=function(){function e(t,r,n){var o;switch(h(this,e),w.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r),t){case"send":return o={audio:s.getSendingRtpParameters("audio",r),video:s.getSendingRtpParameters("video",r)},new E(o,n);case"recv":return o={audio:s.getReceivingFullRtpParameters("audio",r),video:s.getReceivingFullRtpParameters("video",r)},new P(o,n)}}return v(e,null,[{key:"getNativeRtpCapabilities",value:function(){w.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});return e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(function(t){try{e.close()}catch(o){}var r=n.default.parse(t.sdp);return u.extractRtpCapabilities(r)}).catch(function(t){try{e.close()}catch(r){}throw t})}},{key:"tag",get:function(){return"Chrome69"}}]),e}();t.default=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(30)),o=f(r(15)),a=f(r(23)),i=d(r(21)),s=d(r(29)),u=d(r(37)),l=d(r(63)),c=f(r(64));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}function y(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=new o.default("Chrome67"),k=function(e){function t(e,r,n){var o;h(this,t),(o=y(this,g(t).call(this,w)))._transportOptions="send"===e?n.sendTransportOptions:n.recvTransportOptions;var a=!1!==o._transportOptions.udp&&n.turnServers||[];return o._pc=new RTCPeerConnection({iceServers:a,iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),o._rtpParametersByKind=r,o._remoteSdp=new c.default(e,r),o._pc.addEventListener("iceconnectionstatechange",function(){switch(o._pc.iceConnectionState){case"checking":o.emit("@connectionstatechange","connecting");break;case"connected":case"completed":o.emit("@connectionstatechange","connected");break;case"failed":o.emit("@connectionstatechange","failed");break;case"disconnected":o.emit("@connectionstatechange","disconnected");break;case"closed":o.emit("@connectionstatechange","closed")}}),o}return b(t,a.default),v(t,[{key:"close",value:function(){w.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){w.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}},{key:"peerConnection",get:function(){return this._pc}}]),t}(),E=function(e){function t(e,r){var n;return h(this,t),(n=y(this,g(t).call(this,"send",e,r)))._transportReady=!1,n._stream=new MediaStream,n}return b(t,k),v(t,[{key:"addProducer",value:function(e){var t,r=this,o=e.track;return w.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,o.id),this._stream.getTrackById(o.id)?Promise.reject(new Error("track already added")):Promise.resolve().then(function(){return r._stream.addTrack(o),r._pc.addStream(r._stream),r._pc.createOffer()}).then(function(t){if(e.simulcast){w.debug("addProducer() | enabling simulcast");var a=n.default.parse(t.sdp);l.addSimulcastForTrack(a,o),t={type:"offer",sdp:n.default.write(a)}}return w.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",t),r._pc.setLocalDescription(t)}).then(function(){if(!r._transportReady)return r._setupTransport()}).then(function(){t=n.default.parse(r._pc.localDescription.sdp);var e={type:"answer",sdp:r._remoteSdp.createAnswerSdp(t)};return w.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",e),r._pc.setRemoteDescription(e)}).then(function(){var n=i.clone(r._rtpParametersByKind[e.kind]);return l.fillRtpParametersForTrack(n,t,o),n}).catch(function(e){throw r._stream.removeTrack(o),r._pc.addStream(r._stream),e})}},{key:"removeProducer",value:function(e){var t=this,r=e.track;return w.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),Promise.resolve().then(function(){return t._stream.removeTrack(r),t._pc.addStream(t._stream),t._pc.createOffer()}).then(function(e){return w.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).catch(function(e){if(0!==t._stream.getTracks().length)throw e;w.warn("removeProducer() | ignoring expected error due no sending tracks: %s",e.toString())}).then(function(){if("stable"!==t._pc.signalingState){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return w.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)}})}},{key:"replaceProducerTrack",value:function(e,t){var r=this;w.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return Promise.resolve().then(function(){var e=r._pc.getSenders().find(function(e){return e.track===n});if(!e)throw new Error("local track not found");return e.replaceTrack(t)}).then(function(){r._stream.removeTrack(n),r._stream.addTrack(t)})}},{key:"restartIce",value:function(e){var t=this;return w.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){return t._pc.createOffer({iceRestart:!0})}).then(function(e){return w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)})}},{key:"_setupTransport",value:function(){var e=this;return w.debug("_setupTransport()"),Promise.resolve().then(function(){var t={},r=e._pc.localDescription.sdp,o=n.default.parse(r),a=u.extractDtlsParameters(o);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0})}}]),t}(),P=function(e){function t(e,r){var n;return h(this,t),(n=y(this,g(t).call(this,"recv",e,r)))._transportCreated=!1,n._transportUpdated=!1,n._kinds=new Set,n._consumerInfos=new Map,n}return b(t,k),v(t,[{key:"addConsumer",value:function(e){var t=this;if(w.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return Promise.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],n=e.rtpParameters.rtcp.cname,o={kind:e.kind,streamId:"recv-stream-".concat(e.id),trackId:"consumer-".concat(e.kind,"-").concat(e.id),ssrc:r.ssrc,cname:n};return r.rtx&&r.rtx.ssrc&&(o.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,o),this._kinds.add(e.kind),Promise.resolve().then(function(){if(!t._transportCreated)return t._setupTransport()}).then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};return w.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){if(!t._transportUpdated)return t._updateTransport()}).then(function(){var e=t._pc.getRemoteStreams().find(function(e){return e.id===o.streamId}).getTrackById(o.trackId);if(!e)throw new Error("remote track not found");return e})}},{key:"removeConsumer",value:function(e){var t=this;return w.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id)?(this._consumerInfos.delete(e.id),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};return w.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})):Promise.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return w.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};return w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})}},{key:"_setupTransport",value:function(){var e=this;return w.debug("_setupTransport()"),Promise.resolve().then(function(){return e.safeEmitAsPromise("@needcreatetransport",null)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0})}},{key:"_updateTransport",value:function(){w.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=n.default.parse(e),r={dtlsParameters:u.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}}]),t}(),S=function(){function e(t,r,n){var o;switch(h(this,e),w.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r),t){case"send":return o={audio:s.getSendingRtpParameters("audio",r),video:s.getSendingRtpParameters("video",r)},new E(o,n);case"recv":return o={audio:s.getReceivingFullRtpParameters("audio",r),video:s.getReceivingFullRtpParameters("video",r)},new P(o,n)}}return v(e,null,[{key:"getNativeRtpCapabilities",value:function(){w.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});return e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(function(t){try{e.close()}catch(o){}var r=n.default.parse(t.sdp);return u.extractRtpCapabilities(r)}).catch(function(t){try{e.close()}catch(r){}throw t})}},{key:"tag",get:function(){return"Chrome67"}}]),e}();t.default=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(30)),o=f(r(15)),a=f(r(23)),i=d(r(21)),s=d(r(29)),u=d(r(37)),l=d(r(63)),c=f(r(64));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}function y(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=new o.default("Chrome55"),k=function(e){function t(e,r,n){var o;h(this,t),(o=y(this,g(t).call(this,w)))._transportOptions="send"===e?n.sendTransportOptions:n.recvTransportOptions;var a=!1!==o._transportOptions.udp&&n.turnServers||[];return o._pc=new RTCPeerConnection({iceServers:a,iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),o._rtpParametersByKind=r,o._remoteSdp=new c.default(e,r),o._pc.addEventListener("iceconnectionstatechange",function(){switch(o._pc.iceConnectionState){case"checking":o.emit("@connectionstatechange","connecting");break;case"connected":case"completed":o.emit("@connectionstatechange","connected");break;case"failed":o.emit("@connectionstatechange","failed");break;case"disconnected":o.emit("@connectionstatechange","disconnected");break;case"closed":o.emit("@connectionstatechange","closed")}}),o}return b(t,a.default),v(t,[{key:"close",value:function(){w.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){w.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}},{key:"peerConnection",get:function(){return this._pc}}]),t}(),E=function(e){function t(e,r){var n;return h(this,t),(n=y(this,g(t).call(this,"send",e,r)))._transportReady=!1,n._stream=new MediaStream,n}return b(t,k),v(t,[{key:"addProducer",value:function(e){var t,r=this,o=e.track;return w.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,o.id),this._stream.getTrackById(o.id)?Promise.reject(new Error("track already added")):Promise.resolve().then(function(){return r._stream.addTrack(o),r._pc.addStream(r._stream),r._pc.createOffer()}).then(function(t){if(e.simulcast){w.debug("addProducer() | enabling simulcast");var a=n.default.parse(t.sdp);l.addSimulcastForTrack(a,o),t={type:"offer",sdp:n.default.write(a)}}return w.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",t),r._pc.setLocalDescription(t)}).then(function(){if(!r._transportReady)return r._setupTransport()}).then(function(){t=n.default.parse(r._pc.localDescription.sdp);var e={type:"answer",sdp:r._remoteSdp.createAnswerSdp(t)};return w.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",e),r._pc.setRemoteDescription(e)}).then(function(){var n=i.clone(r._rtpParametersByKind[e.kind]);return l.fillRtpParametersForTrack(n,t,o),n}).catch(function(e){throw r._stream.removeTrack(o),r._pc.addStream(r._stream),e})}},{key:"removeProducer",value:function(e){var t=this,r=e.track;return w.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),Promise.resolve().then(function(){return t._stream.removeTrack(r),t._pc.addStream(t._stream),t._pc.createOffer()}).then(function(e){return w.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).catch(function(e){if(0!==t._stream.getTracks().length)throw e;w.warn("removeProducer() | ignoring expected error due no sending tracks: %s",e.toString())}).then(function(){if("stable"!==t._pc.signalingState){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return w.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)}})}},{key:"replaceProducerTrack",value:function(e,t){var r=this;w.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var o,a=e.track;return Promise.resolve().then(function(){return r._stream.removeTrack(a),r._stream.addTrack(t),r._pc.addStream(r._stream),r._pc.createOffer()}).then(function(o){if(e.simulcast){w.debug("addProducer() | enabling simulcast");var a=n.default.parse(o.sdp);l.addSimulcastForTrack(a,t),o={type:"offer",sdp:n.default.write(a)}}return w.debug("replaceProducerTrack() | calling pc.setLocalDescription() [offer:%o]",o),r._pc.setLocalDescription(o)}).then(function(){o=n.default.parse(r._pc.localDescription.sdp);var e={type:"answer",sdp:r._remoteSdp.createAnswerSdp(o)};return w.debug("replaceProducerTrack() | calling pc.setRemoteDescription() [answer:%o]",e),r._pc.setRemoteDescription(e)}).then(function(){var n=i.clone(r._rtpParametersByKind[e.kind]);l.fillRtpParametersForTrack(n,o,t),r.safeEmit("@needupdateproducer",e,n)}).catch(function(e){throw r._stream.removeTrack(t),r._stream.addTrack(a),r._pc.addStream(r._stream),e})}},{key:"restartIce",value:function(e){var t=this;return w.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){return t._pc.createOffer({iceRestart:!0})}).then(function(e){return w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)})}},{key:"_setupTransport",value:function(){var e=this;return w.debug("_setupTransport()"),Promise.resolve().then(function(){var t={},r=e._pc.localDescription.sdp,o=n.default.parse(r),a=u.extractDtlsParameters(o);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0})}}]),t}(),P=function(e){function t(e,r){var n;return h(this,t),(n=y(this,g(t).call(this,"recv",e,r)))._transportCreated=!1,n._transportUpdated=!1,n._kinds=new Set,n._consumerInfos=new Map,n}return b(t,k),v(t,[{key:"addConsumer",value:function(e){var t=this;if(w.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return Promise.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],n=e.rtpParameters.rtcp.cname,o={kind:e.kind,streamId:"recv-stream-".concat(e.id),trackId:"consumer-".concat(e.kind,"-").concat(e.id),ssrc:r.ssrc,cname:n};return r.rtx&&r.rtx.ssrc&&(o.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,o),this._kinds.add(e.kind),Promise.resolve().then(function(){if(!t._transportCreated)return t._setupTransport()}).then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};return w.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){if(!t._transportUpdated)return t._updateTransport()}).then(function(){var e=t._pc.getRemoteStreams().find(function(e){return e.id===o.streamId}).getTrackById(o.trackId);if(!e)throw new Error("remote track not found");return e})}},{key:"removeConsumer",value:function(e){var t=this;return w.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id)?(this._consumerInfos.delete(e.id),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};return w.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})):Promise.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return w.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};return w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})}},{key:"_setupTransport",value:function(){var e=this;return w.debug("_setupTransport()"),Promise.resolve().then(function(){return e.safeEmitAsPromise("@needcreatetransport",null)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0})}},{key:"_updateTransport",value:function(){w.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=n.default.parse(e),r={dtlsParameters:u.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}}]),t}(),S=function(){function e(t,r,n){var o;switch(h(this,e),w.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r),t){case"send":return o={audio:s.getSendingRtpParameters("audio",r),video:s.getSendingRtpParameters("video",r)},new E(o,n);case"recv":return o={audio:s.getReceivingFullRtpParameters("audio",r),video:s.getReceivingFullRtpParameters("video",r)},new P(o,n)}}return v(e,null,[{key:"getNativeRtpCapabilities",value:function(){w.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});return e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(function(t){try{e.close()}catch(o){}var r=n.default.parse(t.sdp);return u.extractRtpCapabilities(r)}).catch(function(t){try{e.close()}catch(r){}throw t})}},{key:"tag",get:function(){return"Chrome55"}}]),e}();t.default=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(30)),o=f(r(15)),a=f(r(23)),i=d(r(21)),s=d(r(29)),u=d(r(37)),l=d(r(61)),c=f(r(62));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}function y(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=new o.default("Safari12"),k=function(e){function t(e,r,n){var o;h(this,t),(o=y(this,g(t).call(this,w)))._transportOptions="send"===e?n.sendTransportOptions:n.recvTransportOptions;var a=!1!==o._transportOptions.udp&&n.turnServers||[];return o._pc=new RTCPeerConnection({iceServers:a,iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),o._rtpParametersByKind=r,o._remoteSdp=new c.default(e,r),o._pc.addEventListener("iceconnectionstatechange",function(){switch(o._pc.iceConnectionState){case"checking":o.emit("@connectionstatechange","connecting");break;case"connected":case"completed":o.emit("@connectionstatechange","connected");break;case"failed":o.emit("@connectionstatechange","failed");break;case"disconnected":o.emit("@connectionstatechange","disconnected");break;case"closed":o.emit("@connectionstatechange","closed")}}),o}return b(t,a.default),v(t,[{key:"close",value:function(){w.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){w.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}},{key:"peerConnection",get:function(){return this._pc}}]),t}(),E=function(e){function t(e,r){var n;return h(this,t),(n=y(this,g(t).call(this,"send",e,r)))._transportReady=!1,n._trackIds=new Set,n}return b(t,k),v(t,[{key:"addProducer",value:function(e){var t,r,o=this,a=e.track;return w.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,a.id),this._trackIds.has(a.id)?Promise.reject(new Error("track already added")):(this._trackIds.add(a.id),Promise.resolve().then(function(){if(t=o._pc.getTransceivers().find(function(e){return e.receiver.track.kind===a.kind&&"inactive"===e.direction}))return w.debug("addProducer() | reusing an inactive transceiver"),t.direction="sendonly",t.sender.replaceTrack(a);t=o._pc.addTransceiver(a,{direction:"sendonly"})}).then(function(){return o._pc.createOffer()}).then(function(r){if(e.simulcast){w.debug("addProducer() | enabling simulcast");var i=n.default.parse(r.sdp);l.addPlanBSimulcast(i,a,{mid:t.mid}),r={type:"offer",sdp:n.default.write(i)}}return w.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",r),o._pc.setLocalDescription(r)}).then(function(){if(!o._transportReady)return o._setupTransport()}).then(function(){r=n.default.parse(o._pc.localDescription.sdp);var e={type:"answer",sdp:o._remoteSdp.createAnswerSdp(r)};return w.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",e),o._pc.setRemoteDescription(e)}).then(function(){var n=i.clone(o._rtpParametersByKind[e.kind]);return l.fillRtpParametersForTrack(n,r,a,{mid:t.mid,planBSimulcast:!0}),n}).catch(function(e){try{t.direction="inactive"}catch(r){}throw o._trackIds.delete(a.id),e}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;return this._trackIds.has(r.id)?(w.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),Promise.resolve().then(function(){var e=t._pc.getSenders().find(function(e){return e.track===r});if(!e)throw new Error("local track not found");return t._pc.removeTrack(e),t._trackIds.delete(r.id),t._pc.createOffer()}).then(function(e){return w.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return w.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)})):Promise.reject(new Error("track not found"))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;w.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return Promise.resolve().then(function(){var e=r._pc.getSenders().find(function(e){return e.track===n});if(!e)throw new Error("local track not found");return e.replaceTrack(t)}).then(function(){r._trackIds.delete(n.id),r._trackIds.add(t.id)})}},{key:"restartIce",value:function(e){var t=this;return w.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){return t._pc.createOffer({iceRestart:!0})}).then(function(e){return w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)})}},{key:"_setupTransport",value:function(){var e=this;return w.debug("_setupTransport()"),Promise.resolve().then(function(){var t={},r=e._pc.localDescription.sdp,o=n.default.parse(r),a=u.extractDtlsParameters(o);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0})}}]),t}(),P=function(e){function t(e,r){var n;return h(this,t),(n=y(this,g(t).call(this,"recv",e,r)))._transportCreated=!1,n._transportUpdated=!1,n._consumerInfos=new Map,n}return b(t,k),v(t,[{key:"addConsumer",value:function(e){var t=this;if(w.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return Promise.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],n=e.rtpParameters.rtcp.cname,o={mid:"".concat(e.kind[0]).concat(e.id),kind:e.kind,closed:e.closed,streamId:"recv-stream-".concat(e.id),trackId:"consumer-".concat(e.kind,"-").concat(e.id),ssrc:r.ssrc,cname:n};return r.rtx&&r.rtx.ssrc&&(o.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,o),Promise.resolve().then(function(){if(!t._transportCreated)return t._setupTransport()}).then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return w.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){if(!t._transportUpdated)return t._updateTransport()}).then(function(){var e=t._pc.getTransceivers().find(function(e){return e.mid===o.mid});if(!e)throw new Error("remote track not found");return e.receiver.track})}},{key:"removeConsumer",value:function(e){var t=this;w.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind);var r=this._consumerInfos.get(e.id);return r?(r.closed=!0,Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return w.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})):Promise.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return w.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})}},{key:"_setupTransport",value:function(){var e=this;return w.debug("_setupTransport()"),Promise.resolve().then(function(){return e.safeEmitAsPromise("@needcreatetransport",null)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0})}},{key:"_updateTransport",value:function(){w.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=n.default.parse(e),r={dtlsParameters:u.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}}]),t}(),S=function(){function e(t,r,n){var o;switch(h(this,e),w.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r),t){case"send":return o={audio:s.getSendingRtpParameters("audio",r),video:s.getSendingRtpParameters("video",r)},new E(o,n);case"recv":return o={audio:s.getReceivingFullRtpParameters("audio",r),video:s.getReceivingFullRtpParameters("video",r)},new P(o,n)}}return v(e,null,[{key:"getNativeRtpCapabilities",value:function(){w.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});return e.addTransceiver("audio"),e.addTransceiver("video"),e.createOffer().then(function(t){try{e.close()}catch(o){}var r=n.default.parse(t.sdp);return u.extractRtpCapabilities(r)}).catch(function(t){try{e.close()}catch(r){}throw t})}},{key:"tag",get:function(){return"Safari12"}}]),e}();t.default=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(30)),o=f(r(15)),a=f(r(23)),i=d(r(21)),s=d(r(29)),u=d(r(37)),l=d(r(63)),c=f(r(64));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}function y(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=new o.default("Safari11"),k=function(e){function t(e,r,n){var o;h(this,t),(o=y(this,g(t).call(this,w)))._transportOptions="send"===e?n.sendTransportOptions:n.recvTransportOptions;var a=!1!==o._transportOptions.udp&&n.turnServers||[];return o._pc=new RTCPeerConnection({iceServers:a,iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),o._rtpParametersByKind=r,o._remoteSdp=new c.default(e,r),o._pc.addEventListener("iceconnectionstatechange",function(){switch(o._pc.iceConnectionState){case"checking":o.emit("@connectionstatechange","connecting");break;case"connected":case"completed":o.emit("@connectionstatechange","connected");break;case"failed":o.emit("@connectionstatechange","failed");break;case"disconnected":o.emit("@connectionstatechange","disconnected");break;case"closed":o.emit("@connectionstatechange","closed")}}),o}return b(t,a.default),v(t,[{key:"close",value:function(){w.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){w.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}},{key:"peerConnection",get:function(){return this._pc}}]),t}(),E=function(e){function t(e,r){var n;return h(this,t),(n=y(this,g(t).call(this,"send",e,r)))._transportReady=!1,n._stream=new MediaStream,n}return b(t,k),v(t,[{key:"addProducer",value:function(e){var t,r,o=this,a=e.track;return w.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,a.id),this._stream.getTrackById(a.id)?Promise.reject(new Error("track already added")):Promise.resolve().then(function(){return o._stream.addTrack(a),t=o._pc.addTrack(a,o._stream),o._pc.createOffer()}).then(function(e){return w.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",e),o._pc.setLocalDescription(e)}).then(function(){if(!o._transportReady)return o._setupTransport()}).then(function(){r=n.default.parse(o._pc.localDescription.sdp);var e={type:"answer",sdp:o._remoteSdp.createAnswerSdp(r)};return w.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",e),o._pc.setRemoteDescription(e)}).then(function(){var t=i.clone(o._rtpParametersByKind[e.kind]);return l.fillRtpParametersForTrack(t,r,a),t}).catch(function(e){try{o._pc.removeTrack(t)}catch(r){}throw o._stream.removeTrack(a),e})}},{key:"removeProducer",value:function(e){var t=this,r=e.track;return w.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),Promise.resolve().then(function(){var e=t._pc.getSenders().find(function(e){return e.track===r});if(!e)throw new Error("RTCRtpSender not found");return t._pc.removeTrack(e),t._stream.removeTrack(r),t._pc.createOffer()}).then(function(e){return w.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).catch(function(e){if(0!==t._stream.getTracks().length)throw e;w.warn("removeProducer() | ignoring expected error due no sending tracks: %s",e.toString())}).then(function(){if("stable"!==t._pc.signalingState){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return w.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)}})}},{key:"replaceProducerTrack",value:function(e,t){var r=this;w.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return Promise.resolve().then(function(){var e=r._pc.getSenders().find(function(e){return e.track===n});if(!e)throw new Error("local track not found");return e.replaceTrack(t)}).then(function(){r._stream.removeTrack(n),r._stream.addTrack(t)})}},{key:"restartIce",value:function(e){var t=this;return w.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){return t._pc.createOffer({iceRestart:!0})}).then(function(e){return w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)})}},{key:"_setupTransport",value:function(){var e=this;return w.debug("_setupTransport()"),Promise.resolve().then(function(){var t={},r=e._pc.localDescription.sdp,o=n.default.parse(r),a=u.extractDtlsParameters(o);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0})}}]),t}(),P=function(e){function t(e,r){var n;return h(this,t),(n=y(this,g(t).call(this,"recv",e,r)))._transportCreated=!1,n._transportUpdated=!1,n._kinds=new Set,n._consumerInfos=new Map,n}return b(t,k),v(t,[{key:"addConsumer",value:function(e){var t=this;if(w.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return Promise.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],n=e.rtpParameters.rtcp.cname,o={kind:e.kind,streamId:"recv-stream-".concat(e.id),trackId:"consumer-".concat(e.kind,"-").concat(e.id),ssrc:r.ssrc,cname:n};return r.rtx&&r.rtx.ssrc&&(o.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,o),this._kinds.add(e.kind),Promise.resolve().then(function(){if(!t._transportCreated)return t._setupTransport()}).then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};return w.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){if(!t._transportUpdated)return t._updateTransport()}).then(function(){var e=t._pc.getReceivers().find(function(e){var t=e.track;return!!t&&t.id===o.trackId});if(!e)throw new Error("remote track not found");return e.track})}},{key:"removeConsumer",value:function(e){var t=this;return w.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id)?(this._consumerInfos.delete(e.id),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};return w.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})):Promise.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return w.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};return w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})}},{key:"_setupTransport",value:function(){var e=this;return w.debug("_setupTransport()"),Promise.resolve().then(function(){return e.safeEmitAsPromise("@needcreatetransport",null)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0})}},{key:"_updateTransport",value:function(){w.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=n.default.parse(e),r={dtlsParameters:u.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}}]),t}(),S=function(){function e(t,r,n){var o;switch(h(this,e),w.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r),t){case"send":return o={audio:s.getSendingRtpParameters("audio",r),video:s.getSendingRtpParameters("video",r)},new E(o,n);case"recv":return o={audio:s.getReceivingFullRtpParameters("audio",r),video:s.getReceivingFullRtpParameters("video",r)},new P(o,n)}}return v(e,null,[{key:"getNativeRtpCapabilities",value:function(){w.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});return e.addTransceiver("audio"),e.addTransceiver("video"),e.createOffer().then(function(t){try{e.close()}catch(o){}var r=n.default.parse(t.sdp);return u.extractRtpCapabilities(r)}).catch(function(t){try{e.close()}catch(r){}throw t})}},{key:"tag",get:function(){return"Safari11"}}]),e}();t.default=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(30)),o=f(r(15)),a=f(r(23)),i=d(r(21)),s=d(r(29)),u=d(r(37)),l=d(r(61)),c=f(r(62));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),e}function g(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=new o.default("Firefox65"),E=function(e){function t(e,r,n){var o;m(this,t),(o=g(this,b(t).call(this,k)))._transportOptions="send"===e?n.sendTransportOptions:n.recvTransportOptions;var a=!1!==o._transportOptions.udp&&n.turnServers||[];return o._pc=new RTCPeerConnection({iceServers:a,iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),o._rtpParametersByKind=r,o._remoteSdp=new c.default(e,r),o._pc.addEventListener("iceconnectionstatechange",function(){switch(o._pc.iceConnectionState){case"checking":o.emit("@connectionstatechange","connecting");break;case"connected":case"completed":o.emit("@connectionstatechange","connected");break;case"failed":o.emit("@connectionstatechange","failed");break;case"disconnected":o.emit("@connectionstatechange","disconnected");break;case"closed":o.emit("@connectionstatechange","closed")}}),o}return _(t,a.default),y(t,[{key:"close",value:function(){k.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){k.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}},{key:"peerConnection",get:function(){return this._pc}}]),t}(),P=function(e){function t(e,r){var n;return m(this,t),(n=g(this,b(t).call(this,"send",e,r)))._transportReady=!1,n._trackIds=new Set,n._nextRid=1,n}return _(t,E),y(t,[{key:"addProducer",value:function(e){var t,r,o=this,a=e.track;return k.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,a.id),this._trackIds.has(a.id)?Promise.reject(new Error("track already added")):(this._trackIds.add(a.id),Promise.resolve().then(function(){if(t=o._pc.getTransceivers().find(function(e){return e.receiver.track.kind===a.kind&&"inactive"===e.direction}))return k.debug("addProducer() | reusing an inactive transceiver"),t.direction="sendonly",t.sender.replaceTrack(a);t=o._pc.addTransceiver(a,{direction:"sendonly"})}).then(function(){var r=t.sender,n=[];e.simulcast&&(k.debug("addProducer() | enabling simulcast"),e.simulcast.high&&n.push({rid:"high".concat(o._nextRid),active:!0,priority:"low",maxBitrate:e.simulcast.high}),e.simulcast.medium&&n.push({rid:"medium".concat(o._nextRid),active:!0,priority:"medium",maxBitrate:e.simulcast.medium}),e.simulcast.low&&n.push({rid:"low".concat(o._nextRid),active:!0,priority:"high",maxBitrate:e.simulcast.low}),o._nextRid++);var a=r.getParameters();return r.setParameters(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){p(e,t,r[t])})}return e}({},a,{encodings:n}))}).then(function(){return o._pc.createOffer()}).then(function(e){return k.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",e),o._pc.setLocalDescription(e)}).then(function(){if(!o._transportReady)return o._setupTransport()}).then(function(){r=n.default.parse(o._pc.localDescription.sdp);var e={type:"answer",sdp:o._remoteSdp.createAnswerSdp(r)};return k.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",e),o._pc.setRemoteDescription(e)}).then(function(){var n=i.clone(o._rtpParametersByKind[e.kind]);return l.fillRtpParametersForTrack(n,r,a,{mid:t.mid}),n}).catch(function(e){try{t.direction="inactive"}catch(r){}throw o._trackIds.delete(a.id),e}))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;return this._trackIds.has(r.id)?(k.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),Promise.resolve().then(function(){var e=t._pc.getSenders().find(function(e){return e.track===r});if(!e)throw new Error("local track not found");return t._pc.removeTrack(e),t._trackIds.delete(r.id),t._pc.createOffer()}).then(function(e){return k.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return k.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)})):Promise.reject(new Error("track not found"))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;k.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return Promise.resolve().then(function(){var e=r._pc.getSenders().find(function(e){return e.track===n});if(!e)throw new Error("local track not found");return e.replaceTrack(t)}).then(function(){r._trackIds.delete(n.id),r._trackIds.add(t.id)})}},{key:"restartIce",value:function(e){var t=this;return k.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){return t._pc.createOffer({iceRestart:!0})}).then(function(e){return k.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return k.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)})}},{key:"_setupTransport",value:function(){var e=this;return k.debug("_setupTransport()"),Promise.resolve().then(function(){var t={},r=e._pc.localDescription.sdp,o=n.default.parse(r),a=u.extractDtlsParameters(o);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0})}}]),t}(),S=function(e){function t(e,r){var n;return m(this,t),(n=g(this,b(t).call(this,"recv",e,r)))._transportCreated=!1,n._transportUpdated=!1,n._consumerInfos=new Map,n}return _(t,E),y(t,[{key:"addConsumer",value:function(e){var t=this;if(k.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return Promise.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],n=e.rtpParameters.rtcp.cname,o={mid:"".concat(e.kind[0]).concat(e.id),kind:e.kind,closed:e.closed,streamId:"recv-stream-".concat(e.id),trackId:"consumer-".concat(e.kind,"-").concat(e.id),ssrc:r.ssrc,cname:n};return r.rtx&&r.rtx.ssrc&&(o.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,o),Promise.resolve().then(function(){if(!t._transportCreated)return t._setupTransport()}).then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return k.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return k.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){if(!t._transportUpdated)return t._updateTransport()}).then(function(){var e=t._pc.getTransceivers().find(function(e){return e.mid===o.mid});if(!e)throw new Error("remote track not found");return e.receiver.track})}},{key:"removeConsumer",value:function(e){var t=this;k.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind);var r=this._consumerInfos.get(e.id);return r?(r.closed=!0,Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return k.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return k.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})):Promise.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return k.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return k.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return k.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})}},{key:"_setupTransport",value:function(){var e=this;return k.debug("_setupTransport()"),Promise.resolve().then(function(){return e.safeEmitAsPromise("@needcreatetransport",null)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0})}},{key:"_updateTransport",value:function(){k.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=n.default.parse(e),r={dtlsParameters:u.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}}]),t}(),x=function(){function e(t,r,n){var o;switch(m(this,e),k.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r),t){case"send":return o={audio:s.getSendingRtpParameters("audio",r),video:s.getSendingRtpParameters("video",r)},new P(o,n);case"recv":return o={audio:s.getReceivingFullRtpParameters("audio",r),video:s.getReceivingFullRtpParameters("video",r)},new S(o,n)}}return y(e,null,[{key:"getNativeRtpCapabilities",value:function(){k.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),t=document.createElement("canvas");t.getContext("2d");var r=t.captureStream(),o=r.getVideoTracks()[0];return e.addTrack(o,r).setParameters({encodings:[{rid:"RID1",maxBitrate:4e4},{rid:"RID2",maxBitrate:1e4}]}),e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(function(r){try{t.remove()}catch(i){}try{o.stop()}catch(i){}try{e.close()}catch(i){}var a=n.default.parse(r.sdp);return u.extractRtpCapabilities(a)}).catch(function(r){try{t.remove()}catch(n){}try{o.stop()}catch(n){}try{e.close()}catch(n){}throw r})}},{key:"tag",get:function(){return"Firefox65"}}]),e}();t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(30)),o=f(r(15)),a=f(r(23)),i=d(r(21)),s=d(r(29)),u=d(r(37)),l=d(r(61)),c=f(r(62));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),e}function g(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=new o.default("Firefox59"),E=function(e){function t(e,r,n){var o;m(this,t),(o=g(this,b(t).call(this,k)))._transportOptions="send"===e?n.sendTransportOptions:n.recvTransportOptions;var a=!1!==o._transportOptions.udp&&n.turnServers||[];return o._pc=new RTCPeerConnection({iceServers:a,iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),o._rtpParametersByKind=r,o._remoteSdp=new c.default(e,r),o._pc.addEventListener("iceconnectionstatechange",function(){switch(o._pc.iceConnectionState){case"checking":o.emit("@connectionstatechange","connecting");break;case"connected":case"completed":o.emit("@connectionstatechange","connected");break;case"failed":o.emit("@connectionstatechange","failed");break;case"disconnected":o.emit("@connectionstatechange","disconnected");break;case"closed":o.emit("@connectionstatechange","closed")}}),o}return _(t,a.default),y(t,[{key:"close",value:function(){k.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){k.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}},{key:"peerConnection",get:function(){return this._pc}}]),t}(),P=function(e){function t(e,r){var n;return m(this,t),(n=g(this,b(t).call(this,"send",e,r)))._transportReady=!1,n._stream=new MediaStream,n._nextRid=1,n}return _(t,E),y(t,[{key:"addProducer",value:function(e){var t,r,o=this,a=e.track;return k.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,a.id),this._stream.getTrackById(a.id)?Promise.reject(new Error("track already added")):Promise.resolve().then(function(){o._stream.addTrack(a),t=o._pc.addTrack(a,o._stream)}).then(function(){var r=[];e.simulcast&&(k.debug("addProducer() | enabling simulcast"),e.simulcast.high&&r.push({rid:"high".concat(o._nextRid),active:!0,priority:"low",maxBitrate:e.simulcast.high}),e.simulcast.medium&&r.push({rid:"medium".concat(o._nextRid),active:!0,priority:"medium",maxBitrate:e.simulcast.medium}),e.simulcast.low&&r.push({rid:"low".concat(o._nextRid),active:!0,priority:"high",maxBitrate:e.simulcast.low}),o._nextRid++);var n=t.getParameters();return t.setParameters(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){p(e,t,r[t])})}return e}({},n,{encodings:r}))}).then(function(){return o._pc.createOffer()}).then(function(e){return k.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",e),o._pc.setLocalDescription(e)}).then(function(){if(!o._transportReady)return o._setupTransport()}).then(function(){r=n.default.parse(o._pc.localDescription.sdp);var e={type:"answer",sdp:o._remoteSdp.createAnswerSdp(r)};return k.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",e),o._pc.setRemoteDescription(e)}).then(function(){var t=i.clone(o._rtpParametersByKind[e.kind]);return l.fillRtpParametersForTrack(t,r,a),t}).catch(function(e){try{o._pc.removeTrack(t)}catch(r){}throw o._stream.removeTrack(a),e})}},{key:"removeProducer",value:function(e){var t=this,r=e.track;return k.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),Promise.resolve().then(function(){var e=t._pc.getSenders().find(function(e){return e.track===r});if(!e)throw new Error("RTCRtpSender not found");return t._pc.removeTrack(e),t._stream.removeTrack(r),t._pc.createOffer()}).then(function(e){return k.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return k.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)})}},{key:"replaceProducerTrack",value:function(e,t){var r=this;k.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return Promise.resolve().then(function(){var e=r._pc.getSenders().find(function(e){return e.track===n});if(!e)throw new Error("local track not found");return e.replaceTrack(t)}).then(function(){r._stream.removeTrack(n),r._stream.addTrack(t)})}},{key:"restartIce",value:function(e){var t=this;return k.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){return t._pc.createOffer({iceRestart:!0})}).then(function(e){return k.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return k.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)})}},{key:"_setupTransport",value:function(){var e=this;return k.debug("_setupTransport()"),Promise.resolve().then(function(){var t={},r=e._pc.localDescription.sdp,o=n.default.parse(r),a=u.extractDtlsParameters(o);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0})}}]),t}(),S=function(e){function t(e,r){var n;return m(this,t),(n=g(this,b(t).call(this,"recv",e,r)))._transportCreated=!1,n._transportUpdated=!1,n._consumerInfos=new Map,n}return _(t,E),y(t,[{key:"addConsumer",value:function(e){var t=this;if(k.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return Promise.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],n=e.rtpParameters.rtcp.cname,o={mid:"".concat(e.kind[0]).concat(e.id),kind:e.kind,closed:e.closed,streamId:"recv-stream-".concat(e.id),trackId:"consumer-".concat(e.kind,"-").concat(e.id),ssrc:r.ssrc,cname:n};return r.rtx&&r.rtx.ssrc&&(o.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,o),Promise.resolve().then(function(){if(!t._transportCreated)return t._setupTransport()}).then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return k.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return k.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){if(!t._transportUpdated)return t._updateTransport()}).then(function(){var e=t._pc.getTransceivers().find(function(e){var t=e.receiver;return!!t&&(!!t.track&&e.mid===o.mid)});if(!e)throw new Error("remote track not found");return e.receiver.track})}},{key:"removeConsumer",value:function(e){var t=this;k.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind);var r=this._consumerInfos.get(e.id);return r?(r.closed=!0,Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return k.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return k.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})):Promise.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return k.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return k.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return k.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})}},{key:"_setupTransport",value:function(){var e=this;return k.debug("_setupTransport()"),Promise.resolve().then(function(){return e.safeEmitAsPromise("@needcreatetransport",null)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0})}},{key:"_updateTransport",value:function(){k.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=n.default.parse(e),r={dtlsParameters:u.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}}]),t}(),x=function(){function e(t,r,n){var o;switch(m(this,e),k.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r),t){case"send":return o={audio:s.getSendingRtpParameters("audio",r),video:s.getSendingRtpParameters("video",r)},new P(o,n);case"recv":return o={audio:s.getReceivingFullRtpParameters("audio",r),video:s.getReceivingFullRtpParameters("video",r)},new S(o,n)}}return y(e,null,[{key:"getNativeRtpCapabilities",value:function(){k.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),t=document.createElement("canvas");t.getContext("2d");var r=t.captureStream(),o=r.getVideoTracks()[0];return e.addTrack(o,r).setParameters({encodings:[{rid:"RID1",maxBitrate:4e4},{rid:"RID2",maxBitrate:1e4}]}),e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(function(r){try{t.remove()}catch(i){}try{o.stop()}catch(i){}try{e.close()}catch(i){}var a=n.default.parse(r.sdp);return u.extractRtpCapabilities(a)}).catch(function(r){try{t.remove()}catch(n){}try{o.stop()}catch(n){}try{e.close()}catch(n){}throw r})}},{key:"tag",get:function(){return"Firefox59"}}]),e}();t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(30)),o=f(r(15)),a=f(r(23)),i=d(r(21)),s=d(r(29)),u=d(r(37)),l=d(r(61)),c=f(r(62));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),e}function g(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=new o.default("Firefox50"),E=function(e){function t(e,r,n){var o;m(this,t),(o=g(this,b(t).call(this,k)))._transportOptions="send"===e?n.sendTransportOptions:n.recvTransportOptions;var a=!1!==o._transportOptions.udp&&n.turnServers||[];return o._pc=new RTCPeerConnection({iceServers:a,iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),o._rtpParametersByKind=r,o._remoteSdp=new c.default(e,r),o._pc.addEventListener("iceconnectionstatechange",function(){switch(o._pc.iceConnectionState){case"checking":o.emit("@connectionstatechange","connecting");break;case"connected":case"completed":o.emit("@connectionstatechange","connected");break;case"failed":o.emit("@connectionstatechange","failed");break;case"disconnected":o.emit("@connectionstatechange","disconnected");break;case"closed":o.emit("@connectionstatechange","closed")}}),o}return _(t,a.default),y(t,[{key:"close",value:function(){k.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){k.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}},{key:"peerConnection",get:function(){return this._pc}}]),t}(),P=function(e){function t(e,r){var n;return m(this,t),(n=g(this,b(t).call(this,"send",e,r)))._transportReady=!1,n._stream=new MediaStream,n._nextRid=1,n}return _(t,E),y(t,[{key:"addProducer",value:function(e){var t,r,o=this,a=e.track;return k.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,a.id),this._stream.getTrackById(a.id)?Promise.reject(new Error("track already added")):Promise.resolve().then(function(){o._stream.addTrack(a),t=o._pc.addTrack(a,o._stream)}).then(function(){var r=[];e.simulcast&&(k.debug("addProducer() | enabling simulcast"),e.simulcast.high&&r.push({rid:"high".concat(o._nextRid),active:!0,priority:"low",maxBitrate:e.simulcast.high}),e.simulcast.medium&&r.push({rid:"medium".concat(o._nextRid),active:!0,priority:"medium",maxBitrate:e.simulcast.medium}),e.simulcast.low&&r.push({rid:"low".concat(o._nextRid),active:!0,priority:"high",maxBitrate:e.simulcast.low}),o._nextRid++);var n=t.getParameters();return t.setParameters(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){p(e,t,r[t])})}return e}({},n,{encodings:r}))}).then(function(){return o._pc.createOffer()}).then(function(e){return k.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",e),o._pc.setLocalDescription(e)}).then(function(){if(!o._transportReady)return o._setupTransport()}).then(function(){r=n.default.parse(o._pc.localDescription.sdp);var e={type:"answer",sdp:o._remoteSdp.createAnswerSdp(r)};return k.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",e),o._pc.setRemoteDescription(e)}).then(function(){var t=i.clone(o._rtpParametersByKind[e.kind]);return l.fillRtpParametersForTrack(t,r,a),t}).catch(function(e){try{o._pc.removeTrack(t)}catch(r){}throw o._stream.removeTrack(a),e})}},{key:"removeProducer",value:function(e){var t=this,r=e.track;return k.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),Promise.resolve().then(function(){var e=t._pc.getSenders().find(function(e){return e.track===r});if(!e)throw new Error("RTCRtpSender not found");return t._pc.removeTrack(e),t._stream.removeTrack(r),t._pc.createOffer()}).then(function(e){return k.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return k.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)})}},{key:"replaceProducerTrack",value:function(e,t){var r=this;k.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id);var n=e.track;return Promise.resolve().then(function(){var e=r._pc.getSenders().find(function(e){return e.track===n});if(!e)throw new Error("local track not found");return e.replaceTrack(t)}).then(function(){r._stream.removeTrack(n),r._stream.addTrack(t)})}},{key:"restartIce",value:function(e){var t=this;return k.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){return t._pc.createOffer({iceRestart:!0})}).then(function(e){return k.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};return k.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),t._pc.setRemoteDescription(r)})}},{key:"_setupTransport",value:function(){var e=this;return k.debug("_setupTransport()"),Promise.resolve().then(function(){var t={},r=e._pc.localDescription.sdp,o=n.default.parse(r),a=u.extractDtlsParameters(o);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0})}}]),t}(),S=function(e){function t(e,r){var n;m(this,t),(n=g(this,b(t).call(this,"recv",e,r)))._transportCreated=!1,n._transportUpdated=!1,n._consumerInfos=new Map;return n._consumerInfos.set(555,{mid:"fake-dc",kind:"application",closed:!1,cname:null}),n}return _(t,E),y(t,[{key:"addConsumer",value:function(e){var t=this;if(k.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return Promise.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],n=e.rtpParameters.rtcp.cname,o={mid:"".concat(e.kind[0]).concat(e.id),kind:e.kind,closed:e.closed,streamId:"recv-stream-".concat(e.id),trackId:"consumer-".concat(e.kind,"-").concat(e.id),ssrc:r.ssrc,cname:n};return r.rtx&&r.rtx.ssrc&&(o.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,o),Promise.resolve().then(function(){if(!t._transportCreated)return t._setupTransport()}).then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return k.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return k.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){if(!t._transportUpdated)return t._updateTransport()}).then(function(){var e=t._pc.getReceivers().find(function(e){var t=e.track;return!!t&&t.id===o.trackId});if(!e)throw new Error("remote track not found");return e.track})}},{key:"removeConsumer",value:function(e){var t=this;k.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind);var r=this._consumerInfos.get(e.id);return r?(r.closed=!0,Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return k.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return k.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})):Promise.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return k.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._consumerInfos.values()))};return k.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e),t._pc.setRemoteDescription(e)}).then(function(){return t._pc.createAnswer()}).then(function(e){return k.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})}},{key:"_setupTransport",value:function(){var e=this;return k.debug("_setupTransport()"),Promise.resolve().then(function(){return e.safeEmitAsPromise("@needcreatetransport",null)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0})}},{key:"_updateTransport",value:function(){k.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=n.default.parse(e),r={dtlsParameters:u.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}}]),t}(),x=function(){function e(t,r,n){var o;switch(m(this,e),k.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r),t){case"send":return o={audio:s.getSendingRtpParameters("audio",r),video:s.getSendingRtpParameters("video",r)},new P(o,n);case"recv":return o={audio:s.getReceivingFullRtpParameters("audio",r),video:s.getReceivingFullRtpParameters("video",r)},new S(o,n)}}return y(e,null,[{key:"getNativeRtpCapabilities",value:function(){k.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),t=document.createElement("canvas");t.getContext("2d");var r=t.captureStream(),o=r.getVideoTracks()[0];return e.addTrack(o,r).setParameters({encodings:[{rid:"RID1",maxBitrate:4e4},{rid:"RID2",maxBitrate:1e4}]}),e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(function(r){try{t.remove()}catch(i){}try{o.stop()}catch(i){}try{e.close()}catch(i){}var a=n.default.parse(r.sdp);return u.extractRtpCapabilities(a)}).catch(function(r){try{t.remove()}catch(n){}try{o.stop()}catch(n){}try{e.close()}catch(n){}throw r})}},{key:"tag",get:function(){return"Firefox50"}}]),e}();t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(15)),o=l(r(23)),a=u(r(21)),i=u(r(29)),s=u(r(348));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v="CNAME-EDGE-".concat(a.randomNumber()),y=new n.default("Edge11"),g=function(e){function t(e,r,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=d(this,f(t).call(this,y)))._transportOptions="send"===e?n.sendTransportOptions:n.recvTransportOptions,y.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",e,r),o._rtpParametersByKind={audio:i.getSendingRtpParameters("audio",r),video:i.getSendingRtpParameters("video",r)},o._transportReady=!1,o._iceGatherer=null,o._iceTransport=null,o._dtlsTransport=null,o._rtpSenders=new Map,o._rtpReceivers=new Map,o._transportRemoteParameters=null,o._setIceGatherer(n),o._setIceTransport(),o._setDtlsTransport(),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.default),h(t,null,[{key:"getNativeRtpCapabilities",value:function(){return y.debug("getNativeRtpCapabilities()"),Promise.resolve(s.getCapabilities())}},{key:"tag",get:function(){return"Edge11"}}]),h(t,[{key:"close",value:function(){y.debug("close()");try{this._iceGatherer.close()}catch(f){}try{this._iceTransport.stop()}catch(f){}try{this._dtlsTransport.stop()}catch(f){}var e=!0,t=!1,r=void 0;try{for(var n,o=this._rtpSenders.values()[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var a=n.value;try{a.stop()}catch(f){}}}catch(p){t=!0,r=p}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}var i=!0,s=!1,u=void 0;try{for(var l,c=this._rtpReceivers.values()[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var d=l.value;try{d.stop()}catch(f){}}}catch(p){s=!0,u=p}finally{try{i||null==c.return||c.return()}finally{if(s)throw u}}}},{key:"remoteClosed",value:function(){y.debug("remoteClosed()"),this._transportReady=!1}},{key:"addProducer",value:function(e){var t=this,r=e.track;return y.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),this._rtpSenders.has(e.id)?Promise.reject(new Error("Producer already added")):Promise.resolve().then(function(){if(!t._transportReady)return t._setupTransport()}).then(function(){y.debug("addProducer() | calling new RTCRtpSender()");var n=new RTCRtpSender(r,t._dtlsTransport),o=a.clone(t._rtpParametersByKind[e.kind]),i={ssrc:a.randomNumber()};o.codecs.some(function(e){return"rtx"===e.name})&&(i.rtx={ssrc:a.randomNumber()}),o.encodings.push(i),o.rtcp={cname:v,reducedSize:!0,mux:!0};var u=s.mangleRtpParameters(o);return y.debug("addProducer() | calling rtpSender.send() [params:%o]",u),n.send(u),t._rtpSenders.set(e.id,n),o})}},{key:"removeProducer",value:function(e){var t=this,r=e.track;return y.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),Promise.resolve().then(function(){var r=t._rtpSenders.get(e.id);if(!r)throw new Error("RTCRtpSender not found");t._rtpSenders.delete(e.id);try{y.debug("removeProducer() | calling rtpSender.stop()"),r.stop()}catch(n){y.warn("rtpSender.stop() failed:%o",n)}})}},{key:"replaceProducerTrack",value:function(e,t){var r=this;return y.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id),Promise.resolve().then(function(){var n=r._rtpSenders.get(e.id);if(!n)throw new Error("RTCRtpSender not found");n.setTrack(t)})}},{key:"addConsumer",value:function(e){var t=this;return y.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._rtpReceivers.has(e.id)?Promise.reject(new Error("Consumer already added")):Promise.resolve().then(function(){if(!t._transportReady)return t._setupTransport()}).then(function(){y.debug("addConsumer() | calling new RTCRtpReceiver()");var r=new RTCRtpReceiver(t._dtlsTransport,e.kind);r.addEventListener("error",function(e){y.error('iceGatherer "error" event [event:%o]',e)});var n=s.mangleRtpParameters(e.rtpParameters);return n.headerExtensions=n.headerExtensions.filter(function(e){return"urn:ietf:params:rtp-hdrext:sdes:mid"!==e.uri}),y.debug("addConsumer() | calling rtpReceiver.receive() [params:%o]",n),r.receive(n),t._rtpReceivers.set(e.id,r),r.track})}},{key:"removeConsumer",value:function(e){var t=this;return y.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind),Promise.resolve().then(function(){var r=t._rtpReceivers.get(e.id);if(!r)throw new Error("RTCRtpReceiver not found");t._rtpReceivers.delete(e.id);try{y.debug("removeConsumer() | calling rtpReceiver.stop()"),r.stop()}catch(n){y.warn("rtpReceiver.stop() failed:%o",n)}})}},{key:"restartIce",value:function(e){var t=this;y.debug("restartIce()"),Promise.resolve().then(function(){t._transportRemoteParameters.iceParameters=e;var r=t._transportRemoteParameters.iceCandidates;y.debug("restartIce() | calling iceTransport.start()"),t._iceTransport.start(t._iceGatherer,e,"controlling");var n=!0,o=!1,a=void 0;try{for(var i,s=r[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value;t._iceTransport.addRemoteCandidate(u)}}catch(l){o=!0,a=l}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}t._iceTransport.addRemoteCandidate({})})}},{key:"_setIceGatherer",value:function(e){var t=!1!==this._transportOptions.udp&&e.turnServers||[],r=new RTCIceGatherer({iceServers:t,gatherPolicy:e.iceTransportPolicy});r.addEventListener("error",function(e){y.error('iceGatherer "error" event [event:%o]',e)});try{r.gather()}catch(n){y.debug("iceGatherer.gather() failed: %s",n.toString())}this._iceGatherer=r}},{key:"_setIceTransport",value:function(){var e=this,t=new RTCIceTransport(this._iceGatherer);t.addEventListener("statechange",function(){switch(t.state){case"checking":e.emit("@connectionstatechange","connecting");break;case"connected":case"completed":e.emit("@connectionstatechange","connected");break;case"failed":e.emit("@connectionstatechange","failed");break;case"disconnected":e.emit("@connectionstatechange","disconnected");break;case"closed":e.emit("@connectionstatechange","closed")}}),t.addEventListener("icestatechange",function(){switch(t.state){case"checking":e.emit("@connectionstatechange","connecting");break;case"connected":case"completed":e.emit("@connectionstatechange","connected");break;case"failed":e.emit("@connectionstatechange","failed");break;case"disconnected":e.emit("@connectionstatechange","disconnected");break;case"closed":e.emit("@connectionstatechange","closed")}}),t.addEventListener("candidatepairchange",function(e){y.debug('iceTransport "candidatepairchange" event [pair:%o]',e.pair)}),this._iceTransport=t}},{key:"_setDtlsTransport",value:function(){var e=this,t=new RTCDtlsTransport(this._iceTransport);t.addEventListener("statechange",function(){y.debug('dtlsTransport "statechange" event [state:%s]',t.state)}),t.addEventListener("dtlsstatechange",function(){y.debug('dtlsTransport "dtlsstatechange" event [state:%s]',t.state),"closed"===t.state&&e.emit("@connectionstatechange","closed")}),t.addEventListener("error",function(e){y.error('dtlsTransport "error" event [event:%o]',e)}),this._dtlsTransport=t}},{key:"_setupTransport",value:function(){var e=this;return y.debug("_setupTransport()"),Promise.resolve().then(function(){var t={},r=e._dtlsTransport.getLocalParameters();return r.role="server",t.dtlsParameters=r,e.safeEmitAsPromise("@needcreatetransport",t)}).then(function(t){e._transportRemoteParameters=t;var r=t.iceParameters,n=t.iceCandidates,o=t.dtlsParameters;e._iceTransport.start(e._iceGatherer,r,"controlling");var a=!0,i=!1,s=void 0;try{for(var u,l=n[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value;e._iceTransport.addRemoteCandidate(c)}}catch(d){i=!0,s=d}finally{try{a||null==l.return||l.return()}finally{if(i)throw s}}e._iceTransport.addRemoteCandidate({}),o.fingerprints=o.fingerprints.filter(function(e){return"sha-256"===e.algorithm||"sha-384"===e.algorithm||"sha-512"===e.algorithm}),e._dtlsTransport.start(o),e._transportReady=!0})}},{key:"peerConnection",get:function(){return null}}]),t}();t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCapabilities=function(){var e=RTCRtpReceiver.getCapabilities(),t=n.clone(e),r=!0,o=!1,a=void 0;try{for(var i,s=t.codecs[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var u=i.value;if(u.channels=u.numChannels,delete u.numChannels,"audio"!==u.kind?delete u.channels:u.channels||(u.channels=1),u.mimeType="".concat(u.kind,"/").concat(u.name),u.parameters){var l=u.parameters;l.apt&&(l.apt=Number(l.apt)),l["packetization-mode"]&&(l["packetization-mode"]=Number(l["packetization-mode"]))}var c=!0,d=!1,f=void 0;try{for(var p,h=(u.rtcpFeedback||[])[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var m=p.value;m.parameter||delete m.parameter}}catch(v){d=!0,f=v}finally{try{c||null==h.return||h.return()}finally{if(d)throw f}}}}catch(v){o=!0,a=v}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return t},t.mangleRtpParameters=function(e){var t=n.clone(e),r=!0,o=!1,a=void 0;try{for(var i,s=t.codecs[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var u=i.value;u.channels&&(u.numChannels=u.channels,delete u.channels),delete u.mimeType}}catch(l){o=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return t};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(21))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(30)),o=f(r(15)),a=f(r(23)),i=d(r(21)),s=d(r(29)),u=d(r(37)),l=d(r(63)),c=f(r(64));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}function y(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=new o.default("ReactNative"),k=function(e){function t(e,r,n){var o;h(this,t),(o=y(this,g(t).call(this,w)))._transportOptions="send"===e?n.sendTransportOptions:n.recvTransportOptions;var a=!1!==o._transportOptions.udp&&n.turnServers||[];return o._pc=new RTCPeerConnection({iceServers:a,iceTransportPolicy:n.iceTransportPolicy,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),o._rtpParametersByKind=r,o._remoteSdp=new c.default(e,r),o._pc.addEventListener("iceconnectionstatechange",function(){switch(o._pc.iceConnectionState){case"checking":o.emit("@connectionstatechange","connecting");break;case"connected":case"completed":o.emit("@connectionstatechange","connected");break;case"failed":o.emit("@connectionstatechange","failed");break;case"disconnected":o.emit("@connectionstatechange","disconnected");break;case"closed":o.emit("@connectionstatechange","closed")}}),o}return b(t,a.default),v(t,[{key:"close",value:function(){w.debug("close()");try{this._pc.close()}catch(e){}}},{key:"remoteClosed",value:function(){w.debug("remoteClosed()"),this._transportReady=!1,this._transportUpdated&&(this._transportUpdated=!1)}},{key:"peerConnection",get:function(){return this._pc}}]),t}(),E=function(e){function t(e,r){var n;return h(this,t),(n=y(this,g(t).call(this,"send",e,r)))._transportReady=!1,n._tracks=new Set,n}return b(t,k),v(t,[{key:"addProducer",value:function(e){var t,r,o=this,a=e.track;return w.debug("addProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,a.id),this._tracks.has(a)?Promise.reject(new Error("track already added")):a.streamReactTag?Promise.resolve().then(function(){return o._tracks.add(a),(t=new MediaStream(a.streamReactTag)).addTrack(a),o._pc.addStream(t),o._pc.createOffer()}).then(function(t){if(e.simulcast){w.debug("addProducer() | enabling simulcast");var r=n.default.parse(t.sdp);l.addSimulcastForTrack(r,a),t={type:"offer",sdp:n.default.write(r)}}w.debug("addProducer() | calling pc.setLocalDescription() [offer:%o]",t);var i=new RTCSessionDescription(t);return o._pc.setLocalDescription(i)}).then(function(){if(!o._transportReady)return o._setupTransport()}).then(function(){r=n.default.parse(o._pc.localDescription.sdp);var e={type:"answer",sdp:o._remoteSdp.createAnswerSdp(r)};w.debug("addProducer() | calling pc.setRemoteDescription() [answer:%o]",e);var t=new RTCSessionDescription(e);return o._pc.setRemoteDescription(t)}).then(function(){var t=i.clone(o._rtpParametersByKind[e.kind]);return l.fillRtpParametersForTrack(t,r,a),t}).catch(function(e){throw o._tracks.delete(a),t.removeTrack(a),o._pc.removeStream(t),e}):Promise.reject(new Error("no track.streamReactTag property"))}},{key:"removeProducer",value:function(e){var t=this,r=e.track;return w.debug("removeProducer() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,r.id),r.streamReactTag?Promise.resolve().then(function(){t._tracks.delete(r);var e=new MediaStream(r.streamReactTag);return e.addTrack(r),t._pc.removeStream(e),t._pc.createOffer()}).then(function(e){return w.debug("removeProducer() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).catch(function(e){if(0!==t._tracks.size)throw e;w.warn("removeProducer() | ignoring expected error due no sending tracks: %s",e.toString())}).then(function(){if("stable"!==t._pc.signalingState){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};w.debug("removeProducer() | calling pc.setRemoteDescription() [answer:%o]",r);var o=new RTCSessionDescription(r);return t._pc.setRemoteDescription(o)}}):Promise.reject(new Error("no track.streamReactTag property"))}},{key:"replaceProducerTrack",value:function(e,t){var r=this;if(w.debug("replaceProducerTrack() [id:%s, kind:%s, trackId:%s]",e.id,e.kind,t.id),!t.streamReactTag)return Promise.reject(new Error("no track.streamReactTag property"));var o,a,s=e.track;return Promise.resolve().then(function(){return r._tracks.add(t),r._tracks.delete(s),(o=new MediaStream(t.streamReactTag)).addTrack(t),o.removeTrack(s),r._pc.addStream(o),r._pc.createOffer()}).then(function(o){if(e.simulcast){w.debug("addProducer() | enabling simulcast");var a=n.default.parse(o.sdp);l.addSimulcastForTrack(a,t),o={type:"offer",sdp:n.default.write(a)}}w.debug("replaceProducerTrack() | calling pc.setLocalDescription() [offer:%o]",o);var i=new RTCSessionDescription(o);return r._pc.setLocalDescription(i)}).then(function(){a=n.default.parse(r._pc.localDescription.sdp);var e={type:"answer",sdp:r._remoteSdp.createAnswerSdp(a)};w.debug("replaceProducerTrack() | calling pc.setRemoteDescription() [answer:%o]",e);var t=new RTCSessionDescription(e);return r._pc.setRemoteDescription(t)}).then(function(){var n=i.clone(r._rtpParametersByKind[e.kind]);l.fillRtpParametersForTrack(n,a,t),r.safeEmit("@needupdateproducer",e,n)}).catch(function(e){throw r._tracks.delete(t),o.removeTrack(t),r._pc.addStream(o),e})}},{key:"restartIce",value:function(e){var t=this;return w.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){return t._pc.createOffer({iceRestart:!0})}).then(function(e){return w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){var e=n.default.parse(t._pc.localDescription.sdp),r={type:"answer",sdp:t._remoteSdp.createAnswerSdp(e)};w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r);var o=new RTCSessionDescription(r);return t._pc.setRemoteDescription(o)})}},{key:"_setupTransport",value:function(){var e=this;return w.debug("_setupTransport()"),Promise.resolve().then(function(){var t={},r=e._pc.localDescription.sdp,o=n.default.parse(r),a=u.extractDtlsParameters(o);return a.role="server",t.dtlsParameters=a,e._remoteSdp.setTransportLocalParameters(t),e.safeEmitAsPromise("@needcreatetransport",t)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportReady=!0})}}]),t}(),P=function(e){function t(e,r){var n;return h(this,t),(n=y(this,g(t).call(this,"recv",e,r)))._transportCreated=!1,n._transportUpdated=!1,n._kinds=new Set,n._consumerInfos=new Map,n}return b(t,k),v(t,[{key:"addConsumer",value:function(e){var t=this;if(w.debug("addConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id))return Promise.reject(new Error("Consumer already added"));var r=e.rtpParameters.encodings[0],n=e.rtpParameters.rtcp.cname,o={kind:e.kind,streamId:"recv-stream-".concat(e.id),trackId:"consumer-".concat(e.kind,"-").concat(e.id),ssrc:r.ssrc,cname:n};return r.rtx&&r.rtx.ssrc&&(o.rtxSsrc=r.rtx.ssrc),this._consumerInfos.set(e.id,o),this._kinds.add(e.kind),Promise.resolve().then(function(){if(!t._transportCreated)return t._setupTransport()}).then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};w.debug("addConsumer() | calling pc.setRemoteDescription() [offer:%o]",e);var r=new RTCSessionDescription(e);return t._pc.setRemoteDescription(r)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("addConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)}).then(function(){if(!t._transportUpdated)return t._updateTransport()}).then(function(){var e=t._pc.getRemoteStreams().find(function(e){return e.id===o.streamId}),r=e.getTrackById(o.trackId);if(r.streamReactTag=e.reactTag,!r)throw new Error("remote track not found");return r})}},{key:"removeConsumer",value:function(e){var t=this;return w.debug("removeConsumer() [id:%s, kind:%s]",e.id,e.kind),this._consumerInfos.has(e.id)?(this._consumerInfos.delete(e.id),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};w.debug("removeConsumer() | calling pc.setRemoteDescription() [offer:%o]",e);var r=new RTCSessionDescription(e);return t._pc.setRemoteDescription(r)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("removeConsumer() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})):Promise.reject(new Error("Consumer not found"))}},{key:"restartIce",value:function(e){var t=this;return w.debug("restartIce()"),this._remoteSdp.updateTransportRemoteIceParameters(e),Promise.resolve().then(function(){var e={type:"offer",sdp:t._remoteSdp.createOfferSdp(Array.from(t._kinds),Array.from(t._consumerInfos.values()))};w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",e);var r=new RTCSessionDescription(e);return t._pc.setRemoteDescription(r)}).then(function(){return t._pc.createAnswer()}).then(function(e){return w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",e),t._pc.setLocalDescription(e)})}},{key:"_setupTransport",value:function(){var e=this;return w.debug("_setupTransport()"),Promise.resolve().then(function(){return e.safeEmitAsPromise("@needcreatetransport",null)}).then(function(t){e._remoteSdp.setTransportRemoteParameters(t),e._transportCreated=!0})}},{key:"_updateTransport",value:function(){w.debug("_updateTransport()");var e=this._pc.localDescription.sdp,t=n.default.parse(e),r={dtlsParameters:u.extractDtlsParameters(t)};this.safeEmit("@needupdatetransport",r),this._transportUpdated=!0}}]),t}(),S=function(){function e(t,r,n){var o;switch(h(this,e),w.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",t,r),t){case"send":return o={audio:s.getSendingRtpParameters("audio",r),video:s.getSendingRtpParameters("video",r)},new E(o,n);case"recv":return o={audio:s.getReceivingFullRtpParameters("audio",r),video:s.getReceivingFullRtpParameters("video",r)},new P(o,n)}}return v(e,null,[{key:"getNativeRtpCapabilities",value:function(){w.debug("getNativeRtpCapabilities()");var e=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});return e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(function(t){try{e.close()}catch(o){}var r=n.default.parse(t.sdp);return u.extractRtpCapabilities(r)}).catch(function(t){try{e.close()}catch(r){}throw t})}},{key:"tag",get:function(){return"ReactNative"}}]),e}();t.default=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(r(15)),o=f(r(23)),a=r(78),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(29)),s=f(r(133)),u=f(r(351)),l=f(r(353)),c=f(r(354)),d=f(r(355));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=new n.default("Room"),b={new:"new",joining:"joining",joined:"joined",closed:"closed"},_=function(e){function t(e){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=m(this,v(t).call(this,g)),g.debug("constructor() [options:%o]",e),!s.default.isSupported())throw new Error("current browser/device not supported");return e=e||{},r._settings={roomSettings:e.roomSettings,requestTimeout:e.requestTimeout||3e4,sendTransportOptions:e.sendTransportOptions||{},recvTransportOptions:e.recvTransportOptions||{},turnServers:e.turnServers||[],iceTransportPolicy:e.iceTransportPolicy||"all",spy:Boolean(e.spy)},r._state=b.new,r._peerName=null,r._transports=new Map,r._producers=new Map,r._peers=new Map,r._extendedRtpCapabilities=null,r._canSendByKind={audio:!1,video:!1},r}var r,n,f;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.default),r=t,(n=[{key:"getTransportById",value:function(e){return this._transports.get(e)}},{key:"getProducerById",value:function(e){return this._producers.get(e)}},{key:"getPeerByName",value:function(e){return this._peers.get(e)}},{key:"join",value:function(e,t){var r,n=this;return g.debug('join() [peerName:"%s"]',e),"string"!==typeof e?Promise.reject(new TypeError("invalid peerName")):this._state!==b.new&&this._state!==b.closed?Promise.reject(new a.InvalidStateError('invalid state "'.concat(this._state,'"'))):(this._peerName=e,this._state=b.joining,Promise.resolve().then(function(){return n._settings.roomSettings?void(r=n._settings.roomSettings):n._sendRequest("queryRoom",{target:"room"}).then(function(e){r=e,g.debug("join() | got Room settings:%o",r)})}).then(function(){return s.default.Handler.getNativeRtpCapabilities()}).then(function(e){g.debug("join() | native RTP capabilities:%o",e),n._extendedRtpCapabilities=i.getExtendedRtpCapabilities(e,r.rtpCapabilities),g.debug("join() | extended RTP capabilities:%o",n._extendedRtpCapabilities);var o=i.getUnsupportedCodecs(r.rtpCapabilities,r.mandatoryCodecPayloadTypes,n._extendedRtpCapabilities);if(o.length>0)throw g.error("%s mandatory room codecs not supported:%o",o.length,o),new a.UnsupportedError("mandatory room codecs not supported",o);n._canSendByKind.audio=i.canSend("audio",n._extendedRtpCapabilities),n._canSendByKind.video=i.canSend("video",n._extendedRtpCapabilities);var s=i.getRtpCapabilities(n._extendedRtpCapabilities);g.debug("join() | effective local RTP capabilities for receiving:%o",s);var u={target:"room",peerName:n._peerName,rtpCapabilities:s,spy:n._settings.spy,appData:t};return n._sendRequest("join",u).then(function(e){return e.peers})}).then(function(e){var t=!0,r=!1,o=void 0;try{for(var a,i=(e||[])[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;try{n._handlePeerData(s)}catch(u){g.error("join() | error handling Peer:%o",u)}}}catch(l){r=!0,o=l}finally{try{t||null==i.return||i.return()}finally{if(r)throw o}}return n._state=b.joined,g.debug("join() | joined the Room"),n.peers}).catch(function(e){throw n._state=b.new,e}))}},{key:"leave",value:function(e){if(g.debug("leave()"),!this.closed){this._sendNotification("leave",{appData:e}),this._state=b.closed,this.safeEmit("close","local",e);var t=!0,r=!1,n=void 0;try{for(var o,a=this._transports.values()[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){o.value.close()}}catch(v){r=!0,n=v}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}var i=!0,s=!1,u=void 0;try{for(var l,c=this._producers.values()[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){l.value.close()}}catch(v){s=!0,u=v}finally{try{i||null==c.return||c.return()}finally{if(s)throw u}}var d=!0,f=!1,p=void 0;try{for(var h,m=this._peers.values()[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){h.value.close()}}catch(v){f=!0,p=v}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}}}},{key:"remoteClose",value:function(e){if(g.debug("remoteClose()"),!this.closed){this._state=b.closed,this.safeEmit("close","remote",e);var t=!0,r=!1,n=void 0;try{for(var o,a=this._transports.values()[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){o.value.remoteClose(null,{destroy:!0})}}catch(v){r=!0,n=v}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}var i=!0,s=!1,u=void 0;try{for(var l,c=this._producers.values()[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){l.value.remoteClose()}}catch(v){s=!0,u=v}finally{try{i||null==c.return||c.return()}finally{if(s)throw u}}var d=!0,f=!1,p=void 0;try{for(var h,m=this._peers.values()[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){h.value.remoteClose()}}catch(v){f=!0,p=v}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}}}},{key:"canSend",value:function(e){if("audio"!==e&&"video"!==e)throw new TypeError('invalid kind "'.concat(e,'"'));return!(!this.joined||this._settings.spy)&&this._canSendByKind[e]}},{key:"createTransport",value:function(e,t){var r=this;if(g.debug("createTransport() [direction:%s]",e),!this.joined)throw new a.InvalidStateError('invalid state "'.concat(this._state,'"'));if("send"!==e&&"recv"!==e)throw new TypeError('invalid direction "'.concat(e,'"'));if("send"===e&&this._settings.spy)throw new TypeError("a spy peer cannot send media to the room");var n=new u.default(e,this._extendedRtpCapabilities,this._settings,t);return this._transports.set(n.id,n),n.on("@request",function(e,t,n,o){r._sendRequest(e,t).then(n).catch(o)}),n.on("@notify",function(e,t){r._sendNotification(e,t)}),n.on("@close",function(){r._transports.delete(n.id)}),n}},{key:"createProducer",value:function(e,t,r){var n=this;if(g.debug("createProducer() [track:%o, options:%o]",e,t),!this.joined)throw new a.InvalidStateError('invalid state "'.concat(this._state,'"'));if(this._settings.spy)throw new Error("a spy peer cannot send media to the room");if(!e)throw new TypeError("no track given");if(!this._canSendByKind[e.kind])throw new Error("cannot send ".concat(e.kind));if("ended"===e.readyState)throw new Error('track.readyState is "ended"');t=t||{};var o=new l.default(e,t,r);return this._producers.set(o.id,o),o.on("@close",function(){n._producers.delete(o.id)}),o}},{key:"restartIce",value:function(){if(this.joined){var e=!0,t=!1,r=void 0;try{for(var n,o=this._transports.values()[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){n.value.restartIce()}}catch(a){t=!0,r=a}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}}else g.warn('restartIce() | invalid state "'.concat(this._state,'"'))}},{key:"receiveNotification",value:function(e){var t=this;if(this.closed)return Promise.reject(new a.InvalidStateError("Room closed"));if("object"!==p(e))return Promise.reject(new TypeError("wrong notification Object"));if(!0!==e.notification)return Promise.reject(new TypeError("not a notification"));if("string"!==typeof e.method)return Promise.reject(new TypeError("wrong/missing notification method"));var r=e.method;return g.debug("receiveNotification() [method:%s, notification:%o]",r,e),Promise.resolve().then(function(){switch(r){case"closed":var n=e.appData;t.remoteClose(n);break;case"transportClosed":var o=e.id,a=e.appData,i=t._transports.get(o);if(!i)throw new Error('Transport not found [id:"'.concat(o,'"]'));i.remoteClose(a,{destroy:!1});break;case"transportStats":var s=e.id,u=e.stats,l=t._transports.get(s);if(!l)throw new Error("Transport not found [id:".concat(s,"]"));l.remoteStats(u);break;case"newPeer":var c=e.name;if(t._peers.has(c))throw new Error('Peer already exists [name:"'.concat(c,'"]'));var d=e;t._handlePeerData(d);break;case"peerClosed":var f=e.name,p=e.appData,h=t._peers.get(f);if(!h)throw new Error('no Peer found [name:"'.concat(f,'"]'));h.remoteClose(p);break;case"producerPaused":var m=e.id,v=e.appData,y=t._producers.get(m);if(!y)throw new Error("Producer not found [id:".concat(m,"]"));y.remotePause(v);break;case"producerResumed":var g=e.id,b=e.appData,_=t._producers.get(g);if(!_)throw new Error("Producer not found [id:".concat(g,"]"));_.remoteResume(b);break;case"producerClosed":var w=e.id,k=e.appData,E=t._producers.get(w);if(!E)throw new Error("Producer not found [id:".concat(w,"]"));E.remoteClose(k);break;case"producerStats":var P=e.id,S=e.stats,x=t._producers.get(P);if(!x)throw new Error("Producer not found [id:".concat(P,"]"));x.remoteStats(S);break;case"newConsumer":var T=e.peerName,C=t._peers.get(T);if(!C)throw new Error('no Peer found [name:"'.concat(T,'"]'));var O=e;t._handleConsumerData(O,C);break;case"consumerClosed":var R=e.id,M=e.peerName,D=e.appData,j=t._peers.get(M);if(!j)throw new Error('no Peer found [name:"'.concat(M,'"]'));var I=j.getConsumerById(R);if(!I)throw new Error("Consumer not found [id:".concat(R,"]"));I.remoteClose(D);break;case"consumerPaused":var A=e.id,N=e.peerName,L=e.appData,F=t._peers.get(N);if(!F)throw new Error('no Peer found [name:"'.concat(N,'"]'));var U=F.getConsumerById(A);if(!U)throw new Error("Consumer not found [id:".concat(A,"]"));U.remotePause(L);break;case"consumerResumed":var B=e.id,V=e.peerName,W=e.appData,z=t._peers.get(V);if(!z)throw new Error('no Peer found [name:"'.concat(V,'"]'));var H=z.getConsumerById(B);if(!H)throw new Error("Consumer not found [id:".concat(B,"]"));H.remoteResume(W);break;case"consumerPreferredProfileSet":var q=e.id,G=e.peerName,K=e.profile,$=t._peers.get(G);if(!$)throw new Error('no Peer found [name:"'.concat(G,'"]'));var Y=$.getConsumerById(q);if(!Y)throw new Error("Consumer not found [id:".concat(q,"]"));Y.remoteSetPreferredProfile(K);break;case"consumerEffectiveProfileChanged":var Q=e.id,X=e.peerName,J=e.profile,Z=t._peers.get(X);if(!Z)throw new Error('no Peer found [name:"'.concat(X,'"]'));var ee=Z.getConsumerById(Q);if(!ee)throw new Error("Consumer not found [id:".concat(Q,"]"));ee.remoteEffectiveProfileChanged(J);break;case"consumerStats":var te=e.id,re=e.peerName,ne=e.stats,oe=t._peers.get(re);if(!oe)throw new Error('no Peer found [name:"'.concat(re,'"]'));var ae=oe.getConsumerById(te);if(!ae)throw new Error("Consumer not found [id:".concat(te,"]"));ae.remoteStats(ne);break;default:throw new Error('unknown notification method "'.concat(r,'"'))}}).catch(function(t){g.error("receiveNotification() failed [notification:%o]: %s",e,t)})}},{key:"_sendRequest",value:function(e,t){var r=this,n=Object.assign({method:e,target:"peer"},t);return this.closed?(g.error("_sendRequest() | Room closed [method:%s, request:%o]",e,n),Promise.reject(new a.InvalidStateError("Room closed"))):(g.debug("_sendRequest() [method:%s, request:%o]",e,n),new Promise(function(t,o){var i=!1,s=setTimeout(function(){g.error("request failed [method:%s]: timeout",e),i=!0,o(new a.TimeoutError("timeout"))},r._settings.requestTimeout);r.safeEmit("request",n,function(n){if(!i){if(i=!0,clearTimeout(s),r.closed)return g.error("request failed [method:%s]: Room closed",e),void o(new Error("Room closed"));g.debug("request succeeded [method:%s, response:%o]",e,n),t(n)}},function(t){if(!i){if(i=!0,clearTimeout(s),r.closed)return g.error("request failed [method:%s]: Room closed",e),void o(new Error("Room closed"));t instanceof Error||(t=new Error(String(t))),g.error("request failed [method:%s]:%o",e,t),o(t)}})}))}},{key:"_sendNotification",value:function(e,t){if(!this.closed){var r=Object.assign({method:e,target:"peer",notification:!0},t);g.debug("_sendNotification() [method:%s, notification:%o]",e,r),this.safeEmit("notify",r)}}},{key:"_handlePeerData",value:function(e){var t=this,r=e.name,n=e.consumers,o=e.appData,a=new c.default(r,o);this._peers.set(a.name,a),a.on("@close",function(){t._peers.delete(a.name)});var i=!0,s=!1,u=void 0;try{for(var l,d=n[Symbol.iterator]();!(i=(l=d.next()).done);i=!0){var f=l.value;try{this._handleConsumerData(f,a)}catch(p){g.error("error handling existing Consumer in Peer:%o",p)}}}catch(h){s=!0,u=h}finally{try{i||null==d.return||d.return()}finally{if(s)throw u}}this.joined&&this.safeEmit("newpeer",a)}},{key:"_handleConsumerData",value:function(e,t){var r=e.id,n=e.kind,o=e.rtpParameters,a=e.paused,s=e.appData,u=new d.default(r,n,o,t,s);i.canReceive(u.rtpParameters,this._extendedRtpCapabilities)&&u.setSupported(!0),a&&u.remotePause(),t.addConsumer(u)}},{key:"joined",get:function(){return this._state===b.joined}},{key:"closed",get:function(){return this._state===b.closed}},{key:"peerName",get:function(){return this._peerName}},{key:"transports",get:function(){return Array.from(this._transports.values())}},{key:"producers",get:function(){return Array.from(this._producers.values())}},{key:"peers",get:function(){return Array.from(this._peers.values())}}])&&h(r.prototype,n),f&&h(r,f),t}();t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(15)),o=l(r(23)),a=r(78),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(21)),s=l(r(133)),u=l(r(352));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=new n.default("Transport"),v=function(e){function t(e,r,n,o){var a,l,d;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l=this,a=!(d=f(t).call(this,m))||"object"!==c(d)&&"function"!==typeof d?p(l):d,m.debug("constructor() [direction:%s, extendedRtpCapabilities:%o]",e,r),a._id=i.randomNumber(),a._closed=!1,a._direction=e,a._settings=n,a._appData=o,a._statsEnabled=!1,a._commandQueue=new u.default,a._handler=new s.default.Handler(e,r,n),a._connectionState="new",a._commandQueue.on("exec",a._execCommand.bind(p(a))),a._handleHandler(),a}var r,n,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.default),r=t,(n=[{key:"close",value:function(e){m.debug("close()"),this._closed||(this._closed=!0,this._statsEnabled&&(this._statsEnabled=!1,this.disableStats()),this.safeEmit("@notify","closeTransport",{id:this._id,appData:e}),this.emit("@close"),this.safeEmit("close","local",e),this._destroy())}},{key:"remoteClose",value:function(e,t){var r=t.destroy;m.debug("remoteClose() [destroy:%s]",r),this._closed||(r?(this._closed=!0,this.emit("@close"),this.safeEmit("close","remote",e),this._destroy()):this._handler.remoteClosed())}},{key:"_destroy",value:function(){this._commandQueue.close(),this._handler.close()}},{key:"restartIce",value:function(){var e=this;m.debug("restartIce()"),this._closed||"new"!==this._connectionState&&Promise.resolve().then(function(){var t={id:e._id};return e.safeEmitAsPromise("@request","restartTransport",t)}).then(function(t){var r=t.iceParameters;return e._commandQueue.push("restartIce",{remoteIceParameters:r})}).catch(function(e){m.error("restartIce() | failed: %o",e)})}},{key:"enableStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;m.debug("enableStats() [interval:%s]",e),("number"!==typeof e||e<1e3)&&(e=1e3),this._statsEnabled=!0;var t={id:this._id,interval:e};this.safeEmit("@notify","enableTransportStats",t)}},{key:"disableStats",value:function(){m.debug("disableStats()"),this._statsEnabled=!1;var e={id:this._id};this.safeEmit("@notify","disableTransportStats",e)}},{key:"_handleHandler",value:function(){var e=this,t=this._handler;t.on("@connectionstatechange",function(t){e._connectionState!==t&&(m.debug("Transport connection state changed to %s",t),e._connectionState=t,e._closed||e.safeEmit("connectionstatechange",t))}),t.on("@needcreatetransport",function(t,r,n){var o={id:e._id,direction:e._direction,options:"send"===e._direction?e._settings.sendTransportOptions:e._settings.recvTransportOptions,appData:e._appData};t&&(t.dtlsParameters?o.dtlsParameters=t.dtlsParameters:t.plainRtpParameters&&(o.plainRtpParameters=t.plainRtpParameters)),e.safeEmit("@request","createTransport",o,r,n)}),t.on("@needupdatetransport",function(t){var r={id:e._id};t&&(t.dtlsParameters?r.dtlsParameters=t.dtlsParameters:t.plainRtpParameters&&(r.plainRtpParameters=t.plainRtpParameters)),e.safeEmit("@notify","updateTransport",r)}),t.on("@needupdateproducer",function(t,r){var n={id:t.id,rtpParameters:r};t.setRtpParameters(r),e.safeEmit("@notify","updateProducer",n)})}},{key:"addProducer",value:function(e){return m.debug("addProducer() [producer:%o]",e),this._closed?Promise.reject(new a.InvalidStateError("Transport closed")):"send"!==this._direction?Promise.reject(new Error("not a sending Transport")):this._commandQueue.push("addProducer",{producer:e})}},{key:"removeProducer",value:function(e,t,r){m.debug("removeProducer() [producer:%o]",e),this._closed||this._commandQueue.push("removeProducer",{producer:e}).catch(function(){}),"local"===t&&this.safeEmit("@notify","closeProducer",{id:e.id,appData:r})}},{key:"pauseProducer",value:function(e,t){m.debug("pauseProducer() [producer:%o]",e);var r={id:e.id,appData:t};this.safeEmit("@notify","pauseProducer",r)}},{key:"resumeProducer",value:function(e,t){m.debug("resumeProducer() [producer:%o]",e);var r={id:e.id,appData:t};this.safeEmit("@notify","resumeProducer",r)}},{key:"replaceProducerTrack",value:function(e,t){return m.debug("replaceProducerTrack() [producer:%o]",e),this._commandQueue.push("replaceProducerTrack",{producer:e,track:t})}},{key:"enableProducerStats",value:function(e,t){m.debug("enableProducerStats() [producer:%o]",e);var r={id:e.id,interval:t};this.safeEmit("@notify","enableProducerStats",r)}},{key:"disableProducerStats",value:function(e){m.debug("disableProducerStats() [producer:%o]",e);var t={id:e.id};this.safeEmit("@notify","disableProducerStats",t)}},{key:"addConsumer",value:function(e){return m.debug("addConsumer() [consumer:%o]",e),this._closed?Promise.reject(new a.InvalidStateError("Transport closed")):"recv"!==this._direction?Promise.reject(new Error("not a receiving Transport")):this._commandQueue.push("addConsumer",{consumer:e})}},{key:"removeConsumer",value:function(e){m.debug("removeConsumer() [consumer:%o]",e),this._commandQueue.push("removeConsumer",{consumer:e}).catch(function(){})}},{key:"pauseConsumer",value:function(e,t){m.debug("pauseConsumer() [consumer:%o]",e);var r={id:e.id,appData:t};this.safeEmit("@notify","pauseConsumer",r)}},{key:"resumeConsumer",value:function(e,t){m.debug("resumeConsumer() [consumer:%o]",e);var r={id:e.id,appData:t};this.safeEmit("@notify","resumeConsumer",r)}},{key:"setConsumerPreferredProfile",value:function(e,t){m.debug("setConsumerPreferredProfile() [consumer:%o]",e);var r={id:e.id,profile:t};this.safeEmit("@notify","setConsumerPreferredProfile",r)}},{key:"enableConsumerStats",value:function(e,t){m.debug("enableConsumerStats() [consumer:%o]",e);var r={id:e.id,interval:t};this.safeEmit("@notify","enableConsumerStats",r)}},{key:"disableConsumerStats",value:function(e){m.debug("disableConsumerStats() [consumer:%o]",e);var t={id:e.id};this.safeEmit("@notify","disableConsumerStats",t)}},{key:"remoteStats",value:function(e){this.safeEmit("stats",e)}},{key:"_execCommand",value:function(e,t){var r;try{switch(e.method){case"addProducer":var n=e.producer;r=this._execAddProducer(n);break;case"removeProducer":var o=e.producer;r=this._execRemoveProducer(o);break;case"replaceProducerTrack":var a=e.producer,i=e.track;r=this._execReplaceProducerTrack(a,i);break;case"addConsumer":var s=e.consumer;r=this._execAddConsumer(s);break;case"removeConsumer":var u=e.consumer;r=this._execRemoveConsumer(u);break;case"restartIce":var l=e.remoteIceParameters;r=this._execRestartIce(l);break;default:r=Promise.reject(new Error('unknown command method "'.concat(e.method,'"')))}}catch(c){r=Promise.reject(c)}t.promise=r}},{key:"_execAddProducer",value:function(e){var t,r=this;return m.debug("_execAddProducer()"),Promise.resolve().then(function(){return r._handler.addProducer(e)}).then(function(n){t=n;var o={id:e.id,kind:e.kind,transportId:r._id,rtpParameters:n,paused:e.locallyPaused,appData:e.appData};return r.safeEmitAsPromise("@request","createProducer",o)}).then(function(){e.setRtpParameters(t)})}},{key:"_execRemoveProducer",value:function(e){return m.debug("_execRemoveProducer()"),this._handler.removeProducer(e)}},{key:"_execReplaceProducerTrack",value:function(e,t){return m.debug("_execReplaceProducerTrack()"),this._handler.replaceProducerTrack(e,t)}},{key:"_execAddConsumer",value:function(e){var t,r=this;return m.debug("_execAddConsumer()"),Promise.resolve().then(function(){return r._handler.addConsumer(e)}).then(function(n){t=n;var o={id:e.id,transportId:r.id,paused:e.locallyPaused,preferredProfile:e.preferredProfile};return r.safeEmitAsPromise("@request","enableConsumer",o)}).then(function(r){var n=r.paused,o=r.preferredProfile,a=r.effectiveProfile;return n&&e.remotePause(),o&&e.remoteSetPreferredProfile(o),a&&e.remoteEffectiveProfileChanged(a),t})}},{key:"_execRemoveConsumer",value:function(e){return m.debug("_execRemoveConsumer()"),this._handler.removeConsumer(e)}},{key:"_execRestartIce",value:function(e){return m.debug("_execRestartIce()"),this._handler.restartIce(e)}},{key:"id",get:function(){return this._id}},{key:"closed",get:function(){return this._closed}},{key:"direction",get:function(){return this._direction}},{key:"appData",get:function(){return this._appData}},{key:"connectionState",get:function(){return this._connectionState}},{key:"peerConnection",get:function(){return this._handler.peerConnection}},{key:"handler",get:function(){return this._handler}}])&&d(r.prototype,n),l&&d(r,l),t}();t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=r(22),a=(n=r(15))&&n.__esModule?n:{default:n},i=r(78);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=new a.default("CommandQueue"),p=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=l(this,c(t).call(this))).setMaxListeners(1/0),e._closed=!1,e._busy=!1,e._queue=[],e}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.EventEmitter),r=t,(n=[{key:"close",value:function(){this._closed=!0}},{key:"push",value:function(e,t){var r=this,n=Object.assign({method:e},t);return f.debug("push() [method:%s]",e),new Promise(function(e,t){var o=r._queue;n.resolve=e,n.reject=t,o.push(n),r._handlePendingCommands()})}},{key:"_handlePendingCommands",value:function(){var e=this;if(!this._busy){var t=this._queue,r=t[0];r&&(this._busy=!0,this._handleCommand(r).then(function(){e._busy=!1,t.shift(),e._handlePendingCommands()}))}}},{key:"_handleCommand",value:function(e){var t=this;if(f.debug("_handleCommand() [method:%s]",e.method),this._closed)return e.reject(new i.InvalidStateError("closed")),Promise.resolve();var r={promise:null};return this.emit("exec",e,r),Promise.resolve().then(function(){return r.promise}).then(function(r){f.debug("_handleCommand() | command succeeded [method:%s]",e.method),t._closed?e.reject(new i.InvalidStateError("closed")):e.resolve(r)}).catch(function(t){f.error("_handleCommand() | command failed [method:%s]: %o",e.method,t),e.reject(t)})}}])&&u(r.prototype,n),a&&u(r,a),t}();t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(15)),o=s(r(23)),a=r(78),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(21));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=1e3,h={low:1e5,medium:3e5,high:15e5},m=new n.default("Producer"),v=function(e){function t(e,r,n){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=c(this,d(t).call(this,m)))._id=i.randomNumber(),o._closed=!1,o._originalTrack=e;try{o._track=e.clone()}catch(a){o._track=e}return o._appData=n,o._simulcast=!1,"object"===u(r.simulcast)?o._simulcast=Object.assign({},h,r.simulcast):!0===r.simulcast&&(o._simulcast=Object.assign({},h)),o._transport=null,o._rtpParameters=null,o._locallyPaused=!o._track.enabled,o._remotelyPaused=!1,o._statsEnabled=!1,o._statsInterval=p,o._handleTrack(),o}var r,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,o.default),r=t,(n=[{key:"close",value:function(e){m.debug("close()"),this._closed||(this._closed=!0,this._statsEnabled&&(this._statsEnabled=!1,this.transport&&this.transport.disableProducerStats(this)),this._transport&&this._transport.removeProducer(this,"local",e),this._destroy(),this.emit("@close","local",e),this.safeEmit("close","local",e))}},{key:"remoteClose",value:function(e){m.debug("remoteClose()"),this._closed||(this._closed=!0,this._transport&&this._transport.removeProducer(this,"remote",e),this._destroy(),this.emit("@close","remote",e),this.safeEmit("close","remote",e))}},{key:"_destroy",value:function(){this._transport=!1,this._rtpParameters=null;try{this._track.stop()}catch(e){}}},{key:"send",value:function(e){var t=this;return m.debug("send() [transport:%o]",e),this._closed?Promise.reject(new a.InvalidStateError("Producer closed")):this._transport?Promise.reject(new Error("already handled by a Transport")):"object"!==u(e)?Promise.reject(new TypeError("invalid Transport")):(this._transport=e,e.addProducer(this).then(function(){e.once("@close",function(){t._closed||t._transport!==e||(t._transport.removeProducer(t,"local"),t._transport=null,t._rtpParameters=null,t.safeEmit("unhandled"))}),t.safeEmit("handled"),t._statsEnabled&&e.enableProducerStats(t,t._statsInterval)}).catch(function(e){throw t._transport=null,e}))}},{key:"pause",value:function(e){return m.debug("pause()"),this._closed?(m.error("pause() | Producer closed"),!1):!!this._locallyPaused||(this._locallyPaused=!0,this._track.enabled=!1,this._transport&&this._transport.pauseProducer(this,e),this.safeEmit("pause","local",e),this.paused)}},{key:"remotePause",value:function(e){m.debug("remotePause()"),this._closed||this._remotelyPaused||(this._remotelyPaused=!0,this._track.enabled=!1,this.safeEmit("pause","remote",e))}},{key:"resume",value:function(e){return m.debug("resume()"),this._closed?(m.error("resume() | Producer closed"),!1):!this._locallyPaused||(this._locallyPaused=!1,this._remotelyPaused||(this._track.enabled=!0),this._transport&&this._transport.resumeProducer(this,e),this.safeEmit("resume","local",e),!this.paused)}},{key:"remoteResume",value:function(e){m.debug("remoteResume()"),!this._closed&&this._remotelyPaused&&(this._remotelyPaused=!1,this._locallyPaused||(this._track.enabled=!0),this.safeEmit("resume","remote",e))}},{key:"replaceTrack",value:function(e){var t,r=this;if(m.debug("replaceTrack() [track:%o]",e),this._closed)return Promise.reject(new a.InvalidStateError("Producer closed"));if(!e)return Promise.reject(new TypeError("no track given"));if("ended"===e.readyState)return Promise.reject(new Error('track.readyState is "ended"'));try{t=e.clone()}catch(n){t=e}return Promise.resolve().then(function(){if(r._transport)return r._transport.replaceProducerTrack(r,t)}).then(function(){try{r._track.onended=null,r._track.stop()}catch(n){}return r.paused?t.enabled=!1:t.enabled=!0,r._originalTrack=e,r._track=t,r._handleTrack(),r._track})}},{key:"setRtpParameters",value:function(e){this._rtpParameters=e}},{key:"enableStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;m.debug("enableStats() [interval:%s]",e),this._closed?m.error("enableStats() | Producer closed"):this._statsEnabled||(this._statsInterval="number"!==typeof e||e<1e3?p:e,this._statsEnabled=!0,this._transport&&this._transport.enableProducerStats(this,this._statsInterval))}},{key:"disableStats",value:function(){m.debug("disableStats()"),this._closed?m.error("disableStats() | Producer closed"):this._statsEnabled&&(this._statsEnabled=!1,this._transport&&this._transport.disableProducerStats(this))}},{key:"remoteStats",value:function(e){this.safeEmit("stats",e)}},{key:"_handleTrack",value:function(){var e=this;this._track.onended=function(){e._closed||(m.warn('track "ended" event'),e.safeEmit("trackended"))}}},{key:"id",get:function(){return this._id}},{key:"closed",get:function(){return this._closed}},{key:"kind",get:function(){return this._track.kind}},{key:"track",get:function(){return this._track}},{key:"originalTrack",get:function(){return this._originalTrack}},{key:"simulcast",get:function(){return this._simulcast}},{key:"appData",get:function(){return this._appData}},{key:"transport",get:function(){return this._transport}},{key:"rtpParameters",get:function(){return this._rtpParameters}},{key:"locallyPaused",get:function(){return this._locallyPaused}},{key:"remotelyPaused",get:function(){return this._remotelyPaused}},{key:"paused",get:function(){return this._locallyPaused||this._remotelyPaused}}])&&l(r.prototype,n),s&&l(r,s),t}();t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(15)),o=a(r(23));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=new n.default("Peer"),f=function(e){function t(e,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,l(t).call(this,d)))._name=e,n._closed=!1,n._appData=r,n._consumers=new Map,n}var r,n,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,o.default),r=t,(n=[{key:"close",value:function(){if(d.debug("close()"),!this._closed){this._closed=!0,this.emit("@close"),this.safeEmit("close","local");var e=!0,t=!1,r=void 0;try{for(var n,o=this._consumers.values()[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){n.value.close()}}catch(a){t=!0,r=a}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}}}},{key:"remoteClose",value:function(e){if(d.debug("remoteClose()"),!this._closed){this._closed=!0,this.emit("@close"),this.safeEmit("close","remote",e);var t=!0,r=!1,n=void 0;try{for(var o,a=this._consumers.values()[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){o.value.remoteClose()}}catch(i){r=!0,n=i}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}}}},{key:"getConsumerById",value:function(e){return this._consumers.get(e)}},{key:"addConsumer",value:function(e){var t=this;if(this._consumers.has(e.id))throw new Error("Consumer already exists [id:".concat(e.id,"]"));this._consumers.set(e.id,e),e.on("@close",function(){t._consumers.delete(e.id)}),this.safeEmit("newconsumer",e)}},{key:"name",get:function(){return this._name}},{key:"closed",get:function(){return this._closed}},{key:"appData",get:function(){return this._appData}},{key:"consumers",get:function(){return Array.from(this._consumers.values())}}])&&s(r.prototype,n),a&&s(r,a),t}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(15)),o=i(r(23)),a=r(78);function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=new Set(["default","low","medium","high"]),p=1e3,h=new n.default("Consumer"),m=function(e){function t(e,r,n,o,a){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=l(this,c(t).call(this,h)))._id=e,i._closed=!1,i._kind=r,i._rtpParameters=n,i._peer=o,i._appData=a,i._supported=!1,i._transport=null,i._track=null,i._locallyPaused=!1,i._remotelyPaused=!1,i._statsEnabled=!1,i._statsInterval=p,i._preferredProfile="default",i._effectiveProfile=null,i}var r,n,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o.default),r=t,(n=[{key:"close",value:function(){h.debug("close()"),this._closed||(this._closed=!0,this._statsEnabled&&(this._statsEnabled=!1,this.transport&&this.transport.disableConsumerStats(this)),this.emit("@close"),this.safeEmit("close","local"),this._destroy())}},{key:"remoteClose",value:function(){h.debug("remoteClose()"),this._closed||(this._closed=!0,this._transport&&this._transport.removeConsumer(this),this._destroy(),this.emit("@close"),this.safeEmit("close","remote"))}},{key:"_destroy",value:function(){this._transport=null;try{this._track.stop()}catch(e){}this._track=null}},{key:"receive",value:function(e){var t=this;return h.debug("receive() [transport:%o]",e),this._closed?Promise.reject(new a.InvalidStateError("Consumer closed")):this._supported?this._transport?Promise.reject(new Error("already handled by a Transport")):"object"!==s(e)?Promise.reject(new TypeError("invalid Transport")):(this._transport=e,e.addConsumer(this).then(function(r){return t._track=r,t.paused&&(r.enabled=!1),e.once("@close",function(){if(!t._closed&&t._transport===e){t._transport=null;try{t._track.stop()}catch(r){}t._track=null,t.safeEmit("unhandled")}}),t.safeEmit("handled"),t._statsEnabled&&e.enableConsumerStats(t,t._statsInterval),r}).catch(function(e){throw t._transport=null,e})):Promise.reject(new Error("unsupported codecs"))}},{key:"pause",value:function(e){return h.debug("pause()"),this._closed?(h.error("pause() | Consumer closed"),!1):!!this._locallyPaused||(this._locallyPaused=!0,this._track&&(this._track.enabled=!1),this._transport&&this._transport.pauseConsumer(this,e),this.safeEmit("pause","local",e),this.paused)}},{key:"remotePause",value:function(e){h.debug("remotePause()"),this._closed||this._remotelyPaused||(this._remotelyPaused=!0,this._track&&(this._track.enabled=!1),this.safeEmit("pause","remote",e))}},{key:"resume",value:function(e){return h.debug("resume()"),this._closed?(h.error("resume() | Consumer closed"),!1):!this._locallyPaused||(this._locallyPaused=!1,this._track&&!this._remotelyPaused&&(this._track.enabled=!0),this._transport&&this._transport.resumeConsumer(this,e),this.safeEmit("resume","local",e),!this.paused)}},{key:"remoteResume",value:function(e){h.debug("remoteResume()"),!this._closed&&this._remotelyPaused&&(this._remotelyPaused=!1,this._track&&!this._locallyPaused&&(this._track.enabled=!0),this.safeEmit("resume","remote",e))}},{key:"setPreferredProfile",value:function(e){h.debug("setPreferredProfile() [profile:%s]",e),this._closed?h.error("setPreferredProfile() | Consumer closed"):e!==this._preferredProfile&&(f.has(e)?(this._preferredProfile=e,this._transport&&this._transport.setConsumerPreferredProfile(this,this._preferredProfile)):h.error('setPreferredProfile() | invalid profile "%s"',e))}},{key:"remoteSetPreferredProfile",value:function(e){h.debug("remoteSetPreferredProfile() [profile:%s]",e),this._closed||e===this._preferredProfile||(this._preferredProfile=e)}},{key:"remoteEffectiveProfileChanged",value:function(e){h.debug("remoteEffectiveProfileChanged() [profile:%s]",e),this._closed||e===this._effectiveProfile||(this._effectiveProfile=e,this.safeEmit("effectiveprofilechange",this._effectiveProfile))}},{key:"enableStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;h.debug("enableStats() [interval:%s]",e),this._closed?h.error("enableStats() | Consumer closed"):this._statsEnabled||(this._statsInterval="number"!==typeof e||e<1e3?p:e,this._statsEnabled=!0,this._transport&&this._transport.enableConsumerStats(this,this._statsInterval))}},{key:"disableStats",value:function(){h.debug("disableStats()"),this._closed?h.error("disableStats() | Consumer closed"):this._statsEnabled&&(this._statsEnabled=!1,this._transport&&this._transport.disableConsumerStats(this))}},{key:"setSupported",value:function(e){this._supported=e}},{key:"remoteStats",value:function(e){this.safeEmit("stats",e)}},{key:"id",get:function(){return this._id}},{key:"closed",get:function(){return this._closed}},{key:"kind",get:function(){return this._kind}},{key:"rtpParameters",get:function(){return this._rtpParameters}},{key:"peer",get:function(){return this._peer}},{key:"appData",get:function(){return this._appData}},{key:"supported",get:function(){return this._supported}},{key:"transport",get:function(){return this._transport}},{key:"track",get:function(){return this._track}},{key:"locallyPaused",get:function(){return this._locallyPaused}},{key:"remotelyPaused",get:function(){return this._remotelyPaused}},{key:"paused",get:function(){return this._locallyPaused||this._remotelyPaused}},{key:"preferredProfile",get:function(){return this._preferredProfile}},{key:"effectiveProfile",get:function(){return this._effectiveProfile}}])&&u(r.prototype,n),i&&u(r,i),t}();t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"EnhancedEventEmitter",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"RemoteUnifiedPlanSdp",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"RemotePlanBSdp",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"RemotePlainRtpSdp",{enumerable:!0,get:function(){return p.default}}),t.sdpPlainRtpUtils=t.sdpPlanBUtils=t.sdpUnifiedPlanUtils=t.sdpCommonUtils=t.ortc=t.utils=void 0;var n=m(r(15)),o=m(r(23)),a=h(r(21));t.utils=a;var i=h(r(29));t.ortc=i;var s=h(r(37));t.sdpCommonUtils=s;var u=h(r(61));t.sdpUnifiedPlanUtils=u;var l=h(r(63));t.sdpPlanBUtils=l;var c=h(r(357));t.sdpPlainRtpUtils=c;var d=m(r(62)),f=m(r(64)),p=m(r(358));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractPlainRtpParametersByKind=function(e,t){var r=(e.media||[]).find(function(e){return e.type===t});if(!r)throw new Error("m=".concat(t," section not found"));return{ip:e.connection.ip,port:r.port}},t.fillRtpParametersForKind=function(e,t,r){var n={cname:null,reducedSize:!0,mux:!0},o=(t.media||[]).find(function(e){return e.type===r});if(!o)throw new Error("m=".concat(r," section not found"));var a,i=(o.ssrcs||[]).find(function(e){return"cname"===e.attribute});i&&(a=i.id,n.cname=i.value);e.rtcp=n,e.encodings=[];var s={ssrc:a};e.encodings.push(s)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(30)),o=i(r(15)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(21));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}var m=new o.default("RemotePlainRtpSdp"),v=function(){function e(t){f(this,e),this._rtpParametersByKind=t,this._transportLocalParameters=null,this._transportRemoteParameters=null,this._sdpGlobalFields={id:a.randomNumber(),version:0}}return h(e,[{key:"setTransportLocalParameters",value:function(e){m.debug("setTransportLocalParameters() [transportLocalParameters:%o]",e),this._transportLocalParameters=e}},{key:"setTransportRemoteParameters",value:function(e){m.debug("setTransportRemoteParameters() [transportRemoteParameters:%o]",e),this._transportRemoteParameters=e}}]),e}(),y=function(e){function t(e){return f(this,t),u(this,l(t).call(this,e))}return c(t,v),h(t,[{key:"createAnswerSdp",value:function(e){if(m.debug("createAnswerSdp()"),!this._transportLocalParameters)throw new Error("no transport local parameters");if(!this._transportRemoteParameters)throw new Error("no transport remote parameters");var t=this._transportRemoteParameters.plainRtpParameters,r={},o=(e.media||[]).filter(function(e){return e.hasOwnProperty("mid")}).map(function(e){return String(e.mid)});this._sdpGlobalFields.version++,r.version=0,r.origin={address:t.ip,ipVer:t.version,netType:"IN",sessionId:this._sdpGlobalFields.id,sessionVersion:this._sdpGlobalFields.version,username:"mediasoup-client"},r.name="-",r.timing={start:0,stop:0},r.msidSemantic={semantic:"WMS",token:"*"},o.length>0&&(r.groups=[{type:"BUNDLE",mids:o.join(" ")}]),r.media=[];var a=!0,i=!1,s=void 0;try{for(var u,l=(e.media||[])[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value,d="inactive"===c.direction,f=c.type,p=this._rtpParametersByKind[f].codecs,h=this._rtpParametersByKind[f].headerExtensions,v={};switch(v.type=c.type,v.port=t.port,v.protocol="RTP/AVP",v.connection={ip:t.ip,version:t.version},v.mid=c.mid,c.direction){case"sendrecv":case"sendonly":v.direction="recvonly";break;case"recvonly":case"inactive":v.direction="inactive"}v.rtp=[],v.rtcpFb=[],v.fmtp=[];var y=!0,g=!1,b=void 0;try{for(var _,w=p[Symbol.iterator]();!(y=(_=w.next()).done);y=!0){var k=_.value,E={payload:k.payloadType,codec:k.name,rate:k.clockRate};if(k.channels>1&&(E.encoding=k.channels),v.rtp.push(E),k.parameters){for(var P={payload:k.payloadType,config:""},S=Object.keys(k.parameters),x=0;x<S.length;x++){var T=S[x];P.config&&(P.config+=";"),P.config+="".concat(T,"=").concat(k.parameters[T])}P.config&&v.fmtp.push(P)}if(k.rtcpFeedback){var C=!0,O=!1,R=void 0;try{for(var M,D=k.rtcpFeedback[Symbol.iterator]();!(C=(M=D.next()).done);C=!0){var j=M.value;v.rtcpFb.push({payload:k.payloadType,type:j.type,subtype:j.parameter||""})}}catch(G){O=!0,R=G}finally{try{C||null==D.return||D.return()}finally{if(O)throw R}}}}}catch(G){g=!0,b=G}finally{try{y||null==w.return||w.return()}finally{if(g)throw b}}if(v.payloads=p.map(function(e){return e.payloadType}).join(" "),!d){v.ext=[];var I=!0,A=!1,N=void 0;try{for(var L,F=function(){var e=L.value;if(!(c.ext||[]).find(function(t){return t.uri===e.uri}))return"continue";v.ext.push({uri:e.uri,value:e.id})},U=h[Symbol.iterator]();!(I=(L=U.next()).done);I=!0)F()}catch(G){A=!0,N=G}finally{try{I||null==U.return||U.return()}finally{if(A)throw N}}}if(c.simulcast_03){v.simulcast_03={value:c.simulcast_03.value.replace(/send/g,"recv")},v.rids=[];var B=!0,V=!1,W=void 0;try{for(var z,H=(c.rids||[])[Symbol.iterator]();!(B=(z=H.next()).done);B=!0){var q=z.value;"send"===q.direction&&v.rids.push({id:q.id,direction:"recv"})}}catch(G){V=!0,W=G}finally{try{B||null==H.return||H.return()}finally{if(V)throw W}}}v.rtcpMux="rtcp-mux",v.rtcpRsize="rtcp-rsize",r.media.push(v)}}catch(G){i=!0,s=G}finally{try{a||null==l.return||l.return()}finally{if(i)throw s}}return n.default.write(r)}}]),t}(),g=function(e){function t(e){return f(this,t),u(this,l(t).call(this,e))}return c(t,v),h(t,[{key:"createOfferSdp",value:function(e){if(m.debug("createOfferSdp()"),!this._transportRemoteParameters)throw new Error("no transport remote parameters");var t=this._transportRemoteParameters.plainRtpParameters,r={},o=e.map(function(e){return String(e.mid)});this._sdpGlobalFields.version++,r.version=0,r.origin={address:t.ip,ipVer:t.version,netType:"IN",sessionId:this._sdpGlobalFields.id,sessionVersion:this._sdpGlobalFields.version,username:"mediasoup-client"},r.name="-",r.timing={start:0,stop:0},r.msidSemantic={semantic:"WMS",token:"*"},o.length>0&&(r.groups=[{type:"BUNDLE",mids:o.join(" ")}]),r.media=[];var a=!0,i=!1,s=void 0;try{for(var u,l=e[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value,d=c.closed,f=c.kind,p=this._rtpParametersByKind[f].codecs,h=this._rtpParametersByKind[f].headerExtensions,v={};v.type=f,v.mid=c.mid,v.msid="".concat(c.streamId," ").concat(c.trackId),v.port=t.port,v.protocol="RTP/AVP",v.connection={ip:t.ip,version:t.version},v.direction=d?"inactive":"sendonly",v.rtp=[],v.rtcpFb=[],v.fmtp=[];var y=!0,g=!1,b=void 0;try{for(var _,w=p[Symbol.iterator]();!(y=(_=w.next()).done);y=!0){var k=_.value,E={payload:k.payloadType,codec:k.name,rate:k.clockRate};if(k.channels>1&&(E.encoding=k.channels),v.rtp.push(E),k.parameters){for(var P={payload:k.payloadType,config:""},S=Object.keys(k.parameters),x=0;x<S.length;x++){var T=S[x];P.config&&(P.config+=";"),P.config+="".concat(T,"=").concat(k.parameters[T])}P.config&&v.fmtp.push(P)}if(k.rtcpFeedback){var C=!0,O=!1,R=void 0;try{for(var M,D=k.rtcpFeedback[Symbol.iterator]();!(C=(M=D.next()).done);C=!0){var j=M.value;v.rtcpFb.push({payload:k.payloadType,type:j.type,subtype:j.parameter||""})}}catch(B){O=!0,R=B}finally{try{C||null==D.return||D.return()}finally{if(O)throw R}}}}}catch(B){g=!0,b=B}finally{try{y||null==w.return||w.return()}finally{if(g)throw b}}if(v.payloads=p.map(function(e){return e.payloadType}).join(" "),!d){v.ext=[];var I=!0,A=!1,N=void 0;try{for(var L,F=h[Symbol.iterator]();!(I=(L=F.next()).done);I=!0){var U=L.value;"urn:ietf:params:rtp-hdrext:sdes:mid"!==U.uri&&v.ext.push({uri:U.uri,value:U.id})}}catch(B){A=!0,N=B}finally{try{I||null==F.return||F.return()}finally{if(A)throw N}}}v.rtcpMux="rtcp-mux",v.rtcpRsize="rtcp-rsize",d||(v.ssrcs=[],v.ssrcGroups=[],v.ssrcs.push({id:c.ssrc,attribute:"cname",value:c.cname}),c.rtxSsrc&&(v.ssrcs.push({id:c.rtxSsrc,attribute:"cname",value:c.cname}),v.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(c.ssrc," ").concat(c.rtxSsrc)}))),r.media.push(v)}}catch(B){i=!0,s=B}finally{try{a||null==l.return||l.return()}finally{if(i)throw s}}return n.default.write(r)}}]),t}();t.default=function e(t,r){switch(f(this,e),m.debug("constructor() [direction:%s, rtpParametersByKind:%o]",t,r),t){case"send":return new y(r);case"recv":return new g(r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasH264=t.hasVP8=t.hasOpus=t.hasH264Capability=t.hasVP8Capability=t.hasOpusCapability=void 0;var n=c(r(20)),o=c(r(14)),a=c(r(24)),i=c(r(52)),s=r(132),u=r(42),l=c(u);function c(e){return e&&e.__esModule?e:{default:e}}var d={clockRate:9e4,kind:"video",mimeType:"video/VP8",name:"VP8"},f={channels:2,clockRate:48e3,kind:"audio",mimeType:"audio/opus",name:"opus"},p={clockRate:9e4,kind:"video",mimeType:"video/H264",name:"H264",parameters:{"packetization-mode":1}},h={name:i.default.name,version:i.default.version,osname:i.default.osname,osversion:i.default.osversion};t.hasOpusCapability=function(){var e=(0,a.default)(n.default.mark(function e(){var t;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,(0,s.checkCapabilitiesForRoom)({codecs:[f]});case 4:t=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),l.default.warn("support: no opus capabilities support",(0,o.default)({},h,(0,u.errLog)(e.t0))),e.abrupt("return",!1);case 11:if(t.audio){e.next=14;break}return l.default.warn("support: no opus capabilities support",(0,o.default)({},h)),e.abrupt("return",!1);case 14:return l.default.debug("support: have opus capabilities support",(0,o.default)({},h)),e.abrupt("return",!0);case 16:case"end":return e.stop()}},e,void 0,[[1,7]])}));return function(){return e.apply(this,arguments)}}(),t.hasVP8Capability=function(){var e=(0,a.default)(n.default.mark(function e(){var t;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,(0,s.checkCapabilitiesForRoom)({codecs:[d]});case 4:t=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),l.default.warn("support: no vp8 capabilities support",(0,o.default)({},h,(0,u.errLog)(e.t0))),e.abrupt("return",!1);case 11:if(t.video){e.next=14;break}return l.default.warn("support: no vp8 capabilities support",(0,o.default)({},h)),e.abrupt("return",!1);case 14:return l.default.debug("support: have vp8 capabilities support",(0,o.default)({},h)),e.abrupt("return",!0);case 16:case"end":return e.stop()}},e,void 0,[[1,7]])}));return function(){return e.apply(this,arguments)}}(),t.hasH264Capability=function(){var e=(0,a.default)(n.default.mark(function e(){var t;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,(0,s.checkCapabilitiesForRoom)({codecs:[p]});case 4:t=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),l.default.warn("support: no h264 capabilities support",(0,o.default)({},h,(0,u.errLog)(e.t0))),e.abrupt("return",!1);case 11:if(t.video){e.next=14;break}return l.default.warn("support: no h264 capabilities support",(0,o.default)({},h)),e.abrupt("return",!1);case 14:return l.default.debug("support: have h264 capabilities support",(0,o.default)({},h)),e.abrupt("return",!0);case 16:case"end":return e.stop()}},e,void 0,[[1,7]])}));return function(){return e.apply(this,arguments)}}(),t.hasOpus=function(){return!0},t.hasVP8=function(){return!i.default.ios&&!i.default.safari&&!i.default.msedge},t.hasH264=function(){if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.listener||window.NeonAndroid&&window.NeonAndroid.asyncRequest)return l.default.debug("suppport: h264 support: neon"),!0;if(i.default.chrome){if(window.MediaRecorder&&window.MediaRecorder.isTypeSupported("video/webm; codecs=h264"))return l.default.debug("support: h264 support: chrome"),!0;if(l.default.warn("support: no h264 support",(0,o.default)({reason:"chrome without h264"},h)),window.MediaRecorder)return l.default.flush(),!1}var e=document.createElement("video").canPlayType('video/mp4; codecs="avc1.42E01E"');return"probably"!==e?(l.default.warn("support: no h264 support",(0,o.default)({reason:"canPlayType failed",canPlay:e},h)),l.default.flush(),!1):(l.default.debug("suppport: h264 support",h),!0)}},function(e,t,r){"use strict";e.exports=r(361).polyfill()},function(e,t,r){(function(t,r){var n;n=function(){"use strict";function e(e){return"function"===typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,a=void 0,i=void 0,s=function(e,t){h[o]=e,h[o+1]=t,2===(o+=2)&&(i?i(m):v())},u="undefined"!==typeof window?window:void 0,l=u||{},c=l.MutationObserver||l.WebKitMutationObserver,d="undefined"===typeof self&&"undefined"!==typeof t&&"[object process]"==={}.toString.call(t),f="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(m,1)}}var h=new Array(1e3);function m(){for(var e=0;e<o;e+=2){(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0}o=0}var v=void 0;function y(e,t){var r=this,n=new this.constructor(_);void 0===n[b]&&A(n);var o=r._state;if(o){var a=arguments[o-1];s(function(){return j(o,n,a,r._result)})}else M(r,n,e,t);return n}function g(e){if(e&&"object"===typeof e&&e.constructor===this)return e;var t=new this(_);return T(t,e),t}v=d?function(){return t.nextTick(m)}:c?function(){var e=0,t=new c(m),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}():f?function(){var e=new MessageChannel;return e.port1.onmessage=m,function(){return e.port2.postMessage(0)}}():void 0===u?function(){try{var e=Function("return this")().require("vertx");return"undefined"!==typeof(a=e.runOnLoop||e.runOnContext)?function(){a(m)}:p()}catch(t){return p()}}():p();var b=Math.random().toString(36).substring(2);function _(){}var w=void 0,k=1,E=2,P={error:null};function S(e){try{return e.then}catch(t){return P.error=t,P}}function x(t,r,n){r.constructor===t.constructor&&n===y&&r.constructor.resolve===g?function(e,t){t._state===k?O(e,t._result):t._state===E?R(e,t._result):M(t,void 0,function(t){return T(e,t)},function(t){return R(e,t)})}(t,r):n===P?(R(t,P.error),P.error=null):void 0===n?O(t,r):e(n)?function(e,t,r){s(function(e){var n=!1,o=function(e,t,r,n){try{e.call(t,r,n)}catch(o){return o}}(r,t,function(r){n||(n=!0,t!==r?T(e,r):O(e,r))},function(t){n||(n=!0,R(e,t))},e._label);!n&&o&&(n=!0,R(e,o))},e)}(t,r,n):O(t,r)}function T(e,t){e===t?R(e,new TypeError("You cannot resolve a promise with itself")):!function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)?O(e,t):x(e,t,S(t))}function C(e){e._onerror&&e._onerror(e._result),D(e)}function O(e,t){e._state===w&&(e._result=t,e._state=k,0!==e._subscribers.length&&s(D,e))}function R(e,t){e._state===w&&(e._state=E,e._result=t,s(C,e))}function M(e,t,r,n){var o=e._subscribers,a=o.length;e._onerror=null,o[a]=t,o[a+k]=r,o[a+E]=n,0===a&&e._state&&s(D,e)}function D(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,a=e._result,i=0;i<t.length;i+=3)n=t[i],o=t[i+r],n?j(r,n,o,a):o(a);e._subscribers.length=0}}function j(t,r,n,o){var a=e(n),i=void 0,s=void 0,u=void 0,l=void 0;if(a){if((i=function(e,t){try{return e(t)}catch(r){return P.error=r,P}}(n,o))===P?(l=!0,s=i.error,i.error=null):u=!0,r===i)return void R(r,new TypeError("A promises callback cannot return that same promise."))}else i=o,u=!0;r._state!==w||(a&&u?T(r,i):l?R(r,s):t===k?O(r,i):t===E&&R(r,i))}var I=0;function A(e){e[b]=I++,e._state=void 0,e._result=void 0,e._subscribers=[]}var N=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(_),this.promise[b]||A(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&O(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===w&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===g){var o=S(e);if(o===y&&e._state!==w)this._settledAt(e._state,t,e._result);else if("function"!==typeof o)this._remaining--,this._result[t]=e;else if(r===L){var a=new r(_);x(a,e,o),this._willSettleAt(a,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===w&&(this._remaining--,e===E?R(n,r):this._result[t]=r),0===this._remaining&&O(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;M(e,void 0,function(e){return r._settledAt(k,t,e)},function(e){return r._settledAt(E,t,e)})},e}(),L=function(){function t(e){this[b]=I++,this._result=this._state=void 0,this._subscribers=[],_!==e&&("function"!==typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){T(e,t)},function(t){R(e,t)})}catch(r){R(e,r)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var r=this.constructor;return e(t)?this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return L.prototype.then=y,L.all=function(e){return new N(this,e).promise},L.race=function(e){var t=this;return n(e)?new t(function(r,n){for(var o=e.length,a=0;a<o;a++)t.resolve(e[a]).then(r,n)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},L.resolve=g,L.reject=function(e){var t=new this(_);return R(t,e),t},L._setScheduler=function(e){i=e},L._setAsap=function(e){s=e},L._asap=s,L.polyfill=function(){var e=void 0;if("undefined"!==typeof r)e=r;else if("undefined"!==typeof self)e=self;else try{e=Function("return this")()}catch(o){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(o){}if("[object Promise]"===n&&!t.cast)return}e.Promise=L},L.Promise=L,L},e.exports=n()}).call(this,r(362),r(32))},function(e,t){var r,n,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"===typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var u,l=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&p())}function p(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};c.prototype.append=function(e,t){e=s(e),t=u(t);var r=this.map[e];this.map[e]=r?r+","+t:t},c.prototype.delete=function(e){delete this.map[s(e)]},c.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},c.prototype.set=function(e,t){this.map[s(e)]=u(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},t.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var i=[301,302,303,307,308];b.redirect=function(e,t){if(-1===i.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=c,e.Request=v,e.Response=b,e.fetch=function(e,r){return new Promise(function(n,o){var a=new v(e,r),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:g(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new b(t,e))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.open(a.method,a.url,!0),"include"===a.credentials?i.withCredentials=!0:"omit"===a.credentials&&(i.withCredentials=!1),"responseType"in i&&t.blob&&(i.responseType="blob"),a.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send("undefined"===typeof a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!==typeof e&&(e=String(e)),e}function l(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function p(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&n(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=f(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(e,t){var r=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=function(e){var t=e.toUpperCase();return a.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function g(e){var t=new c;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!==typeof self?self:this)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="@livelyvideo/pvc@3.11.2"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(76)),o=d(r(25)),a=d(r(17)),i=d(r(18)),s=d(r(34)),u=d(r(35)),l=r(22),c=d(r(42));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,r,n){(0,a.default)(this,t);var i=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return i.uri=e,i.joinCall=r,i._ws=null,i.connected=!1,i.connecting=!1,i.closed=!1,i.closing=!1,i.online=navigator.onLine,i._hasError=!1,i._retries=n||1/0,i._retryCount=0,i._retryTimeout=null,i._retrying=!1,i._pingTimeout=null,i._firstReason=null,i._handleOffline=function(){c.default.debug("Transport: offline detected"),i.online=!1},i._handleOnline=function(){c.default.debug("Transport: online detected",{connected:i.connected,connecting:i.connecting,hasError:i._hasError}),i.online=!0,i.connected||i.connecting||(window.clearTimeout(i._retryTimeout),i._retry())},window.addEventListener("offline",i._handleOffline),window.addEventListener("online",i._handleOnline),i._connect(),i}return(0,u.default)(t,e),(0,i.default)(t,[{key:"_sendReady",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(!this._ws||1!==this._ws.readyState)||(e||c.default.warn("Transport: trying to sending on a closed websocket",{uri:this.uri,ws:!!this._ws&&this._ws.readyState}),!1)}},{key:"send",value:function(e,t){if(this._sendReady())try{this._ws.send((0,n.default)({event:e,data:t}))}catch(r){c.default.error("websocket send error",{event:e,data:t,err:r})}}},{key:"setClosing",value:function(){this.closing=!0}},{key:"close",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.closed=e,this.closed&&(window.removeEventListener("offline",this._handleOffline),window.removeEventListener("online",this._handleOnline)),this._ws&&(c.default.debug("Transport: close called - closing websocket"),this._ws.close())}},{key:"_connect",value:function(){var e=this;this.connecting=!0,null!==this._ws&&(this._ws.onclose=function(){},this._ws.close(),this._ws=null),this._ws=null,this._ws=new window.WebSocket(this.uri);var t=Math.random();c.default.debug("Transport: _connect",{id:t}),this._ws.onopen=function(){e.connected=!0,e.connecting=!1,e._hasError=!1,e._retryCount=0,c.default.debug("Transport: onopen",{id:t}),e._emit("connect")},this._ws.onerror=function(t){e._hasError=!0,c.default.info("websocket error",{uri:e.uri,err:t})},this._ws.onmessage=function(t){if("pong"!==t.data){var r=void 0;try{r=JSON.parse(t.data)}catch(a){return void c.default.error("websocket parse error",{data:t&&t.data,uri:e.uri,err:a&&a.stack})}if(r.data&&r.data.reasons&&r.data.reasons.length>0&&(e._firstReason=r.data.reasons[0].text,c.default.warn("pvc/call/transport: error returned on websocket",{reasons:r.data.reasons,uri:e.uri})),"reasons"===r.event&&r.data&&r.data.length>0)for(var n=0;n<r.data.length;n++){var o=r.data[n];if(o.text){e._firstReason=o.text,c.default.warn("pvc/call/transport: reason returned on websocket",{reasons:e._firstReason,uri:e.uri});break}}e._emit(r.event,r.data)}else e._pong()},this._ws.onclose=function(r){switch(e.connected=!1,e.connecting=!1,window.clearTimeout(e._pingTimeout),c.default.debug("Transport; onclose",{id:t}),e._pong(),c.default.info("Transport: websocket close",{code:r.code,uri:e.uri,reason:e._firstReason}),e._emit("disconnect",r.code,r._firstReason),r.code){case 1008:e._handlePolicyViolation(r);break;case 1e3:default:e._ws=null,e.closed||e.closing||(e._hasError?window.setTimeout(e._joinCall.bind(e),2e3):e._retry())}}}},{key:"_canRetry",value:function(){return this._retryCount>this._retries?(c.default.warn("Transport: limited retries",{uri:this.uri}),this._emit("call-rejected"),!1):!(!this.online||this.connecting)||(c.default.debug("Transport: no retry",{online:this.online,connecting:this.connecting,uri:this.uri}),!1)}},{key:"_retry",value:function(){this._retryCount++,!1!==this._canRetry()&&(c.default.debug("Transport: retry",{count:this._retryCount,uri:this.uri}),this._retrying=!0,this._retryTimeout=window.setTimeout(this._connect.bind(this),this._retryTimeoutLength()))}},{key:"_retryTimeoutLength",value:function(){var e=500;return this._retryCount>5&&this._retryCount<15?e=1e3:this._retryCount>=15?e=1e4:this._retryCount>=100&&(e=6e5),e}},{key:"_joinCall",value:function(){var e=this;!1!==this._canRetry()&&(c.default.debug("Transport: join call"),this.joinCall().then(function(t){c.default.debug("Transport: response from joinCall",t);var r=void 0;if(!t.body||!t.body.call)return c.default.warn("Transport: refreshCall error",{sfuUri:e.uri}),e._emit("join-call-error",{error:"invalid response, call was missing"}),void window.setTimeout(e._joinCall.bind(e),e._retryTimeoutLength());r=t.body.call,e._hasError=!1,r.callUri&&e.uri!==r.callUri?(c.default.debug("Transport: call uri changed",{call:r}),e.uri=r.callUri,e._emit("join-refresh",t)):c.default.debug("Transport: join call did not update call uri"),e._retry()}).catch(function(t){404!==t.status&&c.default.warn("Transport: refreshCall error",{error:t,sfuUri:e.uri}),e._emit("join-call-error",{error:t}),window.setTimeout(e._joinCall.bind(e),e._retryTimeoutLength())}))}},{key:"_handlePolicyViolation",value:function(){switch(this._firstReason){case"Forbidden":return void this._emit("Forbidden");case"Call rejected":return void this._emit("call-rejected");case"Sfu busy":return void this._joinCall();case"Call ended":return void this._emit("call-ended");case"User unauthorized":return void this._joinCall();default:this.closed||this.closing||this._retry()}}},{key:"_ping",value:function(){var e=this;this._sendReady(!0)&&(this._ws.send("ping"),this._pingTimeout=window.setTimeout(function(){c.default.error("Transport: failed ping to server - retry connection"),e._retry(!0)},3e3))}},{key:"_pong",value:function(){window.clearTimeout(this._pingTimeout),this.connected&&window.setTimeout(this._ping.bind(this),3e3)}},{key:"_emit",value:function(){try{this.emit.apply(this,arguments)}catch(e){c.default.warn("unhandled event handler error",{event:arguments.length<=0?void 0:arguments[0],err:e&&e.stack,uri:this.uri})}}}]),t}(l.EventEmitter);t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(r(14)),o=g(r(20)),a=g(r(24)),i=g(r(17)),s=g(r(18)),u=g(r(52)),l=g(r(367)),c=r(185),d=y(r(134)),f=r(182),p=r(42),h=g(p),m=y(r(186)),v=y(r(188));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var b=void 0;u.default.chrome&&(window.AudioContext||window.webkitAudioContext)&&(b=new(window.AudioContext||window.webkitAudioContext));var _=function(){function e(t,r,n){(0,i.default)(this,e),this.streamName=t,this.call=r,n=n||{},this._audioOptions=n.audio||{},this._audioOptions.streamRetriever?(this._audioStreamRetriever=this._audioOptions.streamRetriever||null,this._audioStreamRetrieverType=this._audioOptions.streamRetrieverType||f.CUSTOM_STREAM_TYPE):(this._audioStreamRetriever=null,this._audioStreamRetrieverType=null),this._useEchoDetection=!0===this._audioOptions.echoDetection,this._videoOptions=n.video||{},this._videoOptions.streamRetriever?(this._videoStreamRetriever=this._videoOptions.streamRetriever||null,this._videoStreamRetrieverType=this._videoOptions.streamRetrieverType||f.CUSTOM_STREAM_TYPE):(this._videoStreamRetriever=null,this._videoStreamRetrieverType=null),this._useSimulcast=!!this._videoOptions.useSimulcast,this._videoProducer=null,this._audioProducer=null,this._useEchoDetection&&b&&(this._gainNode=b.createGain(),this._baseGainValue=this._gainNode.gain.value,this._echoDetector=null),this._statsInterval=n.statsInterval||5e3}return(0,s.default)(e,[{key:"setVideoStreamRetriever",value:function(){var e=(0,a.default)(o.default.mark(function e(t,r,n,a){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._setMediaStreamRetriever("video",t,r,n,a));case 1:case"end":return e.stop()}},e,this)}));return function(t,r,n,o){return e.apply(this,arguments)}}()},{key:"setAudioStreamRetriever",value:function(){var e=(0,a.default)(o.default.mark(function e(t,r,n,a){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._setMediaStreamRetriever("audio",t,r,n,a));case 1:case"end":return e.stop()}},e,this)}));return function(t,r,n,o){return e.apply(this,arguments)}}()},{key:"_setMediaStreamRetriever",value:function(){var e=(0,a.default)(o.default.mark(function e(t,r,a,i,s,u){var l,c,m,v,y,g,b,_,w;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h.default.debug("setMediaStreamRetriever",(0,n.default)({},this.logData,{kind:t})),c=void 0,m=void 0,v=void 0,(l="video"===t)?(m=this._videoStreamRetriever,v=this._videoStreamRetrieverType,this._videoStreamRetriever=a,this._videoStreamRetrieverType=r,c=this._videoProducer):(m=this._audioStreamRetriever,v=this._audioStreamRetrieverType,this._audioStreamRetriever=a,this._audioStreamRetrieverType=r,c=this._audioProducer),i){e.next=8;break}return e.abrupt("return",null);case 8:if(!l||this.call.hasPermission(f.PERMISSIONS.STREAM_VIDEO)){e.next=15;break}throw h.default.warn("No permission to stream video",(0,n.default)({},this.logData,{permissions:this.call.permissions})),(y=new Error("no permission to stream video")).permissions=!0,y;case 15:if(l||this.call.hasPermission(f.PERMISSIONS.STREAM_AUDIO)){e.next=20;break}throw h.default.warn("No permission to stream audio",(0,n.default)({},this.logData,{permissions:this.call.permissions})),(g=new Error("no permission to stream audio")).permissions=!0,g;case 20:if(!c||!c.replaceTrack){e.next=55;break}return c.track&&c.track.stop(),b=void 0,e.prev=23,e.next=26,a();case 26:b=e.sent,e.next=42;break;case 29:if(e.prev=29,e.t0=e.catch(23),h.default.warn("Unable to get media stream",(0,n.default)({},(0,p.errLog)(e.t0),this.logData,{kind:t})),s||!m){e.next=41;break}return e.prev=33,e.next=36,this._setMediaStreamRetriever(t,v,m,!0,!0);case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(33),h.default.warn("Unable to revert media stream",(0,n.default)({},(0,p.errLog)(e.t0),this.logData,{kind:t}));case 41:throw e.t0;case 42:if(_=void 0,_=l?b.getVideoTracks()[0]:b.getAudioTracks()[0],h.default.info("replacing producer track",(0,n.default)({},this.logData,{kind:t,trackLabel:_.label,trackState:_.readyState,settings:_.getSettings&&_.getSettings(),capabilities:_.getCapabilities&&_.getCapabilities(),constraints:_.getConstraints&&_.getConstraints()})),_){e.next=48;break}throw h.default.error("stream has no tracks of this kind",(0,n.default)({},this.logData,{kind:t,stream:b})),new Error("Unable to get track");case 48:return e.next=50,c.replaceTrack(_);case 50:return w=e.sent,_.stop(),c.paused&&c.resume(),this.call._emit(d.setProducerTrack(this.streamName,r,c.id,w)),e.abrupt("return",c);case 55:return h.default.info("cannot replaceTrack, so resetting producer",(0,n.default)({},this.logData)),e.prev=56,e.next=59,this._setProducer(t,r,u);case 59:c=e.sent,e.next=65;break;case 62:e.prev=62,e.t2=e.catch(56),h.default.warn("unable to set new producer",(0,n.default)({},this.logData,{kind:t}));case 65:return e.abrupt("return",c);case 66:case"end":return e.stop()}},e,this,[[23,29],[33,38],[56,62]])}));return function(t,r,n,o,a,i){return e.apply(this,arguments)}}()},{key:"_setProducer",value:function(){var e=(0,a.default)(o.default.mark(function e(t,r){var i,s,u,y,g,_,w,k,E,P,S=this,x=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i="video"===t)||this.call.hasPermission(f.PERMISSIONS.STREAM_VIDEO)){e.next=8;break}throw h.default.warn("No permission to stream video",(0,n.default)({},this.logData,{permissions:this.call.permissions})),(s=new Error("no permission to stream video")).permissions=!0,s;case 8:if(i||this.call.hasPermission(f.PERMISSIONS.STREAM_AUDIO)){e.next=13;break}throw h.default.warn("No permission to stream audio",(0,n.default)({},this.logData,{permissions:this.call.permissions})),(u=new Error("no permission to stream audio")).permissions=!0,u;case 13:if(y=void 0,e.prev=14,!i){e.next=22;break}return this._videoProducer&&this._videoProducer.track&&this._videoProducer.track.stop(),e.next=19,this._videoStreamRetriever();case 19:y=e.sent,e.next=26;break;case 22:return this._audioProducer&&this._audioProducer.track&&this._audioProducer.track.stop(),e.next=25,this._audioStreamRetriever();case 25:y=e.sent;case 26:e.next=32;break;case 28:throw e.prev=28,e.t0=e.catch(14),h.default.warn("Unable to get media stream",(0,n.default)({},(0,p.errLog)(e.t0),this.logData,{kind:t})),e.t0;case 32:if(g=void 0,_=void 0,i?(g=y.getVideoTracks()[0],w={streamName:this.streamName},i&&(window.screen&&window.screen.orientation&&window.screen.orientation.angle?w.orientation=window.screen.orientation.angle:window.orientation&&(w.orientation=window.orientation)),h.default.info("create producer track",(0,n.default)({},this.logData,{kind:t,trackLabel:g.label,trackState:g.readyState,settings:g.getSettings&&g.getSettings(),capabilities:g.getCapabilities&&g.getCapabilities(),constraints:g.getConstraints&&g.getConstraints()})),_=this.call.createProducer(g,{simulcast:this._useSimulcast},w)):(k=void 0,this._useEchoDetection&&b.createMediaStreamSource&&b.createMediaStreamDestination?(b.createMediaStreamSource(y).connect(this._gainNode),E=b.createMediaStreamDestination(),this._gainNode.connect(E),g=E.stream.getAudioTracks()[0],k=y.getAudioTracks()[0]):g=y.getAudioTracks()[0],h.default.info("create producer track",(0,n.default)({},this.logData,{kind:t,trackLabel:g.label,trackState:g.readyState,settings:g.getSettings&&g.getSettings(),capabilities:g.getCapabilities&&g.getCapabilities(),constraints:g.getConstraints&&g.getConstraints()})),(_=this.call.createProducer(g,null,{streamName:this.streamName})).parallelTrack=k),g.stop(),this.call.sendTransport||this.call.createSendTransport(),P=function(){var e=(0,a.default)(o.default.mark(function e(r){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.send(S.call.sendTransport);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),h.default.warn("Unable to send producer",(0,n.default)({},(0,p.errLog)(e.t0),S.logData,{kind:t})),e.t0;case 9:r&&S.call._emit(d.updateProducer(S.streamName,_.id,_.rtpParameters.codecs[0].name,!1,null));case 10:case"end":return e.stop()}},e,S,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),x){e.next=41;break}return e.next=41,P();case 41:if(i)this._videoProducer=_,m.attachTo(_,this._statsInterval),v.watchCpuSpikes(_),_.on("webrtc-stats",function(e){S.call.emit("webrtc-stats",e)}),_.on("webrtc-anomaly",function(e){S.call.emit("webrtc-anomaly",e)});else if(this._audioProducer=_,this._useEchoDetection)try{this._echoDetector=new l.default(_.track),this._echoDetector.on("echo",function(){h.default.debug("echo detected at "+Date.now()+". Gain at "+S._gainNode.gain.value,(0,n.default)({},S.logData)),S._reduceGain()}),this._echoDetector.on("noecho",function(){h.default.debug("echo stopped at "+Date.now()+". Gain at "+S._gainNode.gain.value,(0,n.default)({},S.logData)),S._restoreGain()})}catch(T){h.default.error("unable to set up echo detector",(0,n.default)({},(0,p.errLog)(T),this.logData))}_.on("close",function(e){h.default.debug("producer close",(0,n.default)({},S.logData,{originator:e})),_.parallelTrack&&_.parallelTrack.stop(),i?S._videoProducer=null:S._audioProducer=null,S.call._closed||S.call._emit(d.removeProducer(S.streamName,_.id,e))}),_.on("pause",function(e){h.default.debug("producer pause",(0,n.default)({},S.logData,{originator:e})),S.call._closed||S.call._emit(d.setProducerPaused(S.streamName,_.id,e))}),_.on("resume",function(e){h.default.debug("producer resume",(0,n.default)({},S.logData,{originator:e})),S.call._closed||S.call._emit(d.setProducerResumed(S.streamName,_.id,e))}),this.call._closed||(i?(this.call._removeMessage(c.TROUBLESHOOTING.NO_WEBCAM),this.call._emit(d.addProducer(this.streamName,{id:_.id,kind:"video",streamName:this.streamName,streamType:r,locallyPaused:_.locallyPaused,remotelyPaused:_.remotelyPaused,paused:_.locallyPaused||_.remotelyPaused,track:_.track,codec:_.rtpParameters&&_.rtpParameters.codecs[0].name,preview:x,sendPreview:x?function(){return P(!0)}:null}))):(this.call._removeMessage(c.TROUBLESHOOTING.NO_MIC),this.call._emit(d.addProducer(this.streamName,{id:_.id,kind:"audio",streamName:this.streamName,streamType:r,locallyPaused:_.locallyPaused,remotelyPaused:_.remotelyPaused,paused:_.locallyPaused||_.remotelyPaused,track:_.track,codec:_.rtpParameters&&_.rtpParameters.codecs[0].name,preview:x,sendPreview:x?function(){return P(!0)}:null}))),h.default.debug("producer set",(0,n.default)({},this.logData,{kind:t,producerId:_.id})));case 46:case"end":return e.stop()}},e,this,[[14,28]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"disableAudio",value:function(){var e=(0,a.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._audioProducer){e.next=3;break}return h.default.warn("stream.disableAudio: calling disableAudio without an audio producer",(0,n.default)({},this.logData)),e.abrupt("return");case 3:return h.default.debug("disableAudio",(0,n.default)({},this.logData)),e.prev=4,e.next=7,this._audioProducer.close();case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(4),h.default.error("unable to close audio producer",(0,n.default)({},(0,p.errLog)(e.t0),this.logData)),e.t0;case 13:case"end":return e.stop()}},e,this,[[4,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"pauseAudio",value:function(){var e=(0,a.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._audioProducer){e.next=3;break}return h.default.warn("stream.pauseAudio: calling pauseAudio without an audio producer",(0,n.default)({},this.logData)),e.abrupt("return");case 3:h.default.debug("pauseAudio",(0,n.default)({},this.logData)),this._audioProducer.pause();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"enableAudio",value:function(){var e=(0,a.default)(o.default.mark(function e(t){var r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h.default.debug("enableAudio",(0,n.default)({},this.logData)),this.call._room&&this.call._room.joined){e.next=4;break}return h.default.warn("enableAudio called before the room was joined",(0,n.default)({},this.logData)),e.abrupt("return");case 4:if(this._audioProducer&&!t){e.next=28;break}if(this._audioStreamRetriever){e.next=9;break}throw r="no default audio stream retriever",h.default.error(r,(0,n.default)({},this.logData)),new Error(r);case 9:if(!this._audioProducer||!t){e.next=18;break}return e.prev=10,e.next=13,this._audioProducer.close();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),h.default.warn("call/stream.enableAudio - error closing audioProducer",(0,n.default)({},(0,p.errLog)(e.t0),this.logData));case 18:return e.prev=18,e.next=21,this._setProducer("audio",this._audioStreamRetrieverType,a);case 21:e.next=27;break;case 23:throw e.prev=23,e.t1=e.catch(18),h.default.warn("unable to set up audio producer",(0,n.default)({},(0,p.errLog)(e.t1),this.logData)),e.t1;case 27:return e.abrupt("return");case 28:this._audioProducer.resume();case 29:case"end":return e.stop()}},e,this,[[10,15],[18,23]])}));return function(t){return e.apply(this,arguments)}}()},{key:"enableVideo",value:function(){var e=(0,a.default)(o.default.mark(function e(t){var r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h.default.debug("enableVideo",(0,n.default)({},this.logData)),this.call._room&&this.call._room.joined){e.next=4;break}return h.default.warn("enableVideo called before the room was joined",(0,n.default)({},this.logData)),e.abrupt("return");case 4:if(this._videoProducer&&!t){e.next=28;break}if(this._videoStreamRetriever){e.next=9;break}throw r="no default video stream retriever",h.default.error(r,(0,n.default)({},this.logData)),new Error(r);case 9:if(!this._videoProducer||!t){e.next=18;break}return e.prev=10,e.next=13,this._videoProducer.close();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),h.default.warn("call/stream.enableVideo - error closing videoProducer",(0,n.default)({},(0,p.errLog)(e.t0),this.logData));case 18:return e.prev=18,e.next=21,this._setProducer("video",this._videoStreamRetrieverType,a);case 21:e.next=27;break;case 23:throw e.prev=23,e.t1=e.catch(18),h.default.warn("unable to set up video producer",(0,n.default)({},(0,p.errLog)(e.t1),this.logData)),e.t1;case 27:return e.abrupt("return");case 28:this._videoProducer.resume();case 29:case"end":return e.stop()}},e,this,[[10,15],[18,23]])}));return function(t){return e.apply(this,arguments)}}()},{key:"disableVideo",value:function(){var e=(0,a.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._videoProducer){e.next=3;break}return h.default.warn("stream.disableVideo: calling disable video without a video producer",(0,n.default)({},this.logData)),e.abrupt("return");case 3:return h.default.debug("disableVideo",(0,n.default)({},this.logData)),e.prev=4,e.next=7,this._videoProducer.close();case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(4),h.default.error("unable to close video producer",(0,n.default)({},(0,p.errLog)(e.t0),this.logData)),e.t0;case 13:case"end":return e.stop()}},e,this,[[4,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"pauseVideo",value:function(){var e=(0,a.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._videoProducer){e.next=3;break}return h.default.warn("stream.pauseVideo: calling pause video without a video producer",(0,n.default)({},this.logData)),e.abrupt("return");case 3:h.default.debug("pauseVideo",(0,n.default)({},this.logData)),this._videoProducer.pause();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_reduceGain",value:function(){this._gainNode.gain.cancelScheduledValues(b.currentTime),this._gainNode.gain.exponentialRampToValueAtTime(.5,b.currentTime,1)}},{key:"_restoreGain",value:function(){this._gainNode.gain.cancelScheduledValues(b.currentTime),this._gainNode.gain.exponentialRampToValueAtTime(this._baseGainValue,b.currentTime+30)}},{key:"close",value:function(){this._audioProducer&&(this._audioProducer.close(),this._audioProducer=null),this._videoProducer&&(this._videoProducer.close(),this._videoProducer=null),this._echoDetector&&(this._echoDetector.close(),this._echoDetector=null)}},{key:"logData",get:function(){return{streamName:this.streamName}}},{key:"audioProducer",get:function(){return this._audioProducer}},{key:"videoProducer",get:function(){return this._videoProducer}},{key:"hasVideoStreamRetriever",get:function(){return!!this._videoStreamRetriever}},{key:"hasAudioStreamRetriever",get:function(){return!!this._audioStreamRetriever}}]),e}();t.default=_},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(25)),o=u(r(17)),a=u(r(18)),i=u(r(34)),s=u(r(35));function u(e){return e&&e.__esModule?e:{default:e}}var l=r(22).EventEmitter,c=64,d=2;e.printOutput=!1;var f=function(t){function r(e){(0,o.default)(this,r);var t=(0,i.default)(this,(r.__proto__||(0,n.default)(r)).call(this));return t._audioContext=new(window.AudioContext||window.webkitAudioContext),t._analyserNode=t._audioContext.createAnalyser(),t._analyserNode.smoothingTimeConstant=.4,t._analyserNode.fftSize=c,t._history=[],t.echo=!1,t._processorNode=t._audioContext.createScriptProcessor(),t._dataArray=new Uint8Array(t._analyserNode.fftSize),t._processorNode.onaudioprocess=function(){t._analyserNode.getByteTimeDomainData(t._dataArray);var e=Date.now(),r=parseInt(e/1e3,10);t._currBucket!==r&&(t._history.length>d&&(t._history=t._history.slice(1,t._history.length),t.runAnalysis()),t._history.push([]),t._currBucket=r),t._history[t._history.length-1].push(t.dataResult()),t.total++},t._mediaStream=new MediaStream,t._mediaStream.addTrack(e),t._mediaStreamSource=t._audioContext.createMediaStreamSource(t._mediaStream),t._mediaStreamSource.connect(t._analyserNode),t._analyserNode.connect(t._processorNode),t}return(0,s.default)(r,t),(0,a.default)(r,[{key:"close",value:function(){this._audioContext.close(),this._audioContext=null}},{key:"dataResult",value:function(){for(var e=null,t=null,r=0,n=0;n<this._dataArray.length;n++){var o=this._dataArray[n];(null===e||o<e)&&(e=o),(null===t||o>t)&&(t=o),r+=o}return{lowest:e,highest:t,total:this._dataArray.length,sum:r,average:r/this._dataArray.length}}},{key:"runAnalysis",value:function(){for(var t=0,r=0,n=0,o=[],a=0;a<this._history.length;a++)for(var i=this._history[a],s=0;s<i.length;s++){var u=i[s],l=i[s-1]||this._history[a-1]&&this._history[a-1][this._history[a-1].length-1];if(l){var c=l.highest-.09*Math.abs(l.highest);if(u.highest<c)r++,o.push("d");else{var d=l.highest+.09*Math.abs(l.highest);u.highest>d?(t++,o.push("i")):(n++,o.push("s"))}}}var f=t+r,p=f+n;f/p>.4?this.echo||(this.echo=!0,this.emit("echo")):this.echo&&(this.echo=!1,this.emit("noecho")),function(){var t;e.printOutput&&(t=console).log.apply(t,arguments)}(o.join("")+" - ("+t+"/"+r+"/"+n+") ("+f+")/"+p+")")}}]),r}(l);t.default=f}).call(this,r(32))},function(e,t,r){"use strict";t.__esModule=!0;var n=a(r(369)),o=a(r(372));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,u=(0,o.default)(e);!(n=(s=u.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,r){e.exports={default:r(370),__esModule:!0}},function(e,t,r){r(94),r(77),e.exports=r(371)},function(e,t,r){var n=r(125),o=r(28)("iterator"),a=r(60);e.exports=r(16).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||a.hasOwnProperty(n(t))}},function(e,t,r){e.exports={default:r(373),__esModule:!0}},function(e,t,r){r(94),r(77),e.exports=r(374)},function(e,t,r){var n=r(40),o=r(126);e.exports=r(16).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){"use strict";var n=r(376),o=r(377),a=r(191);e.exports={formats:a,parse:o,stringify:n}},function(e,t,r){"use strict";var n=r(190),o=r(191),a=Object.prototype.hasOwnProperty,i={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,u=Array.prototype.push,l=function(e,t){u.apply(e,s(t)?t:[t])},c=Date.prototype.toISOString,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,formatter:o.formatters[o.default],indices:!1,serializeDate:function(e){return c.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,r,o,a,i,u,c,f,p,h,m,v,y){var g=t;if("function"===typeof c?g=c(r,g):g instanceof Date?g=h(g):"comma"===o&&s(g)&&(g=g.join(",")),null===g){if(a)return u&&!v?u(r,d.encoder,y):r;g=""}if("string"===typeof g||"number"===typeof g||"boolean"===typeof g||n.isBuffer(g))return u?[m(v?r:u(r,d.encoder,y))+"="+m(u(g,d.encoder,y))]:[m(r)+"="+m(String(g))];var b,_=[];if("undefined"===typeof g)return _;if(s(c))b=c;else{var w=Object.keys(g);b=f?w.sort(f):w}for(var k=0;k<b.length;++k){var E=b[k];i&&null===g[E]||(s(g)?l(_,e(g[E],"function"===typeof o?o(r,E):r,o,a,i,u,c,f,p,h,m,v,y)):l(_,e(g[E],r+(p?"."+E:"["+E+"]"),o,a,i,u,c,f,p,h,m,v,y)))}return _};e.exports=function(e,t){var r,n=e,u=function(e){if(!e)return d;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if("undefined"!==typeof e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=o.formatters[r],i=d.filter;return("function"===typeof e.filter||s(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?d.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:d.encode,encoder:"function"===typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:i,formatter:n,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}}(t);"function"===typeof u.filter?n=(0,u.filter)("",n):s(u.filter)&&(r=u.filter);var c,p=[];if("object"!==typeof n||null===n)return"";c=t&&t.arrayFormat in i?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=i[c];r||(r=Object.keys(n)),u.sort&&r.sort(u.sort);for(var m=0;m<r.length;++m){var v=r[m];u.skipNulls&&null===n[v]||l(p,f(n[v],v,h,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.formatter,u.encodeValuesOnly,u.charset))}var y=p.join(u.delimiter),g=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),y.length>0?g+y:""}},function(e,t,r){"use strict";var n=r(190),o=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},i=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},s=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(n),s=i?n.slice(0,i.index):n,u=[];if(s){if(!r.plainObjects&&o.call(Object.prototype,s)&&!r.allowPrototypes)return;u.push(s)}for(var l=0;null!==(i=a.exec(n))&&l<r.depth;){if(l+=1,!r.plainObjects&&o.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(i[1])}return i&&u.push("["+n.slice(i.index)+"]"),function(e,t,r){for(var n=t,o=e.length-1;o>=0;--o){var a,i=e[o];if("[]"===i&&r.parseArrays)a=[].concat(n);else{a=r.plainObjects?Object.create(null):{};var s="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,u=parseInt(s,10);r.parseArrays||""!==s?!isNaN(u)&&i!==s&&String(u)===s&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[])[u]=n:a[s]=n:a={0:n}}n=a}return n}(u,t,r)}};e.exports=function(e,t){var r=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?a.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:a.comma,decoder:"function"===typeof e.decoder?e.decoder:a.decoder,delimiter:"string"===typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"===typeof e.depth?e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var u="string"===typeof e?function(e,t){var r,s={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void 0:t.parameterLimit,c=u.split(t.delimiter,l),d=-1,f=t.charset;if(t.charsetSentinel)for(r=0;r<c.length;++r)0===c[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===c[r]?f="utf-8":"utf8=%26%2310003%3B"===c[r]&&(f="iso-8859-1"),d=r,r=c.length);for(r=0;r<c.length;++r)if(r!==d){var p,h,m=c[r],v=m.indexOf("]="),y=-1===v?m.indexOf("="):v+1;-1===y?(p=t.decoder(m,a.decoder,f),h=t.strictNullHandling?null:""):(p=t.decoder(m.slice(0,y),a.decoder,f),h=t.decoder(m.slice(y+1),a.decoder,f)),h&&t.interpretNumericEntities&&"iso-8859-1"===f&&(h=i(h)),h&&t.comma&&h.indexOf(",")>-1&&(h=h.split(",")),o.call(s,p)?s[p]=n.combine(s[p],h):s[p]=h}return s}(e,r):e,l=r.plainObjects?Object.create(null):{},c=Object.keys(u),d=0;d<c.length;++d){var f=c[d],p=s(f,u[f],r);l=n.merge(l,p,r)}return n.compact(l)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(46),a=(n=o)&&n.__esModule?n:{default:n};t.default=function(e){return new a.default(function(t,r){e.request(function(e,n){e?r(e):t(n)})})}},function(e,t,r){"use strict";var n=i(r(33)),o=i(r(17)),a=i(r(18));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,o.default)(this,e),this._storage={}}return(0,a.default)(e,[{key:"key",value:function(e){try{return window.localStorage.key(e)}catch(r){}var t=(0,n.default)(this._storage);return e<t.length?t[e]:null}},{key:"setItem",value:function(e,t){try{return void window.localStorage.setItem(e,t)}catch(r){}this._storage[e]=t}},{key:"getItem",value:function(e){try{return window.localStorage.getItem(e)}catch(t){}return this._storage[e]||null}},{key:"removeItem",value:function(e){try{return void window.localStorage.removeItem(e)}catch(t){}delete this._storage[e]}},{key:"clear",value:function(){try{return void window.localStorage.clear()}catch(e){}this._storage={}}}]),e}();e.exports=new s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errLog=void 0;var n=a(r(70)),o=a(r(192));function a(e){return e&&e.__esModule?e:{default:e}}t.errLog=function(e){return{errName:e&&e.name,errMessage:e&&e.message,errStack:e&&e.stack}};t.default=new n.default({registerPackage:{name:o.default}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=s(r(89)),a=s(r(382)),i=s(r(384));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.options=e||{},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),n(t,[{key:"setup",value:function(){var e=this;this.streamer=new i.default,this.recorder=new a.default,this.recorder.on("error",function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];e.emit.apply(e,["error"].concat(r)),e.stop()}),this.recorder.on("log",this.proxy("log")),this.recorder.on("start",this.proxy("start")),this.recorder.on("stop",function(){e.streamer&&(e.streamer.stop(),e.streamer.teardown(),e.streamer=null),e.emit("stop"),e.recorder.destroy(),e.recorder=null})}},{key:"apply",value:function(e){var t=this;return this.options=e||this.options,new Promise(function(e){var r=t.options.audioBitsPerSecond,n=t.options.videoBitsPerSecond;t.recorder&&t.recorder.apply({audioBitsPerSecond:r,videoBitsPerSecond:n,stream:t.options.stream}),t.streamer&&t.streamer.apply({origins:t.options.origins,streamingKey:t.options.streamingKey,stream:t.options.stream,broadcastProfile:{audioBitrate:r,audioCodec:"opus",chunkDuration:100,audioSampleRate:48e3,videoBitrate:1e3*n,videoCodec:"h264"}}),e()})}},{key:"broadcast",value:function(){var e=this;this.options.stream?"broadcasting"!==this.state&&(this.setup(),this.apply().then(function(){e.streamer.on("stop",function(){e.stop()}),e.streamer.on("abr:message",function(t){e.emit("abr:message",t)}),e.streamer.on("abr:downshift",e.proxy("abr:downshift")),e.streamer.on("abr:upshift",e.proxy("abr:upshift")),e.streamer.on("log",e.proxy("log")),e.streamer.on("reconnecting",e.proxy("reconnecting")),e.streamer.on("error",function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];e.emit.apply(e,["error"].concat(r)),e.stop()}),e.streamer.on("message",function(t){switch(t.data){case"reload":e.emit("reload"),e.recorder.apply();break;case"restart":e.emit("restart"),e.stop(),e.broadcast();break;case"shutdown":e.emit("shutdown"),e.stop()}}),e.streamer.on("open",function(){e.emit("connected"),e.recorder.on("data",e.streamer.pipe.bind(e.streamer)),e.recorder.record()}),e.streamer.setup()})):this.emit("deviceError")}},{key:"stop",value:function(){this.recorder&&this.recorder.stop(),this.streamer&&this.streamer.stop(),this.recorder=null,this.streamer=null,this.emit("stop")}},{key:"destroy",value:function(){this.stop()}},{key:"state",get:function(){return this.streamer||this.recorder?"broadcasting":"stopped"}}],[{key:"isSupported",value:function(){return a.default.isSupported()&&i.default.isSupported()}},{key:"verifySupport",value:function(){return Promise.resolve(a.default.isSupported()&&i.default.isSupported())}}]),t}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=i(r(89)),a=i(r(383));function i(e){return e&&e.__esModule?e:{default:e}}var s="video/webm; codecs=h264",u=10,l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r.log("debug","recorder constructed"),r.recorder=null,r.locked=!1,r.options=e||{},r.options.chunkDuration=r.options.chunkDuration||100,r.multiplierCoefficient=1,r.multiplier=new a.default(r,u),r.multiplier.on("log",r.proxy("log")),r.multiplier.on("end",function(e){r.multiplierCoefficient=e,r.startRecording()});var n=function(e){var t=new Error(e);setTimeout(function(){r.emit("error",{type:"mediaRecorder",err:t})},1)};return isNaN(r.options.chunkDuration)&&n("chunk duration must be an integer"),r.options.mimetype=r.options.mimetype||s,window.MediaRecorder&&window.MediaRecorder.isTypeSupported(r.options.mimetype)||n("mediarecorder mimetype is not supported"),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),n(t,[{key:"resetMultiplier",value:function(){this.multiplierCoefficient=1}},{key:"newMediaRecorder",value:function(e,t){var r=this,n=new window.MediaRecorder(e,t),o=e.getVideoTracks(),a=e.getAudioTracks();return this.log("info","new window media recorder",{options:t,audioTracks:a.length,audioTrackSettings:a.length?a[0].getSettings():void 0,videoTracks:o.length,videoTrackSettings:o.length?o[0].getSettings():void 0}),n.onerror=function(e){r.emit("error",{type:"mediaRecorder",err:new Error("media recorder error")}),r.stop()},n.onpause=function(){r.emit("pause")},n.onresume=function(){r.emit("resume")},n.onstart=function(){r.emit("start")},n.ondataavailable=function(e){r.emit("data",e.data)},n}},{key:"log",value:function(e,t,r){(r=r||{}).level=e,r.message=t,this.emit("log",r)}},{key:"lock",value:function(){this.locked=!0,this.emit("lock")}},{key:"unlock",value:function(){this.locked=!1,this.emit("unlock")}},{key:"apply",value:function(e,t){var r=this;if(e=e||{},this.stream="undefined"===typeof e.stream?this.stream:e.stream,this.options.audioBitsPerSecond="undefined"===typeof e.audioBitsPerSecond?this.options.audioBitsPerSecond:e.audioBitsPerSecond,this.options.videoBitsPerSecond="undefined"===typeof e.videoBitsPerSecond?this.options.videoBitsPerSecond:e.videoBitsPerSecond,this.stream){if(this.locked)return this.log("debug","recorder apply locked"),void setTimeout(function(){r.apply(e)},50);this.lock(),this.log("info","applying recorder options",{options:e}),this.startRecording(function(){r.unlock(),t&&t()})}}},{key:"startRecording",value:function(e){var t=this,r=function(r){return function(){t.recorder=t.newMediaRecorder(t.stream,t.recorderOptions),t.recorder.onstop=function(){t.emit("stop")},r&&t.record(),t.emit("stream",t.stream),e&&e()}};this.recorder&&"inactive"!==this.recorder.state?(this.recorder.onstop=r(!0),this.recorder.stop()):r(!1)()}},{key:"record",value:function(){var e=this;if(this.log("debug","recorder record"),this.stream)if(this.stream.getTracks().length)this.recorder||(this.recorder=this.newMediaRecorder(this.stream,this.recorderOptions)),"inactive"===this.state?this.recorder.start(this.options.chunkDuration):"paused"===this.state&&this.recorder.resume(),clearInterval(this.multiplierTimeout),this.multiplierTimeout=setTimeout(function(){"recording"===e.state?e.multiplier.get():clearTimeout(e.multiplierTimeout)},10*u*1e3),this.multiplier.get();else{this.stream=null,this.emit("stream",null);var t=new Error("attempting to start to record with a local stream that has no tracks");this.emit("error",{type:"mediaRecorder",err:t})}else{var r=new Error("attempting to record without a local stream");this.log("error","Failed record",{errMessage:r.message,stack:r.stack})}}},{key:"pause",value:function(){if(this.log("debug","recorder pause"),this.recorder)this.recorder.pause();else{var e=new Error("attempting to pause recorder with no recorder");this.log("error","Failed pause",{errMessage:e.message,stack:e.stack})}}},{key:"stop",value:function(){if(this.log("debug","recorder stop"),this.recorder)this.recorder&&"inactive"!==this.recorder.state?this.recorder.stop():this.emit("stop");else{var e=new Error("attempting to stop recorder with no recorder");this.log("error","Failed stop",{errMessage:e.message,stack:e.stack})}}},{key:"destroy",value:function(){var e=this;this.log("debug","recorder destroy"),this.removeAllListeners(),this.multiplier&&(this.multiplier.removeAllListeners("end"),this.multiplier.destroy()),this.recorder?(this.recorder.onstop=function(){e.recorder=null,e.destroyed=!0},this.stop()):this.destroyed=!0}},{key:"state",get:function(){return this.recorder?this.recorder.state:"inactive"}},{key:"recorderOptions",get:function(){return{audioBitsPerSecond:this.options.audioBitsPerSecond,videoBitsPerSecond:this.options.videoBitsPerSecond,mimeType:this.options.mimetype}}}],[{key:"isSupported",value:function(e){return!!window.MediaRecorder&&window.MediaRecorder.isTypeSupported(e||s)}}]),t}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(22),i=(n=a)&&n.__esModule?n:{default:n};var s=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.recorder=e,n.count=0,n.countFor=r,n.blobTotal=0,n.boundCalculateMultiplier=n.calculateMultiplier.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"calculateMultiplier",value:function(e){var t=this;0===this.count&&(t.endTimeout=setTimeout(function(){var e=8*t.blobTotal/t.countFor,r=Math.max(t.totalExpected/e,1);t.emit("log",{level:"info",message:"multiplier",bits:e,samples:t.count,totalExpected:t.totalExpected,multiplier:r}),t.recorder.removeListener("data",t.boundCalculateMultiplier),t.emit("end",r)},1e3*t.countFor+50)),this.blobTotal+=e.size,this.count++}},{key:"get",value:function(){this.blobTotal=0,this.count=0,this.recorder.addListener("data",this.boundCalculateMultiplier)}},{key:"destroy",value:function(){clearTimeout(this.endTimeout)}},{key:"totalExpected",get:function(){var e=this.recorder.recorder||this.recorder.recorderOptions;return e.audioBitsPerSecond+e.videoBitsPerSecond}}]),t}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=u(r(89)),a=u(r(385)),i=u(r(386)),s=r(391);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.failedOrigins={},l(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),n(t,[{key:"apply",value:function(e){if(this.emit("log",{message:"apply streamer options",level:"info",options:e}),!e)throw new Error("Streamer apply requires a location and a getStream function");this.lastPts=null,this.chunks=[],this.broadcastProfile=e.broadcastProfile,this.flushing=!1,this.origins=e.origins,this.streamingKey=e.streamingKey,this.stream=e.stream}},{key:"setup",value:function(){var e=this;this.emit("log",{message:"streamer setup",level:"debug"}),this.transport=new a.default(function(){return e.location}),this.abrController=new s.Controller(this.transport),this.abrController.on("message",function(t){e.lastPts=t.lastPts,e.emit("abr:message",t)}),this.abrController.on("downshift",this.proxy("abr:downshift")),this.abrController.on("upshift",this.proxy("abr:upshift")),this.abrController.on("error",this.proxy("error")),this.transport.on("abnormalClose",function(t){e.failedOrigins[e.origins[0]]=!0,e.transport.connect()}),this.transport.on("reconnecting",function(){e.reconnect=1,e.emit("reconnecting")}),this.transport.on("stop",this.proxy("stop")),this.transport.on("log",this.proxy("log")),this.transport.on("error",this.proxy("error")),this.transport.on("message",this.proxy("message")),this.transport.on("open",this.proxy("open")),this.transport.connect()}},{key:"flush",value:function(){var e=this;if(!this.flushing){this.flushing=!0;var t=this.chunks.shift();t?(0,i.default)(t,function(t,r){e.flushing=!1,e.transport&&(e.flush(),t?e.emit("error",{err:t,type:"streamer"}):e.transport.send(r))}):this.flushing=!1}}},{key:"pipe",value:function(e){this.chunks.push(e),this.chunks.length>200&&this.chunks.splice(0,this.chunks.length-200),this.flush()}},{key:"teardown",value:function(){this.emit("log",{message:"streamer teardown",level:"debug"}),this.lastPts=null,this.transport&&(this.transport.destroy(),this.transport=null),this.abrController&&(this.abrController.removeAllListeners(),this.abrController=null),this.chunks=[]}},{key:"stop",value:function(){this.transport&&this.transport.disconnect("done")}},{key:"querystring",get:function(){var e=[],t=this.stream.getAudioTracks(),r=this.stream.getVideoTracks(),n=this.broadcastProfile,o=function(t,r){e.push(t+"="+r)};if(t.length&&(o("audioBitrate",n.audioBitrate),o("audioCodec",n.audioCodec),o("audioSampleRate",n.audioSampleRate)),r.length){var a=r[0].getSettings(),i=a.height,s=a.width,u=Math.floor(a.frameRate);o("frameHeight",i),o("frameRate",u),o("frameWidth",s),o("videoBitrate",n.videoBitrate),o("videoCodec",n.videoCodec)}return this.lastPts&&(o("last_pts",this.lastPts),o("reconnect",1)),e.join("&")}},{key:"location",get:function(){if(!this.origins.length)return null;for(var e=void 0,t=0;t<this.origins.length;t++){var r=this.origins[t];if(!this.failedOrigins[r]){e=r;break}}return e?e+"/"+this.streamingKey+"?"+this.querystring:(this.failedOrigins={},this.emit("log",{message:"all origins have failed",level:"error",origins:this.origins}),this.emit("stop"),null)}}],[{key:"isSupported",value:function(){return a.default.isSupported()}}]),t}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(22),i=(n=a)&&n.__esModule?n:{default:n};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.emit("log",{level:"debug",message:"transport constructor"}),r.location=e,r.buffer=[],r.retryCount=0,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"createWsConnection",value:function(){var e=this,t="function"===typeof this.location?this.location():this.location;this.emit("log",{level:"info",message:"transport create connection",url:t}),this.ws=new window.WebSocket(t);var r=0;this.ws.onclose=function(t){if(e.emit("log",{level:"debug",message:"websocket connection closed",code:t.code}),1006===t.code&&0===r)return e.ws=null,void e.emit("abnormalClose");e.destroyed||function(){if(e.retryCount>1)return e.emit("close"),void e.destroy();e.retryCount++,e.emit("reconnecting"),e.createWsConnection()}()},this.ws.onmessage=function(t){r++,e.emit("message",t)},this.ws.onopen=function(){r=0,setTimeout(function(){e.ws&&1===e.ws.readyState&&clearTimeout(e.selfDestructTimer)},5e3),e.emit("open");for(var t=void 0;e.buffer.length;)t=e.buffer.shift(),e.ws.send(t)}}},{key:"connect",value:function(){this.emit("log",{level:"debug",message:"transport connect"}),this.ws||this.createWsConnection()}},{key:"disconnect",value:function(e,t){var r=this;this.emit("log",{level:"info",message:"transport disconnect",reason:e}),clearTimeout(this.retryTimeout),this.ws&&(this.ws.onclose=function(){r.ws=null,t&&t()},this.ws.onmessage=null,e?this.send("shutdown?reason="+e):(this.emit("log",{level:"debug",message:"closing websocket connection"}),this.ws.close()))}},{key:"destroy",value:function(){this.emit("log",{level:"debug",message:"transport destroy"}),this.destroyed=!0,this.disconnect()}},{key:"send",value:function(e){if(!this.ws||"OPEN"!==this.status)return this.buffer.push(e),void this.buffer.splice(0,200);try{this.ws.send(e)}catch(t){this.emit("error",{type:"transport-send",err:t})}}},{key:"status",get:function(){if(!this.ws)return"CLOSED";switch(this.ws.readyState){case 0:return"CONNECTING";case 1:return"OPEN";case 2:return"CLOSING";default:return"CLOSED"}}}],[{key:"isSupported",value:function(){return!!window.WebSocket}}]),t}();t.default=s},function(e,t,r){"use strict";(function(t){e.exports=function(e,r){var n=new window.FileReader;n.onerror=function(){r(new Error("failed to read blob"))},n.onload=function(){r(null,t.from(n.result))},n.readAsArrayBuffer(e)}}).call(this,r(387).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(388),o=r(389),a=r(390);function i(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,r,n):"string"===typeof t?function(e,t,r){"string"===typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(t,r),o=(e=s(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|p(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(n=t.length)!==n?s(e,0):f(e,t);if("Buffer"===t.type&&a(t.data))return f(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function f(e,t){var r=t.length<0?0:0|p(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(n)return B(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,o){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,o);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,o){var a,i=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i=2,s/=2,u/=2,r/=2}function l(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){var c=-1;for(a=r;a<s;a++)if(l(e,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*i}else-1!==c&&(a-=a-c),c=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var d=!0,f=0;f<u;f++)if(l(e,a+f)!==l(t,f)){d=!1;break}if(d)return a}return-1}function g(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var i=0;i<n;++i){var s=parseInt(t.substr(2*i,2),16);if(isNaN(s))return i;e[r+i]=s}return i}function b(e,t,r,n){return W(B(t,e.length-r),e,r,n)}function _(e,t,r,n){return W(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return _(e,t,r,n)}function k(e,t,r,n){return W(V(t),e,r,n)}function E(e,t,r,n){return W(function(e,t){for(var r,n,o,a=[],i=0;i<e.length&&!((t-=2)<0);++i)r=e.charCodeAt(i),n=r>>8,o=r%256,a.push(o),a.push(n);return a}(t,e.length-r),e,r,n)}function P(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var a,i,s,u,l=e[o],c=null,d=l>239?4:l>223?3:l>191?2:1;if(o+d<=r)switch(d){case 1:l<128&&(c=l);break;case 2:128===(192&(a=e[o+1]))&&(u=(31&l)<<6|63&a)>127&&(c=u);break;case 3:a=e[o+1],i=e[o+2],128===(192&a)&&128===(192&i)&&(u=(15&l)<<12|(63&a)<<6|63&i)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:a=e[o+1],i=e[o+2],s=e[o+3],128===(192&a)&&128===(192&i)&&128===(192&s)&&(u=(15&l)<<18|(63&a)<<12|(63&i)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),o+=d}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=i(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return l(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return c(t),t<=0?s(e,t):void 0!==r?"string"===typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,a=Math.min(r,n);o<a;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(!u.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return P(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(n>>>=0),i=(r>>>=0)-(t>>>=0),s=Math.min(a,i),l=this.slice(n,o),c=e.slice(t,r),d=0;d<s;++d)if(l[d]!==c[d]){a=l[d],i=c[d];break}return a<i?-1:i<a?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function T(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function O(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",a=t;a<r;++a)o+=U(e[a]);return o}function R(e,t,r){for(var n=e.slice(t,r),o="",a=0;a<n.length;a+=2)o+=String.fromCharCode(n[a]+256*n[a+1]);return o}function M(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,o,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function j(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,a=Math.min(e.length-r,2);o<a;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function I(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,a=Math.min(e.length-r,4);o<a;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function A(e,t,r,n,o,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,a){return a||A(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,a){return a||A(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;r=new u(o,void 0);for(var a=0;a<o;++a)r[a]=this[a+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||M(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||M(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},u.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||M(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||M(e,t,this.length);for(var n=t,o=1,a=this[e+--n];n>0&&(o*=256);)a+=this[e+--n]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);D(this,e,t,r,o-1,-o)}var a=0,i=1,s=0;for(this[t]=255&e;++a<r&&(i*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);D(this,e,t,r,o-1,-o)}var a=r-1,i=1,s=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,a=n-r;if(this===e&&r<t&&t<n)for(o=a-1;o>=0;--o)e[o+t]=this[o+r];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(a=t;a<r;++a)this[a]=e;else{var i=u.isBuffer(e)?e:B(new u(e,n).toString()),s=i.length;for(a=0;a<r-t;++a)this[a+t]=i[a%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var r;t=t||1/0;for(var n=e.length,o=null,a=[],i=0;i<n;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(i+1===n){(t-=3)>-1&&a.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&a.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function V(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r(32))},function(e,t,r){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=l(e),n=r[0],i=r[1],s=new a(function(e,t,r){return 3*(t+r)/4-r}(0,n,i)),u=0,c=i>0?n-4:n,d=0;d<c;d+=4)t=o[e.charCodeAt(d)]<<18|o[e.charCodeAt(d+1)]<<12|o[e.charCodeAt(d+2)]<<6|o[e.charCodeAt(d+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===i&&(t=o[e.charCodeAt(d)]<<2|o[e.charCodeAt(d+1)]>>4,s[u++]=255&t);1===i&&(t=o[e.charCodeAt(d)]<<10|o[e.charCodeAt(d+1)]<<4|o[e.charCodeAt(d+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,a=[],i=0,s=r-o;i<s;i+=16383)a.push(c(e,i,i+16383>s?s:i+16383));1===o?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],o=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=i.length;s<u;++s)n[s]=i[s],o[i.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var o,a,i=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(n[(a=o)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return i.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var a,i,s=8*o-n-1,u=(1<<s)-1,l=u>>1,c=-7,d=r?o-1:0,f=r?-1:1,p=e[t+d];for(d+=f,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+e[t+d],d+=f,c-=8);for(i=a&(1<<-c)-1,a>>=-c,c+=n;c>0;i=256*i+e[t+d],d+=f,c-=8);if(0===a)a=1-l;else{if(a===u)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,n),a-=l}return(p?-1:1)*i*Math.pow(2,a-n)},t.write=function(e,t,r,n,o,a){var i,s,u,l=8*a-o-1,c=(1<<l)-1,d=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-i))<1&&(i--,u*=2),(t+=i+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(i++,u/=2),i+d>=c?(s=0,i=c):i+d>=1?(s=(t*u-1)*Math.pow(2,o),i+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),i=0));o>=8;e[r+p]=255&s,p+=h,s/=256,o-=8);for(i=i<<o|s,l+=o;l>0;e[r+p]=255&i,p+=h,i/=256,l-=8);e[r+p-h]|=128*m}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Calibration=t.Controller=void 0;var n,o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(22),s=(n=i)&&n.__esModule?n:{default:n};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=3;function f(e,t){return t=t||0,Math.round(parseInt(e,10)*Math.pow(10,t))/Math.pow(10,t)}var p=function(e){function t(e){u(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r.ws=e,r.config={AVG_DELV_TM_WIN_SIZE:20,T_SCORE_CONFIDANCE:2,STEADY_STREAM_WIN_SIZE:10,STEADY_STREAM_THRESHOLD:.95,CLOCK_DRIFT_STEADY_THRESHOLD:.7,CLOCK_DRIFT_WIN_SIZE:10,CLOCK_DRIFT_WARM_UP:6e4,CLOCK_DRIFT_PRECISION:6,UNDERFLOW_THRESHOLD:500,UP_SHIFT_THRESHOLD:100,BITRATE_STEPS_KBPS:50,BITRATE_WIN_SIZE:5,DOWNSHIFT_BITRATE_PERCENTILE:.2,UPSHIFT_BITRATE_PERCENTILE:.8,MIN_NUM_OF_EVENTS_TO_REPORT:10,HISTOGRAM_DECAY_RATE:.96};var n={avg:0,std:0},a=0,i=0,s={bitrateToDownshift:[],bitrateToUpshift:[],downshiftCount:0,upshiftCount:0,downshiftCountDecay:0,upshiftCountDecay:0,bitrateMA:0,lastSrvEpoch:0,lastTotalBytes:0},c=function(e){var t=void 0;try{if("reload"===e.data||"shutdown"===e.data)return;if("object"!==("undefined"===typeof(t=JSON.parse(e.data))?"undefined":o(t))||"undefined"===typeof t.avgDelvTm)return}catch(C){return void r.emit("error",{type:"calibration",err:C})}r.emit("message",t);var u=n.std*n.std+t.stdDelvTm*t.stdDelvTm,l=Math.abs(t.avgDelvTm-n.avg)/Math.sqrt(u/r.config.AVG_DELV_TM_WIN_SIZE);if(n.avg=t.avgDelvTm,n.std=t.stdDelvTm,i+=1/r.config.STEADY_STREAM_WIN_SIZE*((l<r.config.T_SCORE_CONFIDANCE)-i),t.srvEpoch>r.config.CLOCK_DRIFT_WARM_UP&&0===r.ws.bufferedAmount&&i>r.config.CLOCK_DRIFT_STEADY_THRESHOLD){var c=(t.srvEpoch-t.encEpoch)/t.srvEpoch;a+=1/r.config.CLOCK_DRIFT_WIN_SIZE*(c-a)}var d=t.srvEpoch-t.encEpoch-f(a,r.config.CLOCK_DRIFT_PRECISION)*t.srvEpoch;if(0===s.lastSrvEpoch)s.lastSrvEpoch=t.srvEpoch,s.lastTotalBytes=t.vidBytes+t.audBytes;else{var p=t.srvEpoch-s.lastSrvEpoch;if(p){s.lastSrvEpoch=t.srvEpoch;var h=t.vidBytes+t.audBytes-s.lastTotalBytes;s.lastTotalBytes=t.vidBytes+t.audBytes;var m=8*h/p;s.bitrateMA+=1/r.config.BITRATE_WIN_SIZE*(m-s.bitrateMA)}}r.emit("log",{level:"debug",message:"stats",srvEpoch:t.srvEpoch,encEpock:t.encEpoch,currentDelta:f(d,2),avgDelvTm:t.avgDelvTm,stdDelvTm:t.stdDelvTm,steadyStreamMA:f(i,2),clockDrift:f(a,r.config.CLOCK_DRIFT_PRECISION),wsBufferedAmount:r.ws.bufferedAmount,bitrateMA:f(s.bitrateMA)});var v=!1,y=f(s.bitrateMA/r.config.BITRATE_STEPS_KBPS);d>r.config.UNDERFLOW_THRESHOLD?(s.bitrateToDownshift[y]?s.bitrateToDownshift[y]++:s.bitrateToDownshift[y]=1,s.downshiftCount++,s.downshiftCountDecay++,v=!0):i>r.config.STEADY_STREAM_THRESHOLD&&0===r.ws.bufferedAmount&&d<r.config.UP_SHIFT_THRESHOLD&&(s.bitrateToUpshift[y]?s.bitrateToUpshift[y]++:s.bitrateToUpshift[y]=1,s.upshiftCount++,s.upshiftCountDecay++,v=!0);for(var g=function(e){return f(e*r.config.HISTOGRAM_DECAY_RATE*100,2)},b=0;b<s.bitrateToDownshift.length;b++)s.bitrateToDownshift[b]&&(s.bitrateToDownshift[b]=g(s.bitrateToDownshift[b]));for(var _=0;_<s.bitrateToUpshift.length;_++)s.bitrateToUpshift[_]&&(s.bitrateToUpshift[_]=g(s.bitrateToUpshift[_]));if(s.downshiftCountDecay=g(s.downshiftCountDecay),s.upshiftCountDecay=g(s.upshiftCountDecay),r.ws.bufferedAmount&&r.emit("log",{level:"debug",message:"bitrate-history",bitrateAndAlertsHistory:s}),v&&s.downshiftCount+s.upshiftCount>r.config.MIN_NUM_OF_EVENTS_TO_REPORT){var w=s.downshiftCountDecay*r.config.DOWNSHIFT_BITRATE_PERCENTILE,k=0,E=0;if(s.downshiftCountDecay)for(var P=0;P<s.bitrateToDownshift.length&&k<w;P++)s.bitrateToDownshift[P]&&(k+=s.bitrateToDownshift[P]),E+=r.config.BITRATE_STEPS_KBPS;else E=Number.MAX_VALUE;var S=s.upshiftCountDecay*r.config.UPSHIFT_BITRATE_PERCENTILE,x=0;if(k=0,s.upshiftCountDecay)for(var T=0;T<s.bitrateToUpshift.length&&k<S;T++)s.bitrateToDownshift[T]&&(k+=s.bitrateToDownshift[T]),x+=r.config.BITRATE_STEPS_KBPS;r.emit("log",{level:"informational",message:"upshift-decay",lowKbps:x,bitrateMA:s.bitrateMA,highKbps:E,upshiftCount:s.upshiftCount,upshiftCountDecay:s.upshiftCountDecay,downshiftCount:s.downshiftCount,downshiftCountDecay:s.downshiftCountDecay}),x<E&&(d>r.config.UNDERFLOW_THRESHOLD&&s.bitrateMA>=E?r.emit("downshift",{bitrateMA:s.bitrateMA,lowKbps:x,highKbps:E}):i>r.config.STEADY_STREAM_THRESHOLD&&0===r.ws.bufferedAmount&&d<r.config.UP_SHIFT_THRESHOLD&&s.bitrateMA<=x&&r.emit("upshift",{lowKbps:x,bitrateMA:s.bitrateMA,highKbps:E}))}};return r.ws.addEventListener?r.ws.addEventListener("message",c.bind(r)):r.ws.on&&r.ws.on("message",c.bind(r)),r}return c(t,s.default),a(t,[{key:"destroy",value:function(){}}]),t}(),h=function(e){function t(e,r){u(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.length||n.emit("error",{type:"calibration",err:new Error("no available regions")}),n.regions=e,n.numFeedbacksPerTarget=d,n.outputKbps=f(r)||5e3,n.totalCount=0,n.timer=0,n.timeoutTimer=0,n.ws=null,n}return c(t,s.default),a(t,[{key:"getRegion",value:function(e){return this.regions[e].calibration+"?"+this.querystring}},{key:"close",value:function(){clearInterval(this.timer),clearTimeout(this.timeoutTimer),this.ws&&this.ws.close()}},{key:"sendMsg",value:function(e,t){e.send(new ArrayBuffer(t))}},{key:"terminateCalibration",value:function(){this.ws&&this.close()}},{key:"calibrateRegion",value:function(e){var t=this;if(e>=this.regions.length)return this.selectedRegion.avgBitrateKbps?(this.emit("end",this.selectedRegion),void this.close()):(this.emit("error",{type:"calibration",err:new Error("Could not find region")}),void this.close());0!==this.timer&&(clearInterval(this.timer),this.timer=0);var r=this.getRegion(e);this.ws=new window.WebSocket(r);var n=void 0,o=0,a=[],i=function(){var e=1e3*t.outputKbps/8/10;o+=e,t.ws&&1===t.ws.readyState&&t.sendMsg(t.ws,e)};this.ws.onclose=function(){t.calibrateRegion(e+1)};this.ws.addEventListener("error",function(e){t.emit("log",{level:"error",message:"websocket-error",uri:r})}),this.ws.onopen=function(e){n=t.numFeedbacksPerTarget,setTimeout(function(){clearInterval(t.timer)},2e3*n),t.timer=setInterval(i,100)},this.ws.onmessage=function(r){var i=void 0;try{i=JSON.parse(r.data)}catch(p){return}if(a.push(8*i.sampleBytes/i.interval),n--,t.totalCount--,0===n){var s=8*i.totalBytes/i.dur,u=0,l=0;if(a.length){for(var c=0;c<a.length;c++)u+=a[c];l=u/a.length}t.emit("log",{level:"debug",message:"server-end",uri:t.regions[e].calibration,recvSentRatio:f(i.totalBytes/o,3),bitrateKbps:f(s,2),avgBitrateKbps:f(l,2)});var d={region:t.regions[e],totalBytesReceived:i.totalBytes,totalBytesSent:o,recvSentRatio:i.totalBytes/o,bitrateKbps:s,avgBitrateKbps:l};s>t.selectedRegion.bitrateKbps&&(t.selectedRegion=d),function(e){clearInterval(t.timer),t.emit("log",{level:"informational",message:"region",kbps:e.bitrateKbps}),t.emit("region",e),t.close()}(d)}}}},{key:"calibrate",value:function(){var e=this;this.selectedRegion={region:this.regions[0],totalBytesReceived:0,totalBytesSent:0,recvSentRatio:0,bitrateKbps:0,avgBitrateKbps:0},this.totalCount=this.numFeedbacksPerTarget*this.regions.length,this.timeoutTimer=setTimeout(function(){e.terminateCalibration(),e.totalCount>0&&e.emit("timeout",e.totalCount)},15e3*this.regions.length),this.calibrateRegion(0)}},{key:"querystring",get:function(){return""}}]),t}();t.Controller=p,t.Calibration=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=[{kbps:3500,audioKbps:128,height:1080,aspectRatio:16/9,frameRate:30},{kbps:2500,audioKbps:256,height:720,aspectRatio:16/9,frameRate:30,default:!0},{kbps:1500,audioKbps:128,height:540,aspectRatio:16/9,frameRate:30,default:!0},{kbps:800,audioKbps:96,height:360,aspectRatio:16/9,frameRate:24}],a=o.find(function(e){return!0===e.default}),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.adaptive=!1,this.audio="undefined"===typeof t.audio?"default":t.audio,this.audioKbps=t.audioKbps||a.audioKbps,this.default=!!t.default,this.filtersEnabled=t.filtersEnabled||!1,this.filters=t.filters||{},this.frameRate=t.frameRate||a.frameRate,this.id="undefined"===typeof t.id?"custom":t.id,this.aspectRatio=t.aspectRatio||a.aspectRatio,this.height=t.height||a.height,this.kbps=t.kbps||a.kbps,this.width=t.aspectRatio?this.height*t.aspectRatio:this.height*a.aspectRatio,this.video="undefined"===typeof t.video?"default":t.video,this.volume=t.volume||.5}return n(e,[{key:"dump",value:function(){return{adaptive:this.adaptive,aspectRatio:this.aspectRatio,audio:this.audio,audioKbps:this.audioKbps,frameRate:this.frameRate,filtersEnabled:this.filtersEnabled,filters:this.filters,id:this.id,height:this.height,kbps:this.kbps,video:this.video,videoKbps:this.videoKbps,volume:this.volume}}},{key:"videoKbps",get:function(){return this.kbps-this.audioKbps}}]),e}(),s=o.map(function(e){return new i(e)}),u=s.find(function(e){return e.default});t.PROFILES=o,t.Profile=i,t.defaultProfile=u,t.profiles=s,t.copyInstance=function(e){var t=Object.assign(Object.create(Object.getPrototypeOf(e)),e);return t.filters=Object.assign({},e.filters),t}},function(e,t,r){"use strict";var n=r(394);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,a,i){if(i!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=86)}({17:function(e,t,r){var n,o,a;o=[t,r(89)],void 0===(a="function"==typeof(n=function(r,n){"use strict";function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,(r=[{key:"getFirstMatch",value:function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""}},{key:"getSecondMatch",value:function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""}},{key:"matchAndReturnConst",value:function(e,t,r){if(e.test(t))return r}},{key:"getWindowsVersionName",value:function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}},{key:"getAndroidVersionName",value:function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":void 0}},{key:"getVersionPrecision",value:function(e){return e.split(".").length}},{key:"compareVersions",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.getVersionPrecision(t),a=e.getVersionPrecision(r),i=Math.max(o,a),s=0,u=e.map([t,r],function(t){var r=i-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(n&&(s=i-Math.min(o,a)),i-=1;i>=s;){if(u[0][i]>u[1][i])return 1;if(u[0][i]===u[1][i]){if(i===s)return 0;i-=1}else if(u[0][i]<u[1][i])return-1}}},{key:"map",value:function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n}},{key:"getBrowserAlias",value:function(e){return n.BROWSER_ALIASES_MAP[e]}}])&&o(t,r),e;var t,r}();r.default=a,e.exports=t.default})?n.apply(t,o):n)||(e.exports=a)},86:function(e,t,r){var n,o,a;o=[t,r(87)],void 0===(a="function"==typeof(n=function(r,n){"use strict";function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n=(a=n)&&a.__esModule?a:{default:a};var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,(r=[{key:"getParser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof e)throw new Error("UserAgent should be a string");return new n.default(e,t)}},{key:"parse",value:function(e){return new n.default(e).getResult()}}])&&o(t,r),e;var t,r}();r.default=i,e.exports=t.default})?n.apply(t,o):n)||(e.exports=a)},87:function(e,t,r){var n,o,a;o=[t,r(88),r(90),r(91),r(92),r(17)],void 0===(a="function"==typeof(n=function(r,n,o,a,i,s){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n=u(n),o=u(o),a=u(a),i=u(i),s=u(s);var d=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null==t||""===t)throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==r&&this.parse()}return t=e,(r=[{key:"getUA",value:function(){return this._ua}},{key:"test",value:function(e){return e.test(this._ua)}},{key:"parseBrowser",value:function(){var e=this;this.parsedResult.browser={};var t=n.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}},{key:"getBrowser",value:function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}},{key:"getBrowserName",value:function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}},{key:"getBrowserVersion",value:function(){return this.getBrowser().version}},{key:"getOS",value:function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}},{key:"parseOS",value:function(){var e=this;this.parsedResult.os={};var t=o.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}},{key:"getOSName",value:function(e){var t=this.getOS(),r=t.name;return e?String(r).toLowerCase()||"":r||""}},{key:"getOSVersion",value:function(){return this.getOS().version}},{key:"getPlatform",value:function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}},{key:"getPlatformType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getPlatform(),r=t.type;return e?String(r).toLowerCase()||"":r||""}},{key:"parsePlatform",value:function(){var e=this;this.parsedResult.platform={};var t=a.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}},{key:"getEngine",value:function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}},{key:"getEngineName",value:function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}},{key:"parseEngine",value:function(){var e=this;this.parsedResult.engine={};var t=i.default.find(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}},{key:"parse",value:function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}},{key:"getResult",value:function(){return Object.assign({},this.parsedResult)}},{key:"satisfies",value:function(e){var t=this,r={},n=0,o={},a=0,i=Object.keys(e);if(i.forEach(function(t){var i=e[t];"string"==typeof i?(o[t]=i,a+=1):"object"===l(i)&&(r[t]=i,n+=1)}),n>0){var s=Object.keys(r),u=s.find(function(e){return t.isOS(e)});if(u){var c=this.satisfies(r[u]);if(void 0!==c)return c}var d=s.find(function(e){return t.isPlatform(e)});if(d){var f=this.satisfies(r[d]);if(void 0!==f)return f}}if(a>0){var p=Object.keys(o),h=p.find(function(e){return t.isBrowser(e,!0)});if(void 0!==h)return this.compareVersion(o[h])}}},{key:"isBrowser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getBrowserName(),n=[r.toLowerCase()],o=s.default.getBrowserAlias(r);return t&&void 0!==o&&n.push(o.toLowerCase()),-1!==n.indexOf(e.toLowerCase())}},{key:"compareVersion",value:function(e){var t=[0],r=e,n=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(s.default.compareVersions(o,r,n))>-1}},{key:"isOS",value:function(e){return this.getOSName(!0)===String(e).toLowerCase()}},{key:"isPlatform",value:function(e){return this.getPlatformType(!0)===String(e).toLowerCase()}},{key:"isEngine",value:function(e){return this.getEngineName(!0)===String(e).toLowerCase()}},{key:"is",value:function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)}},{key:"some",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.some(function(t){return e.is(t)})}}])&&c(t.prototype,r),e;var t,r}();r.default=d,e.exports=t.default})?n.apply(t,o):n)||(e.exports=a)},88:function(e,t,r){var n,o,a;o=[t,r(17)],void 0===(a="function"==typeof(n=function(r,n){"use strict";var o;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n=(o=n)&&o.__esModule?o:{default:o};var a=/version\/(\d+(\.?_?\d+)+)/i,i=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=n.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||n.default.getFirstMatch(a,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=n.default.getFirstMatch(a,e)||n.default.getFirstMatch(/(?:opera)[\s\/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=n.default.getFirstMatch(/(?:opr|opios)[\s\/](\S+)/i,e)||n.default.getFirstMatch(a,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=n.default.getFirstMatch(a,e)||n.default.getFirstMatch(/(?:SamsungBrowser)[\s\/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=n.default.getFirstMatch(a,e)||n.default.getFirstMatch(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=n.default.getFirstMatch(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(a,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=n.default.getFirstMatch(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(a,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=n.default.getFirstMatch(/(?:swing)[\s\/](\d+(?:\.\d+)+)/i,e)||n.default.getFirstMatch(a,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=n.default.getFirstMatch(a,e)||n.default.getFirstMatch(/(?:coast)[\s\/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=n.default.getFirstMatch(/(?:yabrowser)[\s\/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(a,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=n.default.getFirstMatch(a,e)||n.default.getFirstMatch(/(?:ucbrowser)[\s\/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=n.default.getFirstMatch(a,e)||n.default.getFirstMatch(/(?:Maxthon|mxios)[\s\/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=n.default.getFirstMatch(a,e)||n.default.getFirstMatch(/(?:epiphany)[\s\/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=n.default.getFirstMatch(a,e)||n.default.getFirstMatch(/(?:puffin)[\s\/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=n.default.getFirstMatch(a,e)||n.default.getFirstMatch(/(?:sleipnir)[\s\/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=n.default.getFirstMatch(a,e)||n.default.getFirstMatch(/(?:k-meleon)[\s\/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=n.default.getFirstMatch(/(?:micromessenger)[\s\/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(a,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=n.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=n.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=n.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=n.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=n.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=n.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=n.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=n.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=n.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=n.default.getFirstMatch(a,e)||n.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=n.default.getFirstMatch(a,e)||n.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=n.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=n.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(a,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=n.default.getFirstMatch(/(?:qupzilla)[\s\/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(a,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=n.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s\/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=n.default.getFirstMatch(/(?:chromium)[\s\/](\d+(\.?_?\d+)+)/i,e)||n.default.getFirstMatch(a,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=n.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=n.default.getFirstMatch(a,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=n.default.getFirstMatch(a,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=n.default.getFirstMatch(a,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\("),r=t?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:n.default.getFirstMatch(r,e),version:n.default.getSecondMatch(r,e)}}}];r.default=i,e.exports=t.default})?n.apply(t,o):n)||(e.exports=a)},89:function(e,t,r){var n,o,a;o=[t],void 0===(a="function"==typeof(n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex"}})?n.apply(t,o):n)||(e.exports=a)},90:function(e,t,r){var n,o,a;o=[t,r(17)],void 0===(a="function"==typeof(n=function(r,n){"use strict";var o;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n=(o=n)&&o.__esModule?o:{default:o};var a=[{test:[/windows phone/i],describe:function(e){var t=n.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:"Windows Phone",version:t}}},{test:[/windows/i],describe:function(e){var t=n.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=n.default.getWindowsVersionName(t);return{name:"Windows",version:t,versionName:r}}},{test:[/macintosh/i],describe:function(e){var t=n.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,".");return{name:"macOS",version:t}}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=n.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:"iOS",version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=n.default.getFirstMatch(/android[\s\/-](\d+(\.\d+)*)/i,e),r=n.default.getAndroidVersionName(t),o={name:"Android",version:t};return r&&(o.versionName=r),o}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=n.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:"WebOS"};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=n.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||n.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||n.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:"BlackBerry",version:t}}},{test:[/bada/i],describe:function(e){var t=n.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:"Bada",version:t}}},{test:[/tizen/i],describe:function(e){var t=n.default.getFirstMatch(/tizen[\/\s](\d+(\.\d+)*)/i,e);return{name:"Tizen",version:t}}},{test:[/linux/i],describe:function(){return{name:"Linux"}}},{test:[/CrOS/],describe:function(){return{name:"Chrome OS"}}},{test:[/PlayStation 4/],describe:function(e){var t=n.default.getFirstMatch(/PlayStation 4[\/\s](\d+(\.\d+)*)/i,e);return{name:"PlayStation 4",version:t}}}];r.default=a,e.exports=t.default})?n.apply(t,o):n)||(e.exports=a)},91:function(e,t,r){var n,o,a;o=[t,r(17)],void 0===(a="function"==typeof(n=function(r,n){"use strict";var o;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n=(o=n)&&o.__esModule?o:{default:o};var a={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},i=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=n.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:a.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.tablet,vendor:"Amazon"}}},{test:[/tablet/i],describe:function(){return{type:a.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=n.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:a.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:a.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:a.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:a.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:a.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:a.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:a.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:a.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:a.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:a.tv}}}];r.default=i,e.exports=t.default})?n.apply(t,o):n)||(e.exports=a)},92:function(e,t,r){var n,o,a;o=[t,r(17)],void 0===(a="function"==typeof(n=function(r,n){"use strict";var o;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n=(o=n)&&o.__esModule?o:{default:o};var a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){var t=/\sedg\//i.test(e);if(t)return{name:"Blink"};var r=n.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:"EdgeHTML",version:r}}},{test:[/trident/i],describe:function(e){var t={name:"Trident"},r=n.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:"Presto"},r=n.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:"Gecko"},r=n.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:"Blink"}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:"WebKit"},r=n.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];r.default=a,e.exports=t.default})?n.apply(t,o):n)||(e.exports=a)}})},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(8)),a=n(r(4)),i=n(r(3)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=(r(7),n(r(5))),c=r(81),d=n(r(103)),f=r(38),p=function(e){return{root:(0,i.default)({lineHeight:1.75},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,c.fade)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,c.fade)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,c.fade)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},flat:{},flatPrimary:{},flatSecondary:{},outlined:{padding:"5px 16px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,c.fade)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,c.fade)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,c.fade)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,c.fade)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground},"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},raised:{},raisedPrimary:{},raisedSecondary:{},fab:{borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]}},extendedFab:{borderRadius:24,padding:"0 16px",width:"auto",minWidth:48,height:48},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},mini:{width:40,height:40},sizeSmall:{padding:"4px 8px",minWidth:64,fontSize:e.typography.pxToRem(13)},sizeLarge:{padding:"8px 24px",fontSize:e.typography.pxToRem(15)},fullWidth:{width:"100%"}}};function h(e){var t,r=e.children,n=e.classes,l=e.className,c=e.color,p=e.disabled,h=e.disableFocusRipple,m=e.focusVisibleClassName,v=e.fullWidth,y=e.mini,g=e.size,b=e.variant,_=(0,a.default)(e,["children","classes","className","color","disabled","disableFocusRipple","focusVisibleClassName","fullWidth","mini","size","variant"]),w="fab"===b||"extendedFab"===b,k="contained"===b||"raised"===b,E="text"===b||"flat"===b,P=(0,u.default)(n.root,(t={},(0,o.default)(t,n.fab,w),(0,o.default)(t,n.mini,w&&y),(0,o.default)(t,n.extendedFab,"extendedFab"===b),(0,o.default)(t,n.text,E),(0,o.default)(t,n.textPrimary,E&&"primary"===c),(0,o.default)(t,n.textSecondary,E&&"secondary"===c),(0,o.default)(t,n.flat,E),(0,o.default)(t,n.flatPrimary,E&&"primary"===c),(0,o.default)(t,n.flatSecondary,E&&"secondary"===c),(0,o.default)(t,n.contained,k||w),(0,o.default)(t,n.containedPrimary,(k||w)&&"primary"===c),(0,o.default)(t,n.containedSecondary,(k||w)&&"secondary"===c),(0,o.default)(t,n.raised,k||w),(0,o.default)(t,n.raisedPrimary,(k||w)&&"primary"===c),(0,o.default)(t,n.raisedSecondary,(k||w)&&"secondary"===c),(0,o.default)(t,n.outlined,"outlined"===b),(0,o.default)(t,n.outlinedPrimary,"outlined"===b&&"primary"===c),(0,o.default)(t,n.outlinedSecondary,"outlined"===b&&"secondary"===c),(0,o.default)(t,n["size".concat((0,f.capitalize)(g))],"medium"!==g),(0,o.default)(t,n.disabled,p),(0,o.default)(t,n.fullWidth,v),(0,o.default)(t,n.colorInherit,"inherit"===c),t),l);return s.default.createElement(d.default,(0,i.default)({className:P,disabled:p,focusRipple:!h,focusVisibleClassName:(0,u.default)(n.focusVisible,m)},_),s.default.createElement("span",{className:n.label},r))}t.styles=p,h.defaultProps={color:"default",component:"button",disabled:!1,disableFocusRipple:!1,fullWidth:!1,mini:!1,size:"medium",type:"button",variant:"text"};var m=(0,l.default)(p,{name:"MuiButton"})(h);t.default=m},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116;function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case i:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case l:return e;default:return t}}case v:case m:case a:return t}}}function g(e){return y(e)===f}t.typeOf=y,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=l,t.Element=o,t.ForwardRef=p,t.Fragment=i,t.Lazy=v,t.Memo=m,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===f||e===u||e===s||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(e){return g(e)||y(e)===d},t.isConcurrentMode=g,t.isContextConsumer=function(e){return y(e)===c},t.isContextProvider=function(e){return y(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return y(e)===p},t.isFragment=function(e){return y(e)===i},t.isLazy=function(e){return y(e)===v},t.isMemo=function(e){return y(e)===m},t.isPortal=function(e){return y(e)===a},t.isProfiler=function(e){return y(e)===u},t.isStrictMode=function(e){return y(e)===s},t.isSuspense=function(e){return y(e)===h}},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t){var r=null;for(var o in t){var a=t[o],i="undefined"===typeof a?"undefined":n(a);if("function"===i)r||(r={}),r[o]=a;else if("object"===i&&null!==a&&!Array.isArray(a)){var s=e(a);s&&(r||(r={}),r[o]=s)}}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(66),i=(n=a)&&n.__esModule?n:{default:n};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sheets=[],this.refs=[],this.keys=[]}return o(e,[{key:"get",value:function(e){var t=this.keys.indexOf(e);return this.sheets[t]}},{key:"add",value:function(e,t){var r=this.sheets,n=this.refs,o=this.keys,a=r.indexOf(t);return-1!==a?a:(r.push(t),n.push(0),o.push(e),r.length-1)}},{key:"manage",value:function(e){var t=this.keys.indexOf(e),r=this.sheets[t];return 0===this.refs[t]&&r.attach(),this.refs[t]++,this.keys[t]||this.keys.splice(t,0,e),r}},{key:"unmanage",value:function(e){var t=this.keys.indexOf(e);-1!==t?this.refs[t]>0&&(this.refs[t]--,0===this.refs[t]&&this.sheets[t].detach()):(0,i.default)(!1,"SheetsManager: can't find sheet to unmanage")}},{key:"size",get:function(){return this.keys.length}}]),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t){if(null==t)return t;var r="undefined"===typeof t?"undefined":n(t);if("string"===r||"number"===r||"function"===r)return t;if(s(t))return t.map(e);if((0,i.default)(t))return t;var o={};for(var a in t){var u=t[a];"object"!==("undefined"===typeof u?"undefined":n(u))?o[a]=u:o[a]=e(u)}return o};var o,a=r(200),i=(o=a)&&o.__esModule?o:{default:o};var s=Array.isArray},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});e.CSS;t.default=function(e){return e}}).call(this,r(32))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r="2f1acc6c3a606b082e5eef5e54414ffb";null==e[r]&&(e[r]=0),t.default=e[r]++}).call(this,r(32))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=g(r(100)),s=g(r(203)),u=g(r(407)),l=g(r(408)),c=g(r(414)),d=g(r(415)),f=g(r(137)),p=g(r(67)),h=g(r(202)),m=g(r(99)),v=g(r(416)),y=g(r(417));function g(e){return e&&e.__esModule?e:{default:e}}var b=l.default.concat([c.default,d.default]),_=0,w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=_++,this.version="9.8.7",this.plugins=new u.default,this.options={createGenerateClassName:h.default,Renderer:i.default?v.default:y.default,plugins:[]},this.generateClassName=(0,h.default)(),this.use.apply(this,b),this.setup(t)}return a(e,[{key:"setup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.createGenerateClassName&&(this.options.createGenerateClassName=e.createGenerateClassName,this.generateClassName=e.createGenerateClassName()),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),(e.virtual||e.Renderer)&&(this.options.Renderer=e.Renderer||(e.virtual?y.default:v.default)),e.plugins&&this.use.apply(this,e.plugins),this}},{key:"createStyleSheet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.index;"number"!==typeof r&&(r=0===f.default.index?0:f.default.index+1);var n=new s.default(e,o({},t,{jss:this,generateClassName:t.generateClassName||this.generateClassName,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:r}));return this.plugins.onProcessSheet(n),n}},{key:"removeStyleSheet",value:function(e){return e.detach(),f.default.remove(e),this}},{key:"createRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===("undefined"===typeof e?"undefined":n(e))&&(r=t,t=e,e=void 0);var o=r;o.jss=this,o.Renderer=this.options.Renderer,o.generateClassName||(o.generateClassName=this.generateClassName),o.classes||(o.classes={});var a=(0,m.default)(e,t,o);return!o.selector&&a instanceof p.default&&(a.selector="."+o.generateClassName(a)),this.plugins.onProcessRule(a),a}},{key:"use",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){-1===e.options.plugins.indexOf(t)&&(e.options.plugins.push(t),e.plugins.use(t))}),this}}]),e}();t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(66),i=(n=a)&&n.__esModule?n:{default:n};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks={onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}}return o(e,[{key:"onCreateRule",value:function(e,t,r){for(var n=0;n<this.hooks.onCreateRule.length;n++){var o=this.hooks.onCreateRule[n](e,t,r);if(o)return o}return null}},{key:"onProcessRule",value:function(e){if(!e.isProcessed){for(var t=e.options.sheet,r=0;r<this.hooks.onProcessRule.length;r++)this.hooks.onProcessRule[r](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}}},{key:"onProcessStyle",value:function(e,t,r){for(var n=e,o=0;o<this.hooks.onProcessStyle.length;o++)n=this.hooks.onProcessStyle[o](n,t,r),t.style=n}},{key:"onProcessSheet",value:function(e){for(var t=0;t<this.hooks.onProcessSheet.length;t++)this.hooks.onProcessSheet[t](e)}},{key:"onUpdate",value:function(e,t,r){for(var n=0;n<this.hooks.onUpdate.length;n++)this.hooks.onUpdate[n](e,t,r)}},{key:"onChangeValue",value:function(e,t,r){for(var n=e,o=0;o<this.hooks.onChangeValue.length;o++)n=this.hooks.onChangeValue[o](n,t,r);return n}},{key:"use",value:function(e){for(var t in e)this.hooks[t]?this.hooks[t].push(e[t]):(0,i.default)(!1,'[JSS] Unknown hook "%s".',t)}}]),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(409)),o=u(r(410)),a=u(r(411)),i=u(r(412)),s=u(r(413));function u(e){return e&&e.__esModule?e:{default:e}}var l={"@charset":n.default,"@import":n.default,"@namespace":n.default,"@keyframes":o.default,"@media":a.default,"@supports":a.default,"@font-face":i.default,"@viewport":s.default,"@-ms-viewport":s.default},c=Object.keys(l).map(function(e){var t=new RegExp("^"+e),r=l[e];return{onCreateRule:function(e,n,o){return t.test(e)?new r(e,n,o):null}}});t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="simple",this.isProcessed=!1,this.key=t,this.value=r,this.options=n}return n(e,[{key:"toString",value:function(e){if(Array.isArray(this.value)){for(var t="",r=0;r<this.value.length;r++)t+=this.key+" "+this.value[r]+";",this.value[r+1]&&(t+="\n");return t}return this.key+" "+this.value+";"}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(80),s=(n=i)&&n.__esModule?n:{default:n};var u=function(){function e(t,r,n){for(var a in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="keyframes",this.isProcessed=!1,this.key=t,this.options=n,this.rules=new s.default(o({},n,{parent:this})),r)this.rules.add(a,r[a],o({},this.options,{parent:this,selector:a}));this.rules.process()}return a(e,[{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},t=this.rules.toString(e);return t&&(t+="\n"),this.key+" {\n"+t+"}"}}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(80),s=(n=i)&&n.__esModule?n:{default:n};var u=function(){function e(t,r,n){for(var a in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="conditional",this.isProcessed=!1,this.key=t,this.options=n,this.rules=new s.default(o({},n,{parent:this})),r)this.rules.add(a,r[a]);this.rules.process()}return a(e,[{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"addRule",value:function(e,t,r){var n=this.rules.add(e,t,r);return this.options.jss.plugins.onProcessRule(n),n}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},t=this.rules.toString(e);return t?this.key+" {\n"+t+"\n}":""}}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(136),i=(n=a)&&n.__esModule?n:{default:n};var s=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="font-face",this.isProcessed=!1,this.key=t,this.style=r,this.options=n}return o(e,[{key:"toString",value:function(e){if(Array.isArray(this.style)){for(var t="",r=0;r<this.style.length;r++)t+=(0,i.default)(this.key,this.style[r]),this.style[r+1]&&(t+="\n");return t}return(0,i.default)(this.key,this.style,e)}}]),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(136),i=(n=a)&&n.__esModule?n:{default:n};var s=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="viewport",this.isProcessed=!1,this.key=t,this.style=r,this.options=n}return o(e,[{key:"toString",value:function(e){return(0,i.default)(this.key,this.style,e)}}]),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(67)),o=i(r(99)),a=i(r(200));function i(e){return e&&e.__esModule?e:{default:e}}t.default={onCreateRule:function(e,t,r){if(!(0,a.default)(t))return null;var n=t,i=(0,o.default)(e,{},r);return n.subscribe(function(e){for(var t in e)i.prop(t,e[t])}),i},onProcessRule:function(e){if(e instanceof n.default){var t=e,r=t.style,o=function(e){var n=r[e];if(!(0,a.default)(n))return"continue";delete r[e],n.subscribe({next:function(r){t.prop(e,r)}})};for(var i in r)o(i)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(80)),o=i(r(67)),a=i(r(99));function i(e){return e&&e.__esModule?e:{default:e}}var s=Date.now(),u="fnValues"+s,l="fnStyle"+ ++s;t.default={onCreateRule:function(e,t,r){if("function"!==typeof t)return null;var n=(0,a.default)(e,{},r);return n[l]=t,n},onProcessStyle:function(e,t){var r={};for(var n in e){var o=e[n];"function"===typeof o&&(delete e[n],r[n]=o)}return(t=t)[u]=r,e},onUpdate:function(e,t){if(t.rules instanceof n.default)t.rules.update(e);else if(t instanceof o.default){if((t=t)[u])for(var r in t[u])t.prop(r,t[u][r](e));var a=(t=t)[l];if(a){var i=a(e);for(var s in i)t.prop(s,i[s])}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=u(r(66)),a=u(r(137)),i=u(r(67)),s=u(r(98));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=void 0;return function(){return t||(t=e()),t}};function c(e,t){try{return e.style.getPropertyValue(t)}catch(r){return""}}function d(e,t,r){try{var n=r;if(Array.isArray(r)&&(n=(0,s.default)(r,!0),"!important"===r[r.length-1]))return e.style.setProperty(t,n,"important"),!0;e.style.setProperty(t,n)}catch(o){return!1}return!0}function f(e,t){try{e.style.removeProperty(t)}catch(r){(0,o.default)(!1,'[JSS] DOMException "%s" was thrown. Tried to remove property "%s".',r.message,t)}}var p=1,h=7,m=function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.substr(t,e.indexOf("{")-1)};return function(t){if(t.type===p)return t.selectorText;if(t.type===h){var r=t.name;if(r)return"@keyframes "+r;var n=t.cssText;return"@"+e(n,n.indexOf("keyframes"))}return e(t.cssText)}}();function v(e,t){return e.selectorText=t,e.selectorText===t}var y=l(function(){return document.head||document.getElementsByTagName("head")[0]}),g=function(){var e=void 0,t=!1;return function(r){var n={};e||(e=document.createElement("style"));for(var o=0;o<r.length;o++){var a=r[o];if(a instanceof i.default){var s=a.selector;if(s&&-1!==s.indexOf("\\")){t||(y().appendChild(e),t=!0),e.textContent=s+" {}";var u=e.sheet;if(u){var l=u.cssRules;l&&(n[l[0].selectorText]=a.key)}}}}return t&&(y().removeChild(e),t=!1),n}}();function b(e){var t=a.default.registry;if(t.length>0){var r=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.attached&&n.options.index>t.index&&n.options.insertionPoint===t.insertionPoint)return n}return null}(t,e);if(r)return r.renderer.element;if(r=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.attached&&n.options.insertionPoint===t.insertionPoint)return n}return null}(t,e))return r.renderer.element.nextElementSibling}var n=e.insertionPoint;if(n&&"string"===typeof n){var i=function(e){for(var t=y(),r=0;r<t.childNodes.length;r++){var n=t.childNodes[r];if(8===n.nodeType&&n.nodeValue.trim()===e)return n}return null}(n);if(i)return i.nextSibling;(0,o.default)("jss"===n,'[JSS] Insertion point "%s" not found.',n)}return null}var _=l(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getPropertyValue=c,this.setProperty=d,this.removeProperty=f,this.setSelector=v,this.getKey=m,this.getUnescapedKeysMap=g,this.hasInsertedRules=!1,t&&a.default.add(t),this.sheet=t;var r=this.sheet?this.sheet.options:{},n=r.media,o=r.meta,i=r.element;this.element=i||document.createElement("style"),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),o&&this.element.setAttribute("data-meta",o);var s=_();s&&this.element.setAttribute("nonce",s)}return n(e,[{key:"attach",value:function(){!this.element.parentNode&&this.sheet&&(this.hasInsertedRules&&(this.deploy(),this.hasInsertedRules=!1),function(e,t){var r=t.insertionPoint,n=b(t);if(n){var a=n.parentNode;a&&a.insertBefore(e,n)}else if(r&&"number"===typeof r.nodeType){var i=r,s=i.parentNode;s?s.insertBefore(e,i.nextSibling):(0,o.default)(!1,"[JSS] Insertion point is not in the DOM.")}else y().insertBefore(e,n)}(this.element,this.sheet.options))}},{key:"detach",value:function(){this.element.parentNode.removeChild(this.element)}},{key:"deploy",value:function(){this.sheet&&(this.element.textContent="\n"+this.sheet.toString()+"\n")}},{key:"insertRule",value:function(e,t){var r=this.element.sheet,n=r.cssRules,a=e.toString();if(t||(t=n.length),!a)return!1;try{r.insertRule(a,t)}catch(i){return(0,o.default)(!1,"[JSS] Can not insert an unsupported rule \n\r%s",e),!1}return this.hasInsertedRules=!0,n[t]}},{key:"deleteRule",value:function(e){var t=this.element.sheet,r=this.indexOf(e);return-1!==r&&(t.deleteRule(r),!0)}},{key:"indexOf",value:function(e){for(var t=this.element.sheet.cssRules,r=0;r<t.length;r++)if(e===t[r])return r;return-1}},{key:"replaceRule",value:function(e,t){var r=this.indexOf(e),n=this.insertRule(t,r);return this.element.sheet.deleteRule(r),n}},{key:"getRules",value:function(){return this.element.sheet.cssRules}}]),e}();t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"setProperty",value:function(){return!0}},{key:"getPropertyValue",value:function(){return""}},{key:"removeProperty",value:function(){}},{key:"setSelector",value:function(){return!0}},{key:"getKey",value:function(){return""}},{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"deploy",value:function(){}},{key:"insertRule",value:function(){return!1}},{key:"deleteRule",value:function(){return!0}},{key:"replaceRule",value:function(){return!1}},{key:"getRules",value:function(){}},{key:"indexOf",value:function(){return-1}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={jss:"64a55d578f856d258dc345b094a2a2b3",sheetsRegistry:"d4bd0baacbc52bbd48bbb9eb24344ecd",sheetOptions:"6fc570d6bd61383819d0f9e7407c452d"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.default=function(){return{onCreateRule:function(e,t,r){if(e===s)return new l(e,t,r);if("@"===e[0]&&e.substr(0,u.length)===u)return new c(e,t,r);var n=r.parent;n&&("global"!==n.type&&"global"!==n.options.parent.type||(r.global=!0));r.global&&(r.selector=e);return null},onProcessRule:function(e){if("style"!==e.type)return;(function(e){var t=e.options,r=e.style,o=r[s];if(!o)return;for(var a in o)t.sheet.addRule(a,o[a],n({},t,{selector:f(a,e.selector)}));delete r[s]})(e),function(e){var t=e.options,r=e.style;for(var o in r)if(o.substr(0,s.length)===s){var a=f(o.substr(s.length),e.selector);t.sheet.addRule(a,r[o],n({},t,{selector:a})),delete r[o]}}(e)}}};var a=r(198);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s="@global",u="@global ",l=function(){function e(t,r,o){for(var s in i(this,e),this.type="global",this.key=t,this.options=o,this.rules=new a.RuleList(n({},o,{parent:this})),r)this.rules.add(s,r[s],{selector:s});this.rules.process()}return o(e,[{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"addRule",value:function(e,t,r){var n=this.rules.add(e,t,r);return this.options.jss.plugins.onProcessRule(n),n}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"toString",value:function(){return this.rules.toString()}}]),e}(),c=function(){function e(t,r,o){i(this,e),this.name=t,this.options=o;var a=t.substr(u.length);this.rule=o.jss.createRule(a,r,n({},o,{parent:this,selector:a}))}return o(e,[{key:"toString",value:function(e){return this.rule.toString(e)}}]),e}(),d=/\s*,\s*/g;function f(e,t){for(var r=e.split(d),n="",o=0;o<r.length;o++)n+=t+" "+r[o].trim(),r[o+1]&&(n+=", ");return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(){function e(e){return function(t,r){var n=e.getRule(r);return n?n.selector:((0,i.default)(!1,"[JSS] Could not find the referenced rule %s in %s.",r,e.options.meta||e),r)}}var t=function(e){return-1!==e.indexOf("&")};function r(e,r){for(var n=r.split(s),o=e.split(s),a="",i=0;i<n.length;i++)for(var l=n[i],c=0;c<o.length;c++){var d=o[c];a&&(a+=", "),a+=t(d)?d.replace(u,l):l+" "+d}return a}function o(e,t,r){if(r)return n({},r,{index:r.index+1});var o=e.options.nestingLevel;return o=void 0===o?1:o+1,n({},e.options,{nestingLevel:o,index:t.indexOf(e)+1})}return{onProcessStyle:function(a,i){if("style"!==i.type)return a;var s=i.options.parent,u=void 0,c=void 0;for(var d in a){var f=t(d),p="@"===d[0];if(f||p){if(u=o(i,s,u),f){var h=r(d,i.selector);c||(c=e(s)),h=h.replace(l,c),s.addRule(h,a[d],n({},u,{selector:h}))}else p&&s.addRule(d,null,u).addRule(i.key,a[d],{selector:i.selector});delete a[d]}}return a}}};var o,a=r(421),i=(o=a)&&o.__esModule?o:{default:o};var s=/\s*,\s*/g,u=/&/g,l=/\$([\w-]+)/g},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=i(e[t]);return e}return i(e)},onChangeValue:function(e,t,r){var n=(0,a.default)(t);return t===n?e:(r.prop(n,e),null)}}};var n,o=r(423),a=(n=o)&&n.__esModule?n:{default:n};function i(e){var t={};for(var r in e)t[(0,a.default)(r)]=e[r];return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(i):t.fallbacks=i(e.fallbacks)),t}},function(e,t,r){"use strict";r.r(t);var n=/[A-Z]/g,o=/^ms-/,a={};function i(e){return"-"+e.toLowerCase()}t.default=function(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(n,i);return a[e]=o.test(t)?"-"+t:t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e=i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return{onProcessStyle:function(t,r){if("style"!==r.type)return t;for(var n in t)t[n]=u(n,t[n],e);return t},onChangeValue:function(t,r){return u(r,t,e)}}};var o,a=r(425);function i(e){var t=/(-[a-z])/g,r=function(e){return e[1].toUpperCase()},n={};for(var o in e)n[o]=e[o],n[o.replace(t,r)]=e[o];return n}var s=i(((o=a)&&o.__esModule?o:{default:o}).default);function u(e,t,r){if(!t)return t;var o=t,a="undefined"===typeof t?"undefined":n(t);switch("object"===a&&Array.isArray(t)&&(a="array"),a){case"object":if("fallbacks"===e){for(var i in t)t[i]=u(i,t[i],r);break}for(var l in t)t[l]=u(e+"-"+l,t[l],r);break;case"array":for(var c=0;c<t.length;c++)t[c]=u(e,t[c],r);break;case"number":0!==t&&(o=t+(r[e]||s[e]||""))}return o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"animation-delay":"ms","animation-duration":"ms","background-position":"px","background-position-x":"px","background-position-y":"px","background-size":"px",border:"px","border-bottom":"px","border-bottom-left-radius":"px","border-bottom-right-radius":"px","border-bottom-width":"px","border-left":"px","border-left-width":"px","border-radius":"px","border-right":"px","border-right-width":"px","border-spacing":"px","border-top":"px","border-top-left-radius":"px","border-top-right-radius":"px","border-top-width":"px","border-width":"px","border-after-width":"px","border-before-width":"px","border-end-width":"px","border-horizontal-spacing":"px","border-start-width":"px","border-vertical-spacing":"px",bottom:"px","box-shadow":"px","column-gap":"px","column-rule":"px","column-rule-width":"px","column-width":"px","flex-basis":"px","font-size":"px","font-size-delta":"px",height:"px",left:"px","letter-spacing":"px","logical-height":"px","logical-width":"px",margin:"px","margin-after":"px","margin-before":"px","margin-bottom":"px","margin-left":"px","margin-right":"px","margin-top":"px","max-height":"px","max-width":"px","margin-end":"px","margin-start":"px","mask-position-x":"px","mask-position-y":"px","mask-size":"px","max-logical-height":"px","max-logical-width":"px","min-height":"px","min-width":"px","min-logical-height":"px","min-logical-width":"px",motion:"px","motion-offset":"px",outline:"px","outline-offset":"px","outline-width":"px",padding:"px","padding-bottom":"px","padding-left":"px","padding-right":"px","padding-top":"px","padding-after":"px","padding-before":"px","padding-end":"px","padding-start":"px","perspective-origin-x":"%","perspective-origin-y":"%",perspective:"px",right:"px","shape-margin":"px",size:"px","text-indent":"px","text-stroke":"px","text-stroke-width":"px",top:"px","transform-origin":"%","transform-origin-x":"%","transform-origin-y":"%","transform-origin-z":"%","transition-delay":"ms","transition-duration":"ms","vertical-align":"px",width:"px","word-spacing":"px","box-shadow-x":"px","box-shadow-y":"px","box-shadow-blur":"px","box-shadow-spread":"px","font-line-height":"px","text-shadow-x":"px","text-shadow-y":"px","text-shadow-blur":"px"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{onProcessRule:function(e){"keyframes"===e.type&&(e.key="@"+n.prefix.css+e.key.substr(1))},onProcessStyle:function(e,t){if("style"!==t.type)return e;for(var r in e){var o=e[r],a=!1,i=n.supportedProperty(r);i&&i!==r&&(a=!0);var s=!1,u=n.supportedValue(i,o);u&&u!==o&&(s=!0),(a||s)&&(a&&delete e[r],e[i||r]=u||o)}return e},onChangeValue:function(e,t){return n.supportedValue(t,e)}}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(427))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedValue=t.supportedProperty=t.prefix=void 0;var n=i(r(138)),o=i(r(428)),a=i(r(430));function i(e){return e&&e.__esModule?e:{default:e}}t.default={prefix:n.default,supportedProperty:o.default,supportedValue:a.default},t.prefix=n.default,t.supportedProperty=o.default,t.supportedValue=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!s)return e;if(null!=u[e])return u[e];(0,a.default)(e)in s.style?u[e]=e:o.default.js+(0,a.default)("-"+e)in s.style?u[e]=o.default.css+e:u[e]=!1;return u[e]};var n=i(r(100)),o=i(r(138)),a=i(r(429));function i(e){return e&&e.__esModule?e:{default:e}}var s=void 0,u={};if(n.default){s=document.createElement("p");var l=window.getComputedStyle(document.documentElement,"");for(var c in l)isNaN(c)||(u[l[c]]=l[c])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(n,o)};var n=/[-\s]+(.)?/g;function o(e,t){return t?t.toUpperCase():""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!s)return t;if("string"!==typeof t||!isNaN(parseInt(t,10)))return t;var r=e+t;if(null!=i[r])return i[r];try{s.style[e]=t}catch(n){return i[r]=!1,!1}""!==s.style[e]?i[r]=t:("-ms-flex"===(t=o.default.css+t)&&(t="-ms-flexbox"),s.style[e]=t,""!==s.style[e]&&(i[r]=t));i[r]||(i[r]=!1);return s.style[e]="",i[r]};var n=a(r(100)),o=a(r(138));function a(e){return e&&e.__esModule?e:{default:e}}var i={},s=void 0;n.default&&(s=document.createElement("p"))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t){return e.length-t.length}return{onProcessStyle:function(t,r){if("style"!==r.type)return t;var n={},o=Object.keys(t).sort(e);for(var a in o)n[o[a]]=t[o[a]];return n}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={set:function(e,t,r,n){var o=e.get(t);o||(o=new Map,e.set(t,o)),o.set(r,n)},get:function(e,t,r){var n=e.get(t);return n?n.get(r):void 0},delete:function(e,t,r){e.get(t).delete(r)}};t.default=n},function(e,t,r){"use strict";var n=r(434);function o(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,r;return!1!==o(e)&&("function"===typeof(t=e.constructor)&&(!1!==o(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}},function(e,t,r){"use strict";e.exports=function(e){return null!=e&&"object"===typeof e&&!1===Array.isArray(e)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.values,r=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,n=e.unit,s=void 0===n?"px":n,u=e.step,l=void 0===u?5:u,c=(0,a.default)(e,["values","unit","step"]);function d(e){var t="number"===typeof r[e]?r[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function f(e,t){var n=i.indexOf(t)+1;return n===i.length?d(e):"@media (min-width:".concat(r[e]).concat(s,") and ")+"(max-width:".concat(r[i[n]]-l/100).concat(s,")")}return(0,o.default)({keys:i,values:r,up:d,down:function(e){var t=i.indexOf(e)+1,n=r[i[t]];if(t===i.length)return d("xs");return"@media (max-width:".concat(("number"===typeof n&&t>0?n:e)-l/100).concat(s,")")},between:f,only:function(e){return f(e,e)},width:function(e){return r[e]}},c)},t.keys=void 0;var o=n(r(3)),a=n(r(4)),i=["xs","sm","md","lg","xl"];t.keys=i},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n;return(0,a.default)({gutters:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.default)({paddingLeft:2*t.unit,paddingRight:2*t.unit},r,(0,o.default)({},e.up("sm"),(0,a.default)({paddingLeft:3*t.unit,paddingRight:3*t.unit},r[e.up("sm")])))},toolbar:(n={minHeight:56},(0,o.default)(n,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,o.default)(n,e.up("sm"),{minHeight:64}),n)},r)};var o=n(r(8)),a=n(r(3))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.primary,r=void 0===t?{light:s.default[300],main:s.default[500],dark:s.default[700]}:t,n=e.secondary,v=void 0===n?{light:u.default.A200,main:u.default.A400,dark:u.default.A700}:n,y=e.error,g=void 0===y?{light:c.default[300],main:c.default[500],dark:c.default[700]}:y,b=e.type,_=void 0===b?"light":b,w=e.contrastThreshold,k=void 0===w?3:w,E=e.tonalOffset,P=void 0===E?.2:E,S=(0,a.default)(e,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function x(e){var t=(0,f.getContrastRatio)(e,h.text.primary)>=k?h.text.primary:p.text.primary;return t}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!e.main&&e[t]&&(e.main=e[t]),m(e,"light",r,P),m(e,"dark",n,P),e.contrastText||(e.contrastText=x(e.main)),e}T(r),T(v,"A400","A200","A700"),T(g);var C={dark:h,light:p};return(0,i.default)((0,o.default)({common:d.default,type:_,primary:r,secondary:v,error:g,grey:l.default,contrastThreshold:k,getContrastText:x,augmentColor:T,tonalOffset:P},C[_]),S,{clone:!1})},t.dark=t.light=void 0;var o=n(r(3)),a=n(r(4)),i=(n(r(19)),n(r(101))),s=n(r(206)),u=n(r(207)),l=n(r(208)),c=n(r(102)),d=n(r(209)),f=r(81),p={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.default.white,default:l.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}};t.light=p;var h={text:{primary:d.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:l.default[800],default:"#303030"},action:{active:d.default.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function m(e,t,r,n){e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=(0,f.lighten)(e.main,n):"dark"===t&&(e.dark=(0,f.darken)(e.main,1.5*n)))}t.dark=h},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r="function"===typeof t?t(e):t,n=r.fontFamily,d=void 0===n?c:n,f=r.fontSize,p=void 0===f?14:f,h=r.fontWeightLight,m=void 0===h?300:h,v=r.fontWeightRegular,y=void 0===v?400:v,g=r.fontWeightMedium,b=void 0===g?500:g,_=r.htmlFontSize,w=void 0===_?16:_,k=r.useNextVariants,E=void 0===k?Boolean(s.ponyfillGlobal.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__):k,P=(r.suppressWarning,r.allVariants),S=(0,a.default)(r,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","htmlFontSize","useNextVariants","suppressWarning","allVariants"]);var x=p/14,T=function(e){return"".concat(e/w*x,"rem")},C=function(t,r,n,a,i){return(0,o.default)({color:e.text.primary,fontFamily:d,fontWeight:t,fontSize:T(r),lineHeight:n},d===c?{letterSpacing:"".concat(u(a/r),"em")}:{},i,P)},O={h1:C(m,96,1,-1.5),h2:C(m,60,1,-.5),h3:C(y,48,1.04,0),h4:C(y,34,1.17,.25),h5:C(y,24,1.33,0),h6:C(b,20,1.6,.15),subtitle1:C(y,16,1.75,.15),subtitle2:C(b,14,1.57,.1),body1Next:C(y,16,1.5,.15),body2Next:C(y,14,1.5,.15),buttonNext:C(b,14,1.75,.4,l),captionNext:C(y,12,1.66,.4),overline:C(y,12,2.66,1,l)},R={display4:(0,o.default)({fontSize:T(112),fontWeight:m,fontFamily:d,letterSpacing:"-.04em",lineHeight:"".concat(u(128/112),"em"),marginLeft:"-.04em",color:e.text.secondary},P),display3:(0,o.default)({fontSize:T(56),fontWeight:y,fontFamily:d,letterSpacing:"-.02em",lineHeight:"".concat(u(73/56),"em"),marginLeft:"-.02em",color:e.text.secondary},P),display2:(0,o.default)({fontSize:T(45),fontWeight:y,fontFamily:d,lineHeight:"".concat(u(51/45),"em"),marginLeft:"-.02em",color:e.text.secondary},P),display1:(0,o.default)({fontSize:T(34),fontWeight:y,fontFamily:d,lineHeight:"".concat(u(41/34),"em"),color:e.text.secondary},P),headline:(0,o.default)({fontSize:T(24),fontWeight:y,fontFamily:d,lineHeight:"".concat(u(32.5/24),"em"),color:e.text.primary},P),title:(0,o.default)({fontSize:T(21),fontWeight:b,fontFamily:d,lineHeight:"".concat(u(24.5/21),"em"),color:e.text.primary},P),subheading:(0,o.default)({fontSize:T(16),fontWeight:y,fontFamily:d,lineHeight:"".concat(u(1.5),"em"),color:e.text.primary},P),body2:(0,o.default)({fontSize:T(14),fontWeight:b,fontFamily:d,lineHeight:"".concat(u(24/14),"em"),color:e.text.primary},P),body1:(0,o.default)({fontSize:T(14),fontWeight:y,fontFamily:d,lineHeight:"".concat(u(20.5/14),"em"),color:e.text.primary},P),caption:(0,o.default)({fontSize:T(12),fontWeight:y,fontFamily:d,lineHeight:"".concat(u(1.375),"em"),color:e.text.secondary},P),button:(0,o.default)({fontSize:T(14),textTransform:"uppercase",fontWeight:b,fontFamily:d,color:e.text.primary},P)};return(0,i.default)((0,o.default)({pxToRem:T,round:u,fontFamily:d,fontSize:p,fontWeightLight:m,fontWeightRegular:y,fontWeightMedium:b},R,O,E?{body1:O.body1Next,body2:O.body2Next,button:O.buttonNext,caption:O.captionNext}:{},{useNextVariants:E}),S,{clone:!1})};var o=n(r(3)),a=n(r(4)),i=n(r(101)),s=(n(r(19)),r(7));function u(e){return Math.round(1e5*e)/1e5}var l={textTransform:"uppercase"},c='"Roboto", "Helvetica", "Arial", sans-serif'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=.2,o=.14,a=.12;function i(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(n,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(o,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(a,")")].join(",")}var s=["none",i(0,1,3,0,0,1,1,0,0,2,1,-1),i(0,1,5,0,0,2,2,0,0,3,1,-2),i(0,1,8,0,0,3,4,0,0,3,3,-2),i(0,2,4,-1,0,4,5,0,0,1,10,0),i(0,3,5,-1,0,5,8,0,0,1,14,0),i(0,3,5,-1,0,6,10,0,0,1,18,0),i(0,4,5,-2,0,7,10,1,0,2,16,1),i(0,5,5,-3,0,8,10,1,0,3,14,2),i(0,5,6,-3,0,9,12,1,0,3,16,2),i(0,6,6,-3,0,10,14,1,0,4,18,3),i(0,6,7,-4,0,11,15,1,0,4,20,3),i(0,7,8,-4,0,12,17,2,0,5,22,4),i(0,7,8,-4,0,13,19,2,0,5,24,4),i(0,7,9,-4,0,14,21,2,0,5,26,4),i(0,8,9,-5,0,15,22,2,0,6,28,5),i(0,8,10,-5,0,16,24,2,0,6,30,5),i(0,8,11,-5,0,17,26,2,0,6,32,5),i(0,9,11,-5,0,18,28,2,0,7,34,6),i(0,9,12,-6,0,19,29,2,0,7,36,6),i(0,10,13,-6,0,20,31,3,0,8,38,7),i(0,10,13,-6,0,21,33,3,0,8,40,7),i(0,10,14,-6,0,22,35,3,0,8,42,7),i(0,11,14,-7,0,23,36,3,0,9,44,8),i(0,11,15,-7,0,24,38,3,0,9,46,8)];t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={borderRadius:4};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={unit:8};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={mobileStepper:1e3,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),a=(n(r(65)),n(r(19)),n(r(101)));function i(e,t){return t}var s=function(e){var t="function"===typeof e;return{create:function(r,n){var s=t?e(r):e;if(!n||!r.overrides||!r.overrides[n])return s;var u=r.overrides[n],l=(0,o.default)({},s);return Object.keys(u).forEach(function(e){l[e]=(0,a.default)(l[e],u[e],{arrayMerge:i})}),l},options:{},themingEnabled:t}};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t=e.theme,r=e.name,n=e.props;if(!t.props||!r||!t.props[r])return n;var o,a=t.props[r];for(o in a)void 0===n[o]&&(n[o]=a[o]);return n};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(9)),u=n(r(10)),l=n(r(11)),c=n(r(12)),d=n(r(13)),f=n(r(79)),p=n(r(1)),h=(n(r(2)),n(r(26))),m=n(r(6)),v=(r(7),n(r(104))),y=n(r(5)),g=n(r(446)),b=r(448),_=n(r(449)),w=n(r(457)),k={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:"none",border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}};t.styles=k;var E=function(e){function t(){var e,r;(0,s.default)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(o)))).state={},r.keyDown=!1,r.focusVisibleCheckTime=50,r.focusVisibleMaxCheckTimes=5,r.handleMouseDown=(0,w.default)((0,f.default)((0,f.default)(r)),"MouseDown","start",function(){clearTimeout(r.focusVisibleTimeout),r.state.focusVisible&&r.setState({focusVisible:!1})}),r.handleMouseUp=(0,w.default)((0,f.default)((0,f.default)(r)),"MouseUp","stop"),r.handleMouseLeave=(0,w.default)((0,f.default)((0,f.default)(r)),"MouseLeave","stop",function(e){r.state.focusVisible&&e.preventDefault()}),r.handleTouchStart=(0,w.default)((0,f.default)((0,f.default)(r)),"TouchStart","start"),r.handleTouchEnd=(0,w.default)((0,f.default)((0,f.default)(r)),"TouchEnd","stop"),r.handleTouchMove=(0,w.default)((0,f.default)((0,f.default)(r)),"TouchMove","stop"),r.handleContextMenu=(0,w.default)((0,f.default)((0,f.default)(r)),"ContextMenu","stop"),r.handleBlur=(0,w.default)((0,f.default)((0,f.default)(r)),"Blur","stop",function(){clearTimeout(r.focusVisibleTimeout),r.state.focusVisible&&r.setState({focusVisible:!1})}),r.onRippleRef=function(e){r.ripple=e},r.onFocusVisibleHandler=function(e){r.keyDown=!1,r.setState({focusVisible:!0}),r.props.onFocusVisible&&r.props.onFocusVisible(e)},r.handleKeyDown=function(e){var t=r.props,n=t.component,o=t.focusRipple,a=t.onKeyDown,i=t.onClick;o&&!r.keyDown&&r.state.focusVisible&&r.ripple&&" "===e.key&&(r.keyDown=!0,e.persist(),r.ripple.stop(e,function(){r.ripple.start(e)})),a&&a(e),e.target!==e.currentTarget||!n||"button"===n||" "!==e.key&&"Enter"!==e.key||"A"===r.button.tagName&&r.button.href||(e.preventDefault(),i&&i(e))},r.handleKeyUp=function(e){r.props.focusRipple&&" "===e.key&&r.ripple&&r.state.focusVisible&&(r.keyDown=!1,e.persist(),r.ripple.stop(e,function(){r.ripple.pulsate(e)})),r.props.onKeyUp&&r.props.onKeyUp(e)},r.handleFocus=function(e){r.props.disabled||(r.button||(r.button=e.currentTarget),e.persist(),(0,b.detectFocusVisible)((0,f.default)((0,f.default)(r)),r.button,function(){r.onFocusVisibleHandler(e)}),r.props.onFocus&&r.props.onFocus(e))},r}return(0,d.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.button=h.default.findDOMNode(this),(0,b.listenForFocusKeys)((0,v.default)(this.button)),this.props.action&&this.props.action({focusVisible:function(){e.setState({focusVisible:!0}),e.button.focus()}})}},{key:"componentDidUpdate",value:function(e,t){this.props.focusRipple&&!this.props.disableRipple&&!t.focusVisible&&this.state.focusVisible&&this.ripple.pulsate()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.focusVisibleTimeout)}},{key:"render",value:function(){var e,t=this.props,r=(t.action,t.buttonRef),n=t.centerRipple,s=t.children,u=t.classes,l=t.className,c=t.component,d=t.disabled,f=t.disableRipple,h=(t.disableTouchRipple,t.focusRipple,t.focusVisibleClassName),v=(t.onBlur,t.onFocus,t.onFocusVisible,t.onKeyDown,t.onKeyUp,t.onMouseDown,t.onMouseLeave,t.onMouseUp,t.onTouchEnd,t.onTouchMove,t.onTouchStart,t.tabIndex),y=t.TouchRippleProps,b=t.type,w=(0,i.default)(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"]),k=(0,m.default)(u.root,(e={},(0,a.default)(e,u.disabled,d),(0,a.default)(e,u.focusVisible,this.state.focusVisible),(0,a.default)(e,h,this.state.focusVisible),e),l),E=c;"button"===E&&w.href&&(E="a");var P={};return"button"===E?(P.type=b||"button",P.disabled=d):P.role="button",p.default.createElement(E,(0,o.default)({className:k,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onContextMenu:this.handleContextMenu,ref:r,tabIndex:d?"-1":v},P,w),s,f||d?null:p.default.createElement(g.default,null,p.default.createElement(_.default,(0,o.default)({innerRef:this.onRippleRef,center:n},y))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"undefined"===typeof t.focusVisible?{focusVisible:!1,lastDisabled:e.disabled}:!t.prevState&&e.disabled&&t.focusVisible?{focusVisible:!1,lastDisabled:e.disabled}:{lastDisabled:e.disabled}}}]),t}(p.default.Component);E.defaultProps={centerRipple:!1,component:"button",disableRipple:!1,disableTouchRipple:!1,focusRipple:!1,tabIndex:"0",type:"button"};var P=(0,y.default)(k,{name:"MuiButtonBase"})(E);t.default=P},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(447))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(9)),a=n(r(10)),i=n(r(11)),s=n(r(12)),u=n(r(13)),l=n(r(1)),c=(n(r(2)),r(7),function(e){function t(){var e,r;(0,o.default)(this,t);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(r=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(a)))).mounted=!1,r.state={mounted:!1},r}return(0,u.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.props.defer?requestAnimationFrame(function(){requestAnimationFrame(function(){e.mounted&&e.setState({mounted:!0})})}):this.setState({mounted:!0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.fallback;return this.state.mounted?t:r}}]),t}(l.default.Component));c.defaultProps={defer:!1,fallback:null};var d=c;t.default=d},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.detectFocusVisible=function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.focusVisibleTimeout=setTimeout(function(){var s=(0,o.default)(r),u=function(e){var t=e.activeElement;for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}(s);a.focusKeyPressed&&(u===r||r.contains(u))?n():i<t.focusVisibleMaxCheckTimes&&e(t,r,n,i+1)},t.focusVisibleCheckTime)},t.listenForFocusKeys=function(e){e.addEventListener("keyup",s)};n(r(19));var o=n(r(43)),a={focusKeyPressed:!1,keyUpEventTimeout:-1};var i=[9,13,27,32,37,38,39,40];var s=function(e){(function(e){return i.indexOf(e.keyCode)>-1})(e)&&(a.focusKeyPressed=!0,clearTimeout(a.keyUpEventTimeout),a.keyUpEventTimeout=setTimeout(function(){a.focusKeyPressed=!1},500))}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=t.DELAY_RIPPLE=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(211)),s=n(r(9)),u=n(r(10)),l=n(r(11)),c=n(r(12)),d=n(r(13)),f=n(r(79)),p=n(r(1)),h=(n(r(2)),n(r(26))),m=n(r(453)),v=n(r(6)),y=n(r(5)),g=n(r(455)),b=550,_=80;t.DELAY_RIPPLE=_;var w=function(e){return{root:{display:"block",position:"absolute",overflow:"hidden",borderRadius:"inherit",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none",zIndex:0},ripple:{width:50,height:50,left:0,top:0,opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"mui-ripple-enter ".concat(b,"ms ").concat(e.transitions.easing.easeInOut),animationName:"$mui-ripple-enter"},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"mui-ripple-exit ".concat(b,"ms ").concat(e.transitions.easing.easeInOut),animationName:"$mui-ripple-exit"},childPulsate:{position:"absolute",left:0,top:0,animation:"mui-ripple-pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite"),animationName:"$mui-ripple-pulsate"},"@keyframes mui-ripple-enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes mui-ripple-exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes mui-ripple-pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}};t.styles=w;var k=function(e){function t(){var e,r;(0,s.default)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(o)))).state={nextKey:0,ripples:[]},r.pulsate=function(){r.start({},{pulsate:!0})},r.start=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=t.pulsate,a=void 0!==o&&o,i=t.center,s=void 0===i?r.props.center||t.pulsate:i,u=t.fakeElement,l=void 0!==u&&u;if("mousedown"===e.type&&r.ignoringMouseDown)r.ignoringMouseDown=!1;else{"touchstart"===e.type&&(r.ignoringMouseDown=!0);var c,d,p,m=l?null:h.default.findDOMNode((0,f.default)((0,f.default)(r))),v=m?m.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(v.width/2),d=Math.round(v.height/2);else{var y=e.clientX?e.clientX:e.touches[0].clientX,g=e.clientY?e.clientY:e.touches[0].clientY;c=Math.round(y-v.left),d=Math.round(g-v.top)}if(s)(p=Math.sqrt((2*Math.pow(v.width,2)+Math.pow(v.height,2))/3))%2===0&&(p+=1);else{var b=2*Math.max(Math.abs((m?m.clientWidth:0)-c),c)+2,w=2*Math.max(Math.abs((m?m.clientHeight:0)-d),d)+2;p=Math.sqrt(Math.pow(b,2)+Math.pow(w,2))}e.touches?(r.startTimerCommit=function(){r.startCommit({pulsate:a,rippleX:c,rippleY:d,rippleSize:p,cb:n})},r.startTimer=setTimeout(function(){r.startTimerCommit&&(r.startTimerCommit(),r.startTimerCommit=null)},_)):r.startCommit({pulsate:a,rippleX:c,rippleY:d,rippleSize:p,cb:n})}},r.startCommit=function(e){var t=e.pulsate,n=e.rippleX,o=e.rippleY,a=e.rippleSize,s=e.cb;r.setState(function(e){return{nextKey:e.nextKey+1,ripples:[].concat((0,i.default)(e.ripples),[p.default.createElement(g.default,{key:e.nextKey,classes:r.props.classes,timeout:{exit:b,enter:b},pulsate:t,rippleX:n,rippleY:o,rippleSize:a})])}},s)},r.stop=function(e,t){clearTimeout(r.startTimer);var n=r.state.ripples;if("touchend"===e.type&&r.startTimerCommit)return e.persist(),r.startTimerCommit(),r.startTimerCommit=null,void(r.startTimer=setTimeout(function(){r.stop(e,t)}));r.startTimerCommit=null,n&&n.length&&r.setState({ripples:n.slice(1)},t)},r}return(0,d.default)(t,e),(0,u.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.startTimer)}},{key:"render",value:function(){var e=this.props,t=(e.center,e.classes),r=e.className,n=(0,a.default)(e,["center","classes","className"]);return p.default.createElement(m.default,(0,o.default)({component:"span",enter:!0,exit:!0,className:(0,v.default)(t.root,r)},n),this.state.ripples)}}]),t}(p.default.PureComponent);k.defaultProps={center:!1};var E=(0,y.default)(w,{flip:!1,name:"MuiTouchRipple"})(k);t.default=E},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(2)),o=s(r(1)),a=r(212),i=r(454);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},d=function(e){var t,r;function n(t,r){var n,o=(n=e.call(this,t,r)||this).handleExited.bind(l(l(n)));return n.state={handleExited:o,firstRender:!0},n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},a.componentDidMount=function(){this.appeared=!0,this.mounted=!0},a.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,t){var r=t.children,n=t.handleExited;return{children:t.firstRender?(0,i.getInitialChildMapping)(e,n):(0,i.getNextChildMapping)(e,r,n),firstRender:!1}},a.handleExited=function(e,t){var r=(0,i.getChildMapping)(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var r=u({},t.children);return delete r[e.key],{children:r}}))},a.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["component","childFactory"]),a=c(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===t?a:o.default.createElement(t,n,a)},n}(o.default.Component);d.childContextTypes={transitionGroup:n.default.object.isRequired},d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var f=(0,a.polyfill)(d);t.default=f,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=a,t.getInitialChildMapping=function(e,t){return o(e.children,function(r){return(0,n.cloneElement)(r,{onExited:t.bind(null,r),in:!0,appear:i(r,"appear",e),enter:i(r,"enter",e),exit:i(r,"exit",e)})})},t.getNextChildMapping=function(e,t,r){var s=o(e.children),u=a(t,s);return Object.keys(u).forEach(function(o){var a=u[o];if((0,n.isValidElement)(a)){var l=o in t,c=o in s,d=t[o],f=(0,n.isValidElement)(d)&&!d.props.in;!c||l&&!f?c||!l||f?c&&l&&(0,n.isValidElement)(d)&&(u[o]=(0,n.cloneElement)(a,{onExited:r.bind(null,a),in:d.props.in,exit:i(a,"exit",e),enter:i(a,"enter",e)})):u[o]=(0,n.cloneElement)(a,{in:!1}):u[o]=(0,n.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:i(a,"exit",e),enter:i(a,"enter",e)})}}),u};var n=r(1);function o(e,t){var r=Object.create(null);return e&&n.Children.map(e,function(e){return e}).forEach(function(e){r[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)}),r}function a(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,o=Object.create(null),a=[];for(var i in e)i in t?a.length&&(o[i]=a,a=[]):a.push(i);var s={};for(var u in t){if(o[u])for(n=0;n<o[u].length;n++){var l=o[u][n];s[o[u][n]]=r(l)}s[u]=r(u)}for(n=0;n<a.length;n++)s[a[n]]=r(a[n]);return s}function i(e,t,r){return null!=r[t]?r[t]:e.props[t]}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(9)),u=n(r(10)),l=n(r(11)),c=n(r(12)),d=n(r(13)),f=n(r(1)),p=(n(r(2)),n(r(6))),h=n(r(105)),m=function(e){function t(){var e,r;(0,s.default)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(o)))).state={visible:!1,leaving:!1},r.handleEnter=function(){r.setState({visible:!0})},r.handleExit=function(){r.setState({leaving:!0})},r}return(0,d.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e,t,r=this.props,n=r.classes,s=r.className,u=r.pulsate,l=r.rippleX,c=r.rippleY,d=r.rippleSize,m=(0,i.default)(r,["classes","className","pulsate","rippleX","rippleY","rippleSize"]),v=this.state,y=v.visible,g=v.leaving,b=(0,p.default)(n.ripple,(e={},(0,a.default)(e,n.rippleVisible,y),(0,a.default)(e,n.ripplePulsate,u),e),s),_={width:d,height:d,top:-d/2+c,left:-d/2+l},w=(0,p.default)(n.child,(t={},(0,a.default)(t,n.childLeaving,g),(0,a.default)(t,n.childPulsate,u),t));return f.default.createElement(h.default,(0,o.default)({onEnter:this.handleEnter,onExit:this.handleExit},m),f.default.createElement("span",{className:b,style:_},f.default.createElement("span",{className:w})))}}]),t}(f.default.Component);m.defaultProps={pulsate:!1};var v=m;t.default=v},function(e,t,r){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var n;(n=r(2))&&n.__esModule;t.timeoutsShape=null;t.classNamesShape=null},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t,r,n){return function(o){n&&n.call(e,o);var a=!1;return o.defaultPrevented&&(a=!0),e.props.disableTouchRipple&&"Blur"!==t&&(a=!0),!a&&e.ripple&&e.ripple[r](o),"function"===typeof e.props["on".concat(t)]&&e.props["on".concat(t)](o),!0}};"undefined"===typeof window&&(n=function(){return function(){}});var o=n;t.default=o},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(459))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(9)),s=n(r(10)),u=n(r(11)),l=n(r(12)),c=n(r(13)),d=n(r(8)),f=n(r(1)),p=(n(r(2)),n(r(6))),h=(r(7),n(r(5))),m=r(38),v=n(r(213)),y=n(r(221)),g=r(82),b=n(r(142)),_=function(e){return{root:{},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden"},container:{height:"100%",outline:"none"},paper:{display:"flex",flexDirection:"column",margin:48,position:"relative",overflowY:"auto"},paperScrollPaper:{flex:"0 1 auto",maxHeight:"calc(100% - 96px)"},paperScrollBody:{margin:"48px auto"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,360),"&$paperScrollBody":(0,d.default)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,360)+96),{margin:48})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,d.default)({},e.breakpoints.down(e.breakpoints.values.sm+96),{margin:48})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,d.default)({},e.breakpoints.down(e.breakpoints.values.md+96),{margin:48})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,d.default)({},e.breakpoints.down(e.breakpoints.values.lg+96),{margin:48})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,d.default)({},e.breakpoints.down(e.breakpoints.values.xl+96),{margin:48})},paperFullWidth:{width:"100%"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0}}}};t.styles=_;var w=function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=(0,u.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(o)))).handleMouseDown=function(e){r.mouseDownTarget=e.target},r.handleBackdropClick=function(e){e.target===e.currentTarget&&e.target===r.mouseDownTarget&&(r.mouseDownTarget=null,r.props.onBackdropClick&&r.props.onBackdropClick(e),!r.props.disableBackdropClick&&r.props.onClose&&r.props.onClose(e,"backdropClick"))},r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e,t=this.props,r=t.BackdropProps,n=t.children,i=t.classes,s=t.className,u=t.disableBackdropClick,l=t.disableEscapeKeyDown,c=t.fullScreen,h=t.fullWidth,y=t.maxWidth,g=t.onBackdropClick,b=t.onClose,_=t.onEnter,w=t.onEntered,k=t.onEntering,E=t.onEscapeKeyDown,P=t.onExit,S=t.onExited,x=t.onExiting,T=t.open,C=t.PaperComponent,O=t.PaperProps,R=void 0===O?{}:O,M=t.scroll,D=t.TransitionComponent,j=t.transitionDuration,I=t.TransitionProps,A=(0,a.default)(t,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"]);return f.default.createElement(v.default,(0,o.default)({className:(0,p.default)(i.root,s),BackdropProps:(0,o.default)({transitionDuration:j},r),closeAfterTransition:!0,disableBackdropClick:u,disableEscapeKeyDown:l,onBackdropClick:g,onEscapeKeyDown:E,onClose:b,open:T,role:"dialog"},A),f.default.createElement(D,(0,o.default)({appear:!0,in:T,timeout:j,onEnter:_,onEntering:k,onEntered:w,onExit:P,onExiting:x,onExited:S},I),f.default.createElement("div",{className:(0,p.default)(i.container,i["scroll".concat((0,m.capitalize)(M))]),onClick:this.handleBackdropClick,onMouseDown:this.handleMouseDown,role:"document"},f.default.createElement(C,(0,o.default)({elevation:24},R,{className:(0,p.default)(i.paper,i["paperScroll".concat((0,m.capitalize)(M))],(e={},(0,d.default)(e,i["paperWidth".concat(y?(0,m.capitalize)(y):"")],y),(0,d.default)(e,i.paperFullScreen,c),(0,d.default)(e,i.paperFullWidth,h),e),R.className)}),n))))}}]),t}(f.default.Component);w.defaultProps={disableBackdropClick:!1,disableEscapeKeyDown:!1,fullScreen:!1,fullWidth:!1,maxWidth:"sm",PaperComponent:b.default,scroll:"paper",TransitionComponent:y.default,transitionDuration:{enter:g.duration.enteringScreen,exit:g.duration.leavingScreen}};var k=(0,h.default)(_,{name:"MuiDialog"})(w);t.default=k},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(9)),u=n(r(10)),l=n(r(11)),c=n(r(12)),d=n(r(13)),f=n(r(79)),p=n(r(1)),h=n(r(26)),m=(n(r(2)),n(r(6))),v=(n(r(19)),r(7),n(r(43))),y=n(r(214)),g=n(r(215)),b=r(38),_=n(r(5)),w=n(r(216)),k=n(r(473)),E=r(220);function P(e){return!!e.children&&e.children.props.hasOwnProperty("in")}var S=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}};t.styles=S;var x=function(e){function t(e){var r;return(0,s.default)(this,t),(r=(0,l.default)(this,(0,c.default)(t).call(this))).mounted=!1,r.handleOpen=function(){var e=(0,v.default)(r.mountNode),t=function(e,t){return e="function"===typeof e?e():e,h.default.findDOMNode(e)||t}(r.props.container,e.body);r.props.manager.add((0,f.default)((0,f.default)(r)),t),e.addEventListener("focus",r.enforceFocus,!0),r.dialogRef&&r.handleOpened()},r.handleRendered=function(){r.props.onRendered&&r.props.onRendered(),r.props.open?r.handleOpened():(0,E.ariaHidden)(r.modalRef,!0)},r.handleOpened=function(){r.autoFocus(),r.props.manager.mount((0,f.default)((0,f.default)(r))),r.modalRef.scrollTop=0},r.handleClose=function(e){P(r.props)&&r.props.closeAfterTransition&&"unmount"!==e||r.props.manager.remove((0,f.default)((0,f.default)(r))),(0,v.default)(r.mountNode).removeEventListener("focus",r.enforceFocus,!0),r.restoreLastFocus()},r.handleExited=function(){r.props.closeAfterTransition&&r.props.manager.remove((0,f.default)((0,f.default)(r))),r.setState({exited:!0})},r.handleBackdropClick=function(e){e.target===e.currentTarget&&(r.props.onBackdropClick&&r.props.onBackdropClick(e),!r.props.disableBackdropClick&&r.props.onClose&&r.props.onClose(e,"backdropClick"))},r.handleKeyDown=function(e){"Escape"===e.key&&r.isTopModal()&&!e.defaultPrevented&&(e.stopPropagation(),r.props.onEscapeKeyDown&&r.props.onEscapeKeyDown(e),!r.props.disableEscapeKeyDown&&r.props.onClose&&r.props.onClose(e,"escapeKeyDown"))},r.enforceFocus=function(){if(r.isTopModal()&&!r.props.disableEnforceFocus&&r.mounted&&r.dialogRef){var e=(0,v.default)(r.mountNode).activeElement;r.dialogRef.contains(e)||r.dialogRef.focus()}},r.handlePortalRef=function(e){r.mountNode=e?e.getMountNode():e},r.handleModalRef=function(e){r.modalRef=e},r.onRootRef=function(e){r.dialogRef=e},r.state={exited:!e.open},r}return(0,d.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.open&&this.handleOpen()}},{key:"componentDidUpdate",value:function(e){e.open&&!this.props.open?this.handleClose():!e.open&&this.props.open&&(this.lastFocus=(0,v.default)(this.mountNode).activeElement,this.handleOpen())}},{key:"componentWillUnmount",value:function(){this.mounted=!1,(this.props.open||P(this.props)&&!this.state.exited)&&this.handleClose("unmount")}},{key:"autoFocus",value:function(){if(!this.props.disableAutoFocus&&this.dialogRef){var e=(0,v.default)(this.mountNode).activeElement;this.dialogRef.contains(e)||(this.dialogRef.hasAttribute("tabIndex")||this.dialogRef.setAttribute("tabIndex",-1),this.lastFocus=e,this.dialogRef.focus())}}},{key:"restoreLastFocus",value:function(){!this.props.disableRestoreFocus&&this.lastFocus&&(this.lastFocus.focus&&this.lastFocus.focus(),this.lastFocus=null)}},{key:"isTopModal",value:function(){return this.props.manager.isTopModal(this)}},{key:"render",value:function(){var e=this.props,t=e.BackdropComponent,r=e.BackdropProps,n=e.children,s=e.classes,u=e.className,l=(e.closeAfterTransition,e.container),c=(e.disableAutoFocus,e.disableBackdropClick,e.disableEnforceFocus,e.disableEscapeKeyDown,e.disablePortal),d=(e.disableRestoreFocus,e.hideBackdrop),f=e.keepMounted,h=(e.manager,e.onBackdropClick,e.onClose,e.onEscapeKeyDown,e.onRendered,e.open),v=(0,i.default)(e,["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),_=this.state.exited,w=P(this.props);if(!f&&!h&&(!w||_))return null;var k={};return w&&(k.onExited=(0,b.createChainedFunction)(this.handleExited,n.props.onExited)),void 0===n.props.role&&(k.role=n.props.role||"document"),void 0===n.props.tabIndex&&(k.tabIndex=n.props.tabIndex||"-1"),p.default.createElement(g.default,{ref:this.handlePortalRef,container:l,disablePortal:c,onRendered:this.handleRendered},p.default.createElement("div",(0,o.default)({ref:this.handleModalRef,onKeyDown:this.handleKeyDown,role:"presentation",className:(0,m.default)(s.root,u,(0,a.default)({},s.hidden,_))},v),d?null:p.default.createElement(t,(0,o.default)({open:h,onClick:this.handleBackdropClick},r)),p.default.createElement(y.default,{rootRef:this.onRootRef},p.default.cloneElement(n,k))))}}],[{key:"getDerivedStateFromProps",value:function(e){return e.open?{exited:!1}:P(e)?null:{exited:!0}}}]),t}(p.default.Component);x.defaultProps={BackdropComponent:k.default,closeAfterTransition:!1,disableAutoFocus:!1,disableBackdropClick:!1,disableEnforceFocus:!1,disableEscapeKeyDown:!1,disablePortal:!1,disableRestoreFocus:!1,hideBackdrop:!1,keepMounted:!1,manager:new w.default};var T=(0,_.default)(S,{flip:!1,name:"MuiModal"})(x);t.default=T},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(9)),a=n(r(10)),i=n(r(11)),s=n(r(12)),u=n(r(13)),l=n(r(1)),c=n(r(26)),d=(n(r(2)),r(7),r(54));var f=function(e){function t(){return(0,o.default)(this,t),(0,i.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){this.ref=c.default.findDOMNode(this),(0,d.setRef)(this.props.rootRef,this.ref)}},{key:"componentDidUpdate",value:function(e){var t=c.default.findDOMNode(this);e.rootRef===this.props.rootRef&&this.ref===t||(e.rootRef!==this.props.rootRef&&(0,d.setRef)(e.rootRef,null),this.ref=t,(0,d.setRef)(this.props.rootRef,this.ref))}},{key:"componentWillUnmount",value:function(){this.ref=null,(0,d.setRef)(this.props.rootRef,null)}},{key:"render",value:function(){return this.props.children}}]),t}(l.default.Component);t.default=f},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(9)),a=n(r(10)),i=n(r(11)),s=n(r(12)),u=n(r(13)),l=n(r(1)),c=n(r(26)),d=(n(r(2)),n(r(43)));r(7);var f=function(e){function t(){var e,r;(0,o.default)(this,t);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(r=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(a)))).getMountNode=function(){return r.mountNode},r}return(0,u.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){this.setMountNode(this.props.container),this.props.disablePortal||this.forceUpdate(this.props.onRendered)}},{key:"componentDidUpdate",value:function(e){var t=this;e.container===this.props.container&&e.disablePortal===this.props.disablePortal||(this.setMountNode(this.props.container),this.props.disablePortal||this.forceUpdate(function(){t.props.onRendered&&(clearTimeout(t.renderedTimer),t.renderedTimer=setTimeout(t.props.onRendered))}))}},{key:"componentWillUnmount",value:function(){this.mountNode=null,clearTimeout(this.renderedTimer)}},{key:"setMountNode",value:function(e){var t;this.props.disablePortal?this.mountNode=c.default.findDOMNode(this).parentElement:this.mountNode=function(e,t){return e="function"===typeof e?e():e,c.default.findDOMNode(e)||t}(e,(t=this,(0,d.default)(c.default.findDOMNode(t))).body)}},{key:"render",value:function(){var e=this.props,t=e.children;return e.disablePortal?t:this.mountNode?c.default.createPortal(t,this.mountNode):null}}]),t}(l.default.Component);f.defaultProps={disablePortal:!1};var p=f;t.default=p},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=function(e,t,r){var n="",c="",d=t;if("string"===typeof t){if(void 0===r)return e.style[(0,o.default)(t)]||(0,i.default)(e).getPropertyValue((0,a.default)(t));(d={})[t]=r}Object.keys(d).forEach(function(t){var r=d[t];r||0===r?(0,l.default)(t)?c+=t+"("+r+") ":n+=(0,a.default)(t)+": "+r+";":(0,s.default)(e,(0,a.default)(t))}),c&&(n+=u.transform+": "+c+";");e.style.cssText+=";"+n};var o=n(r(217)),a=n(r(465)),i=n(r(467)),s=n(r(468)),u=r(469),l=n(r(470));e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(n,function(e,t){return t.toUpperCase()})};var n=/-(.)/g;e.exports=t.default},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=function(e){return(0,o.default)(e).replace(a,"-ms-")};var o=n(r(466)),a=/^ms-/;e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(n,"-$1").toLowerCase()};var n=/([A-Z])/g;e.exports=t.default},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var r=e.style;"float"==(t=(0,o.default)(t))&&(t="styleFloat");var n=e.currentStyle[t]||null;if(null==n&&r&&r[t]&&(n=r[t]),i.test(n)&&!a.test(t)){var s=r.left,u=e.runtimeStyle,l=u&&u.left;l&&(u.left=e.currentStyle.left),r.left="fontSize"===t?"1em":n,n=r.pixelLeft+"px",r.left=s,l&&(u.left=l)}return n}}};var o=n(r(217)),a=/^(top|right|bottom|left)$/,i=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)},e.exports=t.default},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var o,a,i,s,u,l,c,d,f,p,h,m=n(r(218)),v="transform";if(t.transform=v,t.animationEnd=i,t.transitionEnd=a,t.transitionDelay=c,t.transitionTiming=l,t.transitionDuration=u,t.transitionProperty=s,t.animationDelay=h,t.animationTiming=p,t.animationDuration=f,t.animationName=d,m.default){var y=function(){for(var e,t,r=document.createElement("div").style,n={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},o=Object.keys(n),a="",i=0;i<o.length;i++){var s=o[i];if(s+"TransitionProperty"in r){a="-"+s.toLowerCase(),e=n[s]("TransitionEnd"),t=n[s]("AnimationEnd");break}}!e&&"transitionProperty"in r&&(e="transitionend");!t&&"animationName"in r&&(t="animationend");return r=null,{animationEnd:t,transitionEnd:e,prefix:a}}();o=y.prefix,t.transitionEnd=a=y.transitionEnd,t.animationEnd=i=y.animationEnd,t.transform=v=o+"-"+v,t.transitionProperty=s=o+"-transition-property",t.transitionDuration=u=o+"-transition-duration",t.transitionDelay=c=o+"-transition-delay",t.transitionTiming=l=o+"-transition-timing-function",t.animationName=d=o+"-animation-name",t.animationDuration=f=o+"-animation-duration",t.animationTiming=p=o+"-animation-delay",t.animationDelay=h=o+"-animation-timing-function"}var g={transform:v,end:a,property:s,timing:l,delay:c,duration:u};t.default=g},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return!(!e||!n.test(e))};var n=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.isBody=s,t.default=function(e){var t=(0,a.default)(e),r=(0,i.default)(t);if(!(0,o.default)(t)&&!s(e))return e.scrollHeight>e.clientHeight;var n=r.getComputedStyle(t.body),u=parseInt(n.getPropertyValue("margin-left"),10),l=parseInt(n.getPropertyValue("margin-right"),10);return u+t.body.clientWidth+l<r.innerWidth};var o=n(r(472)),a=n(r(43)),i=n(r(104));function s(e){return e&&"body"===e.tagName.toLowerCase()}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(474))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=n(r(5)),c=n(r(221)),d={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",touchAction:"none"},invisible:{backgroundColor:"transparent"}};function f(e){var t=e.classes,r=e.className,n=e.invisible,l=e.open,d=e.transitionDuration,f=(0,i.default)(e,["classes","className","invisible","open","transitionDuration"]);return s.default.createElement(c.default,(0,o.default)({in:l,timeout:d},f),s.default.createElement("div",{className:(0,u.default)(t.root,(0,a.default)({},t.invisible,n),r),"aria-hidden":"true"}))}t.styles=d,f.defaultProps={invisible:!1};var p=(0,l.default)(d,{name:"MuiBackdrop"})(f);t.default=p},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(9)),s=n(r(10)),u=n(r(11)),l=n(r(12)),c=n(r(13)),d=n(r(1)),f=(n(r(2)),n(r(105))),p=r(82),h=n(r(106)),m=r(141),v={entering:{opacity:1},entered:{opacity:1}},y=function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=(0,u.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(o)))).handleEnter=function(e){var t=r.props.theme;(0,m.reflow)(e);var n=(0,m.getTransitionProps)(r.props,{mode:"enter"});e.style.webkitTransition=t.transitions.create("opacity",n),e.style.transition=t.transitions.create("opacity",n),r.props.onEnter&&r.props.onEnter(e)},r.handleExit=function(e){var t=r.props.theme,n=(0,m.getTransitionProps)(r.props,{mode:"exit"});e.style.webkitTransition=t.transitions.create("opacity",n),e.style.transition=t.transitions.create("opacity",n),r.props.onExit&&r.props.onExit(e)},r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=(e.onEnter,e.onExit,e.style),n=(e.theme,(0,a.default)(e,["children","onEnter","onExit","style","theme"])),i=(0,o.default)({},r,d.default.isValidElement(t)?t.props.style:{});return d.default.createElement(f.default,(0,o.default)({appear:!0,onEnter:this.handleEnter,onExit:this.handleExit},n),function(e,r){return d.default.cloneElement(t,(0,o.default)({style:(0,o.default)({opacity:0},v[e],i)},r))})}}]),t}(d.default.Component);y.defaultProps={timeout:{enter:p.duration.enteringScreen,exit:p.duration.leavingScreen}};var g=(0,h.default)()(y);t.default=g},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(8)),a=n(r(4)),i=n(r(3)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=(n(r(19)),r(7),n(r(5))),c=function(e){var t={};return e.shadows.forEach(function(e,r){t["elevation".concat(r)]={boxShadow:e}}),(0,i.default)({root:{backgroundColor:e.palette.background.paper},rounded:{borderRadius:e.shape.borderRadius}},t)};function d(e){var t=e.classes,r=e.className,n=e.component,l=e.square,c=e.elevation,d=(0,a.default)(e,["classes","className","component","square","elevation"]),f=(0,u.default)(t.root,t["elevation".concat(c)],(0,o.default)({},t.rounded,!l),r);return s.default.createElement(n,(0,i.default)({className:f},d))}t.styles=c,d.defaultProps={component:"div",elevation:2,square:!1};var f=(0,l.default)(c,{name:"MuiPaper"})(d);t.default=f},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(1)),s=(n(r(2)),n(r(6))),u=n(r(5)),l=r(54);r(97);var c={root:{display:"flex",alignItems:"center",justifyContent:"flex-end",flex:"0 0 auto",margin:"8px 4px"},action:{margin:"0 4px"}};function d(e){var t=e.disableActionSpacing,r=e.children,n=e.classes,u=e.className,c=(0,a.default)(e,["disableActionSpacing","children","classes","className"]);return i.default.createElement("div",(0,o.default)({className:(0,s.default)(n.root,u)},c),t?r:(0,l.cloneChildrenWithClassName)(r,n.action))}t.styles=c,d.defaultProps={disableActionSpacing:!1};var f=(0,u.default)(c,{name:"MuiDialogActions"})(d);t.default=f},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(1)),s=(n(r(2)),n(r(6))),u=n(r(5)),l={root:{flex:"1 1 auto",overflowY:"auto",WebkitOverflowScrolling:"touch",padding:"0 24px 24px","&:first-child":{paddingTop:24}}};t.styles=l;var c=(0,u.default)(l,{name:"MuiDialogContent"})(function(e){var t=e.classes,r=e.children,n=e.className,u=(0,a.default)(e,["classes","children","className"]);return i.default.createElement("div",(0,o.default)({className:(0,s.default)(t.root,n)},u),r)});t.default=c},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(1)),s=(n(r(2)),n(r(6))),u=n(r(5)),l=n(r(83)),c={root:{margin:0,padding:"24px 24px 20px",flex:"0 0 auto"}};function d(e){var t=e.children,r=e.classes,n=e.className,u=e.disableTypography,c=(0,a.default)(e,["children","classes","className","disableTypography"]);return i.default.createElement("div",(0,o.default)({className:(0,s.default)(r.root,n)},c),u?t:i.default.createElement(l.default,{variant:"title",internalDeprecatedVariant:!0},t))}t.styles=c,d.defaultProps={disableTypography:!1};var f=(0,u.default)(c,{name:"MuiDialogTitle"})(d);t.default=f},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=(r(7),n(r(5))),c=r(38),d=function(e){return{root:{display:"block",margin:0},display4:e.typography.display4,display3:e.typography.display3,display2:e.typography.display2,display1:e.typography.display1,headline:e.typography.headline,title:e.typography.title,subheading:e.typography.subheading,body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},inline:{display:"inline"}}};t.styles=d;var f={display4:"h1",display3:"h2",display2:"h3",display1:"h4",headline:"h5",title:"h6",subheading:"subtitle1"};var p={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",display4:"h1",display3:"h1",display2:"h1",display1:"h1",headline:"h1",title:"h2",subheading:"h3"};function h(e){var t,r=e.align,n=e.classes,l=e.className,d=e.color,h=e.component,m=e.gutterBottom,v=e.headlineMapping,y=e.inline,g=(e.internalDeprecatedVariant,e.noWrap),b=e.paragraph,_=e.theme,w=e.variant,k=(0,i.default)(e,["align","classes","className","color","component","gutterBottom","headlineMapping","inline","internalDeprecatedVariant","noWrap","paragraph","theme","variant"]),E=function(e,t){var r=e.typography,n=t;return n||(n=r.useNextVariants?"body2":"body1"),r.useNextVariants&&(n=f[n]||n),n}(_,w),P=(0,u.default)(n.root,(t={},(0,a.default)(t,n[E],"inherit"!==E),(0,a.default)(t,n["color".concat((0,c.capitalize)(d))],"default"!==d),(0,a.default)(t,n.noWrap,g),(0,a.default)(t,n.gutterBottom,m),(0,a.default)(t,n.paragraph,b),(0,a.default)(t,n["align".concat((0,c.capitalize)(r))],"inherit"!==r),(0,a.default)(t,n.inline,y),t),l),S=h||(b?"p":v[E]||p[E])||"span";return s.default.createElement(S,(0,o.default)({className:P},k))}h.defaultProps={align:"inherit",color:"default",gutterBottom:!1,headlineMapping:p,inline:!1,noWrap:!1,paragraph:!1};var m=(0,l.default)(d,{name:"MuiTypography",withTheme:!0})(h);t.default=m},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(9)),u=n(r(11)),l=n(r(12)),c=n(r(10)),d=n(r(13)),f=n(r(1)),p=(n(r(2)),n(r(6))),h=(r(7),r(143)),m=n(r(5)),v=r(38),y=r(54),g=n(r(144)),b={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}};t.styles=b;var _=function(e){function t(e){var r;(0,s.default)(this,t),(r=(0,u.default)(this,(0,l.default)(t).call(this))).handleFocus=function(){r.setState(function(e){return e.focused?null:{focused:!0}})},r.handleBlur=function(){r.setState(function(e){return e.focused?{focused:!1}:null})},r.handleDirty=function(){r.state.filled||r.setState({filled:!0})},r.handleClean=function(){r.state.filled&&r.setState({filled:!1})},r.state={adornedStart:!1,filled:!1,focused:!1};var n=e.children;return n&&f.default.Children.forEach(n,function(e){if((0,y.isMuiElement)(e,["Input","Select"])){(0,h.isFilled)(e.props,!0)&&(r.state.filled=!0);var t=(0,y.isMuiElement)(e,["Select"])?e.props.input:e;t&&(0,h.isAdornedStart)(t.props)&&(r.state.adornedStart=!0)}}),r}return(0,d.default)(t,e),(0,c.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.disabled&&t.focused?{focused:!1}:null}}]),(0,c.default)(t,[{key:"render",value:function(){var e,t=this.props,r=t.classes,n=t.className,s=t.component,u=t.disabled,l=t.error,c=t.fullWidth,d=t.margin,h=t.required,m=t.variant,y=(0,i.default)(t,["classes","className","component","disabled","error","fullWidth","margin","required","variant"]),b=this.state,_={adornedStart:b.adornedStart,disabled:u,error:l,filled:b.filled,focused:b.focused,margin:d,onBlur:this.handleBlur,onEmpty:this.handleClean,onFilled:this.handleDirty,onFocus:this.handleFocus,required:h,variant:m};return f.default.createElement(g.default.Provider,{value:_},f.default.createElement(s,(0,o.default)({className:(0,p.default)(r.root,(e={},(0,a.default)(e,r["margin".concat((0,v.capitalize)(d))],"none"!==d),(0,a.default)(e,r.fullWidth,c),e),n)},y)))}}]),t}(f.default.Component);_.defaultProps={component:"div",disabled:!1,error:!1,fullWidth:!1,margin:"none",required:!1,variant:"standard"};var w=(0,m.default)(b,{name:"MuiFormControl"})(_);t.default=w},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=(r(7),n(r(5))),c=r(81),d=n(r(103)),f=r(38),p=function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,c.fade)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,c.fade)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,c.fade)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}};function h(e){var t,r=e.children,n=e.classes,l=e.className,c=e.color,p=e.disabled,h=(0,i.default)(e,["children","classes","className","color","disabled"]);return s.default.createElement(d.default,(0,o.default)({className:(0,u.default)(n.root,(t={},(0,a.default)(t,n["color".concat((0,f.capitalize)(c))],"default"!==c),(0,a.default)(t,n.disabled,p),t),l),centerRipple:!0,focusRipple:!0,disabled:p},h),s.default.createElement("span",{className:n.label},r))}t.styles=p,h.defaultProps={color:"default",disabled:!1};var m=(0,l.default)(p,{name:"MuiIconButton"})(h);t.default=m},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(484))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=n(r(84)),c=n(r(85)),d=n(r(5)),f=n(r(485)),p=function(e){return{root:{transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 17px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}};function h(e){var t,r=e.children,n=e.classes,c=e.className,d=e.disableAnimation,p=e.FormLabelClasses,h=(e.margin,e.muiFormControl),m=e.shrink,v=(e.variant,(0,i.default)(e,["children","classes","className","disableAnimation","FormLabelClasses","margin","muiFormControl","shrink","variant"])),y=m;"undefined"===typeof y&&h&&(y=h.filled||h.focused||h.adornedStart);var g=(0,l.default)({props:e,muiFormControl:h,states:["margin","variant"]}),b=(0,u.default)(n.root,(t={},(0,a.default)(t,n.formControl,h),(0,a.default)(t,n.animated,!d),(0,a.default)(t,n.shrink,y),(0,a.default)(t,n.marginDense,"dense"===g.margin),(0,a.default)(t,n.filled,"filled"===g.variant),(0,a.default)(t,n.outlined,"outlined"===g.variant),t),c);return s.default.createElement(f.default,(0,o.default)({"data-shrink":y,className:b,classes:(0,o.default)({focused:n.focused,disabled:n.disabled,error:n.error,required:n.required},p)},v),r)}t.styles=p,h.defaultProps={disableAnimation:!1};var m=(0,d.default)(p,{name:"MuiInputLabel"})((0,c.default)(h));t.default=m},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(486))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=(r(7),n(r(84))),c=n(r(85)),d=n(r(5)),f=function(e){return{root:{fontFamily:e.typography.fontFamily,color:e.palette.text.secondary,fontSize:e.typography.pxToRem(16),lineHeight:1,padding:0,"&$focused":{color:e.palette.primary["light"===e.palette.type?"dark":"light"]},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}};function p(e){var t,r=e.children,n=e.classes,c=e.className,d=e.component,f=(e.disabled,e.error,e.filled,e.focused,e.muiFormControl),p=(e.required,(0,i.default)(e,["children","classes","className","component","disabled","error","filled","focused","muiFormControl","required"])),h=(0,l.default)({props:e,muiFormControl:f,states:["required","focused","disabled","error","filled"]});return s.default.createElement(d,(0,o.default)({className:(0,u.default)(n.root,(t={},(0,a.default)(t,n.disabled,h.disabled),(0,a.default)(t,n.error,h.error),(0,a.default)(t,n.filled,h.filled),(0,a.default)(t,n.focused,h.focused),(0,a.default)(t,n.required,h.required),t),c)},p),r,h.required&&s.default.createElement("span",{className:(0,u.default)(n.asterisk,(0,a.default)({},n.error,h.error))},"\u2009*"))}t.styles=f,p.defaultProps={component:"label"};var h=(0,d.default)(f,{name:"MuiFormLabel"})((0,c.default)(p));t.default=h},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(8)),a=n(r(4)),i=n(r(3)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=(r(7),n(r(5))),c=n(r(227)),d=function(e){return{root:(0,i.default)({},e.typography.subheading,{height:24,boxSizing:"content-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap","&$selected":{}}),gutters:{paddingLeft:16,paddingRight:16},selected:{}}};function f(e){var t,r=e.classes,n=e.className,l=e.component,d=e.disableGutters,f=e.role,p=e.selected,h=(0,a.default)(e,["classes","className","component","disableGutters","role","selected"]);return s.default.createElement(c.default,(0,i.default)({button:!0,role:f,tabIndex:-1,component:l,selected:p,disableGutters:d,className:(0,u.default)(r.root,(t={},(0,o.default)(t,r.selected,p),(0,o.default)(t,r.gutters,!d),t),n)},h))}t.styles=d,f.defaultProps={component:"li",disableGutters:!1,role:"menuitem"};var p=(0,l.default)(d,{name:"MuiMenuItem"})(f);t.default=p},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=(r(7),n(r(5))),c=n(r(103)),d=r(54),f=n(r(489)),p=function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:11,paddingBottom:11,"&$selected, &$selected:hover, &$selected:focus":{backgroundColor:e.palette.action.selected}},container:{position:"relative"},focusVisible:{},default:{},dense:{paddingTop:8,paddingBottom:8},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{opacity:.5},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&:focus":{backgroundColor:e.palette.action.hover}},secondaryAction:{paddingRight:32},selected:{}}};function h(e){var t=e.alignItems,r=e.button,n=e.children,l=e.classes,p=e.className,h=e.component,m=e.ContainerComponent,v=e.ContainerProps,y=(v=void 0===v?{}:v).className,g=(0,i.default)(v,["className"]),b=e.dense,_=e.disabled,w=e.disableGutters,k=e.divider,E=e.focusVisibleClassName,P=e.selected,S=(0,i.default)(e,["alignItems","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]);return s.default.createElement(f.default,{dense:b,alignItems:t},function(e){var i,f=e.dense,v=s.default.Children.toArray(n),b=v.some(function(e){return(0,d.isMuiElement)(e,["ListItemAvatar"])}),x=v.length&&(0,d.isMuiElement)(v[v.length-1],["ListItemSecondaryAction"]),T=(0,u.default)(l.root,l.default,(i={},(0,a.default)(i,l.dense,f||b),(0,a.default)(i,l.gutters,!w),(0,a.default)(i,l.divider,k),(0,a.default)(i,l.disabled,_),(0,a.default)(i,l.button,r),(0,a.default)(i,l.alignItemsFlexStart,"flex-start"===t),(0,a.default)(i,l.secondaryAction,x),(0,a.default)(i,l.selected,P),i),p),C=(0,o.default)({className:T,disabled:_},S),O=h||"li";return r&&(C.component=h||"div",C.focusVisibleClassName=(0,u.default)(l.focusVisible,E),O=c.default),x?(O=C.component||h?O:"div","li"===m&&("li"===O?O="div":"li"===C.component&&(C.component="div")),s.default.createElement(m,(0,o.default)({className:(0,u.default)(l.container,y)},g),s.default.createElement(O,C,v),v.pop())):s.default.createElement(O,C,v)})}t.styles=p,h.defaultProps={alignItems:"center",button:!1,ContainerComponent:"li",dense:!1,disabled:!1,disableGutters:!1,divider:!1,selected:!1};var m=(0,l.default)(p,{name:"MuiListItem"})(h);t.default=m},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(n(r(2)),n(r(145)));var i=function(e){var t=e.alignItems,r=e.children,n=e.dense;return o.default.createElement(a.default.Consumer,null,function(e){var i={dense:n||e.dense||!1,alignItems:t};return o.default.createElement(a.default.Provider,{value:i},r(i))})};t.default=i},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=(r(7),n(r(5))),c=r(38),d=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:24,transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:20},fontSizeLarge:{fontSize:35}}};function f(e){var t,r=e.children,n=e.classes,l=e.className,d=e.color,f=e.component,p=e.fontSize,h=e.nativeColor,m=e.titleAccess,v=e.viewBox,y=(0,i.default)(e,["children","classes","className","color","component","fontSize","nativeColor","titleAccess","viewBox"]);return s.default.createElement(f,(0,o.default)({className:(0,u.default)(n.root,(t={},(0,a.default)(t,n["color".concat((0,c.capitalize)(d))],"inherit"!==d),(0,a.default)(t,n["fontSize".concat((0,c.capitalize)(p))],"default"!==p),t),l),focusable:"false",viewBox:v,color:h,"aria-hidden":m?"false":"true",role:m?"img":"presentation"},y),r,m?s.default.createElement("title",null,m):null)}t.styles=d,f.defaultProps={color:"inherit",component:"svg",fontSize:"default",viewBox:"0 0 24 24"},f.muiName="SvgIcon";var p=(0,l.default)(d,{name:"MuiSvgIcon"})(f);t.default=p},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(492))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(1)),s=(n(r(2)),r(7),n(r(493))),u=n(r(84)),l=n(r(85)),c=n(r(5)),d=n(r(205)),f=n(r(230)),p=n(r(234)),h=r(511),m=n(r(235)),v=h.styles;function y(e){var t=e.autoWidth,r=e.children,n=e.classes,l=e.displayEmpty,c=e.IconComponent,f=e.input,p=e.inputProps,h=e.MenuProps,v=e.muiFormControl,g=e.multiple,b=e.native,_=e.onClose,w=e.onOpen,k=e.open,E=e.renderValue,P=e.SelectDisplayProps,S=(e.variant,(0,a.default)(e,["autoWidth","children","classes","displayEmpty","IconComponent","input","inputProps","MenuProps","muiFormControl","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"])),x=b?m.default:s.default,T=(0,u.default)({props:e,muiFormControl:v,states:["variant"]});return i.default.cloneElement(f,(0,o.default)({inputComponent:x,inputProps:(0,o.default)({children:r,IconComponent:c,variant:T.variant,type:void 0,multiple:g},b?{}:{autoWidth:t,displayEmpty:l,MenuProps:h,onClose:_,onOpen:w,open:k,renderValue:E,SelectDisplayProps:P},p,{classes:p?(0,d.default)({baseClasses:n,newClasses:p.classes,Component:y}):n},f?f.props.inputProps:{})},S))}t.styles=v,y.defaultProps={autoWidth:!1,displayEmpty:!1,IconComponent:f.default,input:i.default.createElement(p.default,null),multiple:!1,native:!1},y.muiName="Select";var g=(0,c.default)(v,{name:"MuiSelect"})((0,l.default)(y));t.default=g},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(211)),u=n(r(9)),l=n(r(10)),c=n(r(11)),d=n(r(12)),f=n(r(13)),p=n(r(65)),h=n(r(1)),m=(n(r(2)),n(r(6))),v=(n(r(19)),r(7),n(r(228))),y=r(143),g=r(54);function b(e,t){return"object"===(0,p.default)(t)&&null!==t?e===t:String(e)===String(t)}var _=function(e){function t(e){var r;return(0,u.default)(this,t),(r=(0,c.default)(this,(0,d.default)(t).call(this))).ignoreNextBlur=!1,r.update=function(e){var t=e.event,n=e.open;r.isOpenControlled?n?r.props.onOpen(t):r.props.onClose(t):r.setState({menuMinWidth:r.props.autoWidth?null:r.displayRef.clientWidth,open:n})},r.handleClick=function(e){r.ignoreNextBlur=!0,r.update({open:!0,event:e})},r.handleClose=function(e){r.update({open:!1,event:e})},r.handleItemClick=function(e){return function(t){r.props.multiple||r.update({open:!1,event:t});var n=r.props,o=n.onChange,a=n.name;if(o){var i;if(r.props.multiple){var u=(i=Array.isArray(r.props.value)?(0,s.default)(r.props.value):[]).indexOf(e.props.value);-1===u?i.push(e.props.value):i.splice(u,1)}else i=e.props.value;t.persist(),t.target={value:i,name:a},o(t,e)}}},r.handleBlur=function(e){if(!0===r.ignoreNextBlur)return e.stopPropagation(),void(r.ignoreNextBlur=!1);if(r.props.onBlur){var t=r.props,n=t.value,o=t.name;e.persist(),e.target={value:n,name:o},r.props.onBlur(e)}},r.handleKeyDown=function(e){r.props.readOnly||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),r.ignoreNextBlur=!0,r.update({open:!0,event:e}))},r.handleDisplayRef=function(e){r.displayRef=e},r.handleInputRef=function(e){var t=r.props.inputRef;if(t){var n={node:e,value:r.props.value,focus:function(){r.displayRef.focus()}};(0,g.setRef)(t,n)}},r.isOpenControlled=void 0!==e.open,r.state={menuMinWidth:null,open:!1},r}return(0,f.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){this.isOpenControlled&&this.props.open&&(this.displayRef.focus(),this.forceUpdate()),this.props.autoFocus&&this.displayRef.focus()}},{key:"render",value:function(){var e,t,r=this,n=this.props,s=n.autoWidth,u=n.children,l=n.classes,c=n.className,d=n.disabled,f=n.displayEmpty,p=n.IconComponent,g=(n.inputRef,n.MenuProps),_=void 0===g?{}:g,w=n.multiple,k=n.name,E=(n.onBlur,n.onChange,n.onClose,n.onFocus),P=(n.onOpen,n.open),S=n.readOnly,x=n.renderValue,T=(n.required,n.SelectDisplayProps),C=n.tabIndex,O=n.type,R=void 0===O?"hidden":O,M=n.value,D=n.variant,j=(0,i.default)(n,["autoWidth","children","classes","className","disabled","displayEmpty","IconComponent","inputRef","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","required","SelectDisplayProps","tabIndex","type","value","variant"]),I=this.isOpenControlled&&this.displayRef?P:this.state.open;delete j["aria-invalid"];var A="",N=[],L=!1;((0,y.isFilled)(this.props)||f)&&(x?t=x(M):L=!0);var F=h.default.Children.map(u,function(e){if(!h.default.isValidElement(e))return null;var t;if(w){if(!Array.isArray(M))throw new Error("Material-UI: the `value` property must be an array when using the `Select` component with `multiple`.");(t=M.some(function(t){return b(t,e.props.value)}))&&L&&N.push(e.props.children)}else(t=b(M,e.props.value))&&L&&(A=e.props.children);return h.default.cloneElement(e,{onClick:r.handleItemClick(e),role:"option",selected:t,value:void 0,"data-value":e.props.value})});L&&(t=w?N.join(", "):A);var U,B=this.state.menuMinWidth;return!s&&this.isOpenControlled&&this.displayRef&&(B=this.displayRef.clientWidth),U="undefined"!==typeof C?C:d?null:0,h.default.createElement("div",{className:l.root},h.default.createElement("div",(0,o.default)({className:(0,m.default)(l.select,l.selectMenu,(e={},(0,a.default)(e,l.disabled,d),(0,a.default)(e,l.filled,"filled"===D),(0,a.default)(e,l.outlined,"outlined"===D),e),c),ref:this.handleDisplayRef,"aria-pressed":I?"true":"false",tabIndex:U,role:"button","aria-owns":I?"menu-".concat(k||""):void 0,"aria-haspopup":"true",onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onClick:d||S?null:this.handleClick,onFocus:E,id:k?"select-".concat(k):void 0},T),t||h.default.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})),h.default.createElement("input",(0,o.default)({value:Array.isArray(M)?M.join(","):M,name:k,ref:this.handleInputRef,type:R},j)),h.default.createElement(p,{className:l.icon}),h.default.createElement(v.default,(0,o.default)({id:"menu-".concat(k||""),anchorEl:this.displayRef,open:I,onClose:this.handleClose},_,{MenuListProps:(0,o.default)({role:"listbox",disableListWrap:!0},_.MenuListProps),PaperProps:(0,o.default)({},_.PaperProps,{style:(0,o.default)({minWidth:B},null!=_.PaperProps?_.PaperProps.style:null)})}),F))}}]),t}(h.default.Component);t.default=_},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(495))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(9)),s=n(r(10)),u=n(r(11)),l=n(r(12)),c=n(r(13)),d=n(r(1)),f=(n(r(2)),n(r(26))),p=(n(r(19)),n(r(147))),h=n(r(86)),m=(r(7),n(r(43))),v=n(r(104)),y=r(38),g=n(r(5)),b=n(r(213)),_=n(r(229)),w=n(r(142));function k(e,t){var r=0;return"number"===typeof t?r=t:"center"===t?r=e.height/2:"bottom"===t&&(r=e.height),r}function E(e,t){var r=0;return"number"===typeof t?r=t:"center"===t?r=e.width/2:"right"===t&&(r=e.width),r}function P(e){return[e.horizontal,e.vertical].map(function(e){return"number"===typeof e?"".concat(e,"px"):e}).join(" ")}function S(e){return"function"===typeof e?e():e}var x={paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:"none"}};t.styles=x;var T=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,u.default)(this,(0,l.default)(t).call(this))).handleGetOffsetTop=k,e.handleGetOffsetLeft=E,e.componentWillUnmount=function(){e.handleResize.clear()},e.setPositioningStyles=function(t){var r=e.getPositioningStyle(t);null!==r.top&&(t.style.top=r.top),null!==r.left&&(t.style.left=r.left),t.style.transformOrigin=r.transformOrigin},e.getPositioningStyle=function(t){var r=e.props,n=r.anchorEl,o=r.anchorReference,a=r.marginThreshold,i=e.getContentAnchorOffset(t),s={width:t.offsetWidth,height:t.offsetHeight},u=e.getTransformOrigin(s,i);if("none"===o)return{top:null,left:null,transformOrigin:P(u)};var l=e.getAnchorOffset(i),c=l.top-u.vertical,d=l.left-u.horizontal,f=c+s.height,p=d+s.width,h=(0,v.default)(S(n)),m=h.innerHeight-a,y=h.innerWidth-a;if(c<a){var g=c-a;c-=g,u.vertical+=g}else if(f>m){var b=f-m;c-=b,u.vertical+=b}if(d<a){var _=d-a;d-=_,u.horizontal+=_}else if(p>y){var w=p-y;d-=w,u.horizontal+=w}return{top:"".concat(c,"px"),left:"".concat(d,"px"),transformOrigin:P(u)}},e.handleEntering=function(t){e.props.onEntering&&e.props.onEntering(t),e.setPositioningStyles(t)},"undefined"!==typeof window&&(e.handleResize=(0,p.default)(function(){e.props.open&&e.setPositioningStyles(e.paperRef)},166)),e}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.props.action&&this.props.action({updatePosition:this.handleResize})}},{key:"getAnchorOffset",value:function(e){var t=this.props,r=t.anchorEl,n=t.anchorOrigin,o=t.anchorReference,a=t.anchorPosition;if("anchorPosition"===o)return a;var i=(S(r)||(0,m.default)(this.paperRef).body).getBoundingClientRect(),s=0===e?n.vertical:"center";return{top:i.top+this.handleGetOffsetTop(i,s),left:i.left+this.handleGetOffsetLeft(i,n.horizontal)}}},{key:"getContentAnchorOffset",value:function(e){var t=this.props,r=t.getContentAnchorEl,n=t.anchorReference,o=0;if(r&&"anchorEl"===n){var a=r(e);if(a&&e.contains(a)){var i=function(e,t){for(var r=t,n=0;r&&r!==e;)n+=(r=r.parentNode).scrollTop;return n}(e,a);o=a.offsetTop+a.clientHeight/2-i||0}}return o}},{key:"getTransformOrigin",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.props.transformOrigin;return{vertical:this.handleGetOffsetTop(e,r.vertical)+t,horizontal:this.handleGetOffsetLeft(e,r.horizontal)}}},{key:"render",value:function(){var e=this,t=this.props,r=(t.action,t.anchorEl),n=(t.anchorOrigin,t.anchorPosition,t.anchorReference,t.children),i=t.classes,s=t.container,u=t.elevation,l=(t.getContentAnchorEl,t.marginThreshold,t.ModalClasses),c=t.onEnter,p=t.onEntered,v=(t.onEntering,t.onExit),g=t.onExited,_=t.onExiting,k=t.open,E=t.PaperProps,P=t.role,x=(t.transformOrigin,t.TransitionComponent),T=t.transitionDuration,C=t.TransitionProps,O=void 0===C?{}:C,R=(0,a.default)(t,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","container","elevation","getContentAnchorEl","marginThreshold","ModalClasses","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","role","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),M=T;"auto"!==T||x.muiSupportAuto||(M=void 0);var D=s||(r?(0,m.default)(S(r)).body:void 0);return d.default.createElement(b.default,(0,o.default)({classes:l,container:D,open:k,BackdropProps:{invisible:!0}},R),d.default.createElement(x,(0,o.default)({appear:!0,in:k,onEnter:c,onEntered:p,onExit:v,onExited:g,onExiting:_,role:P,timeout:M},O,{onEntering:(0,y.createChainedFunction)(this.handleEntering,O.onEntering)}),d.default.createElement(w.default,(0,o.default)({className:i.paper,elevation:u,ref:function(t){e.paperRef=f.default.findDOMNode(t)}},E),d.default.createElement(h.default,{target:"window",onResize:this.handleResize}),n)))}}]),t}(d.default.Component);T.defaultProps={anchorReference:"anchorEl",anchorOrigin:{vertical:"top",horizontal:"left"},elevation:8,marginThreshold:16,transformOrigin:{vertical:"top",horizontal:"left"},TransitionComponent:_.default,transitionDuration:"auto"};var C=(0,g.default)(x,{name:"MuiPopover"})(T);t.default=C},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(9)),s=n(r(10)),u=n(r(11)),l=n(r(12)),c=n(r(13)),d=n(r(1)),f=(n(r(2)),n(r(105))),p=n(r(106)),h=r(141);function m(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var v={entering:{opacity:1,transform:m(1)},entered:{opacity:1,transform:"".concat(m(1)," translateZ(0)")}},y=function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=(0,u.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(o)))).handleEnter=function(e){var t=r.props,n=t.theme,o=t.timeout;(0,h.reflow)(e);var a=(0,h.getTransitionProps)(r.props,{mode:"enter"}),i=a.duration,s=a.delay,u=0;"auto"===o?(u=n.transitions.getAutoHeightDuration(e.clientHeight),r.autoTimeout=u):u=i,e.style.transition=[n.transitions.create("opacity",{duration:u,delay:s}),n.transitions.create("transform",{duration:.666*u,delay:s})].join(","),r.props.onEnter&&r.props.onEnter(e)},r.handleExit=function(e){var t=r.props,n=t.theme,o=t.timeout,a=0,i=(0,h.getTransitionProps)(r.props,{mode:"exit"}),s=i.duration,u=i.delay;"auto"===o?(a=n.transitions.getAutoHeightDuration(e.clientHeight),r.autoTimeout=a):a=s,e.style.transition=[n.transitions.create("opacity",{duration:a,delay:u}),n.transitions.create("transform",{duration:.666*a,delay:u||.333*a})].join(","),e.style.opacity="0",e.style.transform=m(.75),r.props.onExit&&r.props.onExit(e)},r.addEndListener=function(e,t){"auto"===r.props.timeout&&(r.timer=setTimeout(t,r.autoTimeout||0))},r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.onEnter,e.onExit,e.style),n=(e.theme,e.timeout),i=(0,a.default)(e,["children","onEnter","onExit","style","theme","timeout"]),s=(0,o.default)({},r,d.default.isValidElement(t)?t.props.style:{});return d.default.createElement(f.default,(0,o.default)({appear:!0,onEnter:this.handleEnter,onExit:this.handleExit,addEndListener:this.addEndListener,timeout:"auto"===n?null:n},i),function(e,r){return d.default.cloneElement(t,(0,o.default)({style:(0,o.default)({opacity:0,transform:m(.75)},v[e],s)},r))})}}]),t}(d.default.Component);y.defaultProps={timeout:"auto"},y.muiSupportAuto=!0;var g=(0,p.default)()(y);t.default=g},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(498))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(9)),s=n(r(10)),u=n(r(11)),l=n(r(12)),c=n(r(13)),d=n(r(1)),f=(n(r(2)),n(r(26))),p=(n(r(19)),n(r(43))),h=n(r(499)),m=function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=(0,u.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(o)))).state={currentTabIndex:null},r.handleBlur=function(e){r.blurTimer=setTimeout(function(){if(r.listRef){var e=r.listRef,t=(0,p.default)(e).activeElement;e.contains(t)||r.resetTabIndex()}},30),r.props.onBlur&&r.props.onBlur(e)},r.handleKeyDown=function(e){var t=r.listRef,n=e.key,o=(0,p.default)(t).activeElement;"ArrowUp"!==n&&"ArrowDown"!==n||o&&(!o||t.contains(o))?"ArrowDown"===n?(e.preventDefault(),o.nextElementSibling?o.nextElementSibling.focus():r.props.disableListWrap||t.firstChild.focus()):"ArrowUp"===n?(e.preventDefault(),o.previousElementSibling?o.previousElementSibling.focus():r.props.disableListWrap||t.lastChild.focus()):"Home"===n?(e.preventDefault(),t.firstChild.focus()):"End"===n&&(e.preventDefault(),t.lastChild.focus()):r.selectedItemRef?r.selectedItemRef.focus():t.firstChild.focus(),r.props.onKeyDown&&r.props.onKeyDown(e)},r.handleItemFocus=function(e){var t=r.listRef;if(t)for(var n=0;n<t.children.length;n+=1)if(t.children[n]===e.currentTarget){r.setTabIndex(n);break}},r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.resetTabIndex()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.blurTimer)}},{key:"setTabIndex",value:function(e){this.setState({currentTabIndex:e})}},{key:"focus",value:function(){var e=this.state.currentTabIndex,t=this.listRef;t&&t.children&&t.firstChild&&(e&&e>=0?t.children[e].focus():t.firstChild.focus())}},{key:"resetTabIndex",value:function(){for(var e=this.listRef,t=(0,p.default)(e).activeElement,r=[],n=0;n<e.children.length;n+=1)r.push(e.children[n]);var o=r.indexOf(t);return-1!==o?this.setTabIndex(o):this.selectedItemRef?this.setTabIndex(r.indexOf(this.selectedItemRef)):this.setTabIndex(0)}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.className,i=(t.onBlur,t.onKeyDown,t.disableListWrap,(0,a.default)(t,["children","className","onBlur","onKeyDown","disableListWrap"]));return d.default.createElement(h.default,(0,o.default)({role:"menu",ref:function(t){e.listRef=f.default.findDOMNode(t)},className:n,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur},i),d.default.Children.map(r,function(t,r){return d.default.isValidElement(t)?d.default.cloneElement(t,{tabIndex:r===e.state.currentTabIndex?0:-1,ref:t.props.selected?function(t){e.selectedItemRef=f.default.findDOMNode(t)}:void 0,onFocus:e.handleItemFocus}):null}))}}]),t}(d.default.Component);m.defaultProps={disableListWrap:!1};var v=m;t.default=v},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(500))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=(r(7),n(r(5))),c=n(r(145)),d={root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{paddingTop:4,paddingBottom:4},subheader:{paddingTop:0}};function f(e){var t,r=e.children,n=e.classes,l=e.className,d=e.component,f=e.dense,p=e.disablePadding,h=e.subheader,m=(0,i.default)(e,["children","classes","className","component","dense","disablePadding","subheader"]);return s.default.createElement(d,(0,o.default)({className:(0,u.default)(n.root,(t={},(0,a.default)(t,n.dense,f&&!p),(0,a.default)(t,n.padding,!p),(0,a.default)(t,n.subheader,h),t),l)},m),s.default.createElement(c.default.Provider,{value:{dense:f}},h,r))}t.styles=d,f.defaultProps={component:"ul",dense:!1,disablePadding:!1};var p=(0,l.default)(d,{name:"MuiList"})(f);t.default=p},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var o=n(r(502)),a=r(1),i=(n(r(232)),n(r(233)),function(e){return function(t){var r=(0,a.createFactory)(t);return function(t){function n(){return t.apply(this,arguments)||this}(0,o.default)(n,t);var a=n.prototype;return a.shouldComponentUpdate=function(t){return e(this.props,t)},a.render=function(){return r(this.props)},n}(a.Component)}});t.default=i},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e,t){return function(r){return r[e]=t,r}};t.default=n},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":void 0};t.default=n},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var o=n(r(506)).default;t.default=o},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var i=0;i<r.length;i++)if(!n.call(t,r[i])||!o(e[r[i]],t[r[i]]))return!1;return!0}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(8)),a=n(r(3)),i=n(r(4)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=(r(7),n(r(508))),c=n(r(5)),d=function(e){var t="light"===e.palette.type,r=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary[t?"dark":"light"]),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):not($focused):not($error):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputType:{},inputTypeSearch:{}}};function f(e){var t=e.disableUnderline,r=e.classes,n=(0,i.default)(e,["disableUnderline","classes"]);return s.default.createElement(l.default,(0,a.default)({classes:(0,a.default)({},r,{root:(0,u.default)(r.root,(0,o.default)({},r.underline,!t)),underline:null})},n))}t.styles=d,l.default.defaultProps={fullWidth:!1,inputComponent:"input",multiline:!1,type:"text"},f.muiName="Input";var p=(0,c.default)(d,{name:"MuiInput"})(f);t.default=p},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(509))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(9)),u=n(r(11)),l=n(r(12)),c=n(r(10)),d=n(r(13)),f=n(r(1)),p=(n(r(2)),n(r(19)),n(r(6))),h=(r(7),n(r(84))),m=n(r(144)),v=n(r(85)),y=n(r(5)),g=r(54),b=n(r(510)),_=r(143),w=function(e){var t="light"===e.palette.type,r={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},n={opacity:0},o={opacity:t?.42:.5};return{root:{fontFamily:e.typography.fontFamily,color:e.palette.text.primary,fontSize:e.typography.pxToRem(16),lineHeight:"1.1875em",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}},formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px")},fullWidth:{width:"100%"},input:{font:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1}},inputMarginDense:{paddingTop:3},inputMultiline:{resize:"none",padding:0},inputType:{height:"1.1875em"},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{}}};t.styles=w;var k=function(e){function t(e){var r;return(0,s.default)(this,t),(r=(0,u.default)(this,(0,l.default)(t).call(this,e))).state={focused:!1},r.handleFocus=function(e){var t=r.props.muiFormControl;(0,h.default)({props:r.props,muiFormControl:t,states:["disabled"]}).disabled?e.stopPropagation():(r.setState({focused:!0}),r.props.onFocus&&r.props.onFocus(e),t&&t.onFocus&&t.onFocus(e))},r.handleBlur=function(e){r.setState({focused:!1}),r.props.onBlur&&r.props.onBlur(e);var t=r.props.muiFormControl;t&&t.onBlur&&t.onBlur(e)},r.handleChange=function(){var e;(r.isControlled||r.checkDirty(r.inputRef),r.props.onChange)&&(e=r.props).onChange.apply(e,arguments)},r.handleRefInput=function(e){var t;r.inputRef=e,r.props.inputRef?t=r.props.inputRef:r.props.inputProps&&r.props.inputProps.ref&&(t=r.props.inputProps.ref),(0,g.setRef)(t,e)},r.handleClick=function(e){r.inputRef&&e.currentTarget===e.target&&r.inputRef.focus(),r.props.onClick&&r.props.onClick(e)},r.isControlled=null!=e.value,r.isControlled&&r.checkDirty(e),r}return(0,d.default)(t,e),(0,c.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.disabled&&t.focused?{focused:!1}:null}}]),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.isControlled||this.checkDirty(this.inputRef)}},{key:"componentDidUpdate",value:function(e){if(!e.disabled&&this.props.disabled){var t=this.props.muiFormControl;t&&t.onBlur&&t.onBlur()}this.isControlled&&this.checkDirty(this.props)}},{key:"checkDirty",value:function(e){var t=this.props.muiFormControl;if((0,_.isFilled)(e))return t&&t.onFilled&&t.onFilled(),void(this.props.onFilled&&this.props.onFilled());t&&t.onEmpty&&t.onEmpty(),this.props.onEmpty&&this.props.onEmpty()}},{key:"render",value:function(){var e,t,r=this.props,n=r.autoComplete,s=r.autoFocus,u=r.classes,l=r.className,c=r.defaultValue,d=(r.disabled,r.endAdornment),v=(r.error,r.fullWidth),y=r.id,g=r.inputComponent,_=r.inputProps,w=(_=void 0===_?{}:_).className,k=(0,i.default)(_,["className"]),E=(r.inputRef,r.margin,r.muiFormControl),P=r.multiline,S=r.name,x=(r.onBlur,r.onChange,r.onClick,r.onEmpty,r.onFilled,r.onFocus,r.onKeyDown),T=r.onKeyUp,C=r.placeholder,O=r.readOnly,R=r.renderPrefix,M=r.rows,D=r.rowsMax,j=r.startAdornment,I=r.type,A=r.value,N=(0,i.default)(r,["autoComplete","autoFocus","classes","className","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","muiFormControl","multiline","name","onBlur","onChange","onClick","onEmpty","onFilled","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderPrefix","rows","rowsMax","startAdornment","type","value"]),L=N["aria-describedby"];delete N["aria-describedby"];var F=(0,h.default)({props:this.props,muiFormControl:E,states:["disabled","error","margin","required","filled"]}),U=E?E.focused:this.state.focused,B=(0,p.default)(u.root,(e={},(0,a.default)(e,u.disabled,F.disabled),(0,a.default)(e,u.error,F.error),(0,a.default)(e,u.fullWidth,v),(0,a.default)(e,u.focused,U),(0,a.default)(e,u.formControl,E),(0,a.default)(e,u.marginDense,"dense"===F.margin),(0,a.default)(e,u.multiline,P),(0,a.default)(e,u.adornedStart,j),(0,a.default)(e,u.adornedEnd,d),e),l),V=(0,p.default)(u.input,(t={},(0,a.default)(t,u.disabled,F.disabled),(0,a.default)(t,u.inputType,"text"!==I),(0,a.default)(t,u.inputTypeSearch,"search"===I),(0,a.default)(t,u.inputMultiline,P),(0,a.default)(t,u.inputMarginDense,"dense"===F.margin),(0,a.default)(t,u.inputAdornedStart,j),(0,a.default)(t,u.inputAdornedEnd,d),t),w),W=g,z=(0,o.default)({},k,{ref:this.handleRefInput});return"string"!==typeof W?z=(0,o.default)({inputRef:this.handleRefInput,type:I},z,{ref:null}):P?M&&!D?W="textarea":(z=(0,o.default)({rowsMax:D,textareaRef:this.handleRefInput},z,{ref:null}),W=b.default):z=(0,o.default)({type:I},z),f.default.createElement("div",(0,o.default)({className:B,onClick:this.handleClick},N),R?R((0,o.default)({},F,{startAdornment:j,focused:U})):null,j,f.default.createElement(m.default.Provider,{value:null},f.default.createElement(W,(0,o.default)({"aria-invalid":F.error,"aria-describedby":L,autoComplete:n,autoFocus:s,className:V,defaultValue:c,disabled:F.disabled,id:y,name:S,onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:x,onKeyUp:T,placeholder:C,readOnly:O,required:F.required,rows:M,value:A},z))),d)}}]),t}(f.default.Component);k.defaultProps={fullWidth:!1,inputComponent:"input",multiline:!1,type:"text"};var E=(0,y.default)(w,{name:"MuiInputBase"})((0,v.default)(k));t.default=E},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(9)),s=n(r(10)),u=n(r(11)),l=n(r(12)),c=n(r(13)),d=n(r(1)),f=(n(r(2)),n(r(6))),p=n(r(147)),h=n(r(86)),m=n(r(5)),v=r(54),y=19,g={root:{position:"relative",width:"100%"},textarea:{width:"100%",height:"100%",resize:"none",font:"inherit",padding:0,cursor:"inherit",boxSizing:"border-box",lineHeight:"inherit",border:"none",outline:"none",background:"transparent"},shadow:{overflow:"hidden",visibility:"hidden",position:"absolute",height:"auto",whiteSpace:"pre-wrap"}};t.styles=g;var b=function(e){function t(e){var r;return(0,i.default)(this,t),(r=(0,u.default)(this,(0,l.default)(t).call(this))).handleRefInput=function(e){r.inputRef=e,(0,v.setRef)(r.props.textareaRef,e)},r.handleRefSinglelineShadow=function(e){r.singlelineShadowRef=e},r.handleRefShadow=function(e){r.shadowRef=e},r.handleChange=function(e){r.value=e.target.value,r.isControlled||(r.shadowRef.value=r.value,r.syncHeightWithShadow()),r.props.onChange&&r.props.onChange(e)},r.isControlled=null!=e.value,r.value=e.value||e.defaultValue||"",r.state={height:Number(e.rows)*y},"undefined"!==typeof window&&(r.handleResize=(0,p.default)(function(){r.syncHeightWithShadow()},166)),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.syncHeightWithShadow()}},{key:"componentDidUpdate",value:function(){this.syncHeightWithShadow()}},{key:"componentWillUnmount",value:function(){this.handleResize.clear()}},{key:"syncHeightWithShadow",value:function(){var e=this.props;if(this.shadowRef){this.isControlled&&(this.shadowRef.value=null==e.value?"":String(e.value));var t=this.singlelineShadowRef.scrollHeight;t=0===t?y:t;var r=this.shadowRef.scrollHeight;void 0!==r&&(Number(e.rowsMax)>=Number(e.rows)&&(r=Math.min(Number(e.rowsMax)*t,r)),r=Math.max(r,t),Math.abs(this.state.height-r)>1&&this.setState({height:r}))}}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.className,n=e.defaultValue,i=(e.onChange,e.rows),s=(e.rowsMax,e.style),u=(e.textareaRef,e.value),l=(0,a.default)(e,["classes","className","defaultValue","onChange","rows","rowsMax","style","textareaRef","value"]);return d.default.createElement("div",{className:t.root},d.default.createElement(h.default,{target:"window",onResize:this.handleResize}),d.default.createElement("textarea",{"aria-hidden":"true",className:(0,f.default)(t.textarea,t.shadow),readOnly:!0,ref:this.handleRefSinglelineShadow,rows:"1",tabIndex:-1,value:""}),d.default.createElement("textarea",{"aria-hidden":"true",className:(0,f.default)(t.textarea,t.shadow),defaultValue:n,readOnly:!0,ref:this.handleRefShadow,rows:i,tabIndex:-1,value:u}),d.default.createElement("textarea",(0,o.default)({rows:i,className:(0,f.default)(t.textarea,r),defaultValue:n,value:u,onChange:this.handleChange,ref:this.handleRefInput,style:(0,o.default)({height:this.state.height},s)},l)))}}]),t}(d.default.Component);b.defaultProps={rows:1};var _=(0,m.default)(g,{name:"MuiPrivateTextarea"})(b);t.default=_},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(1)),s=(n(r(2)),r(7),n(r(235))),u=n(r(5)),l=n(r(84)),c=n(r(85)),d=n(r(230)),f=n(r(234)),p=function(e){return{root:{position:"relative",width:"100%"},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",paddingRight:32,borderRadius:0,height:"1.1875em",width:"calc(100% - 32px)",minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper}},filled:{width:"calc(100% - 44px)"},outlined:{width:"calc(100% - 46px)",borderRadius:e.shape.borderRadius},selectMenu:{width:"auto",height:"auto",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",minHeight:"1.1875em"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",color:e.palette.action.active,"pointer-events":"none"}}};function h(e){var t=e.children,r=e.classes,n=e.IconComponent,u=e.input,c=e.inputProps,d=e.muiFormControl,f=(e.variant,(0,a.default)(e,["children","classes","IconComponent","input","inputProps","muiFormControl","variant"])),p=(0,l.default)({props:e,muiFormControl:d,states:["variant"]});return i.default.cloneElement(u,(0,o.default)({inputComponent:s.default,inputProps:(0,o.default)({children:t,classes:r,IconComponent:n,variant:p.variant,type:void 0},c,u?u.props.inputProps:{})},f))}t.styles=p,h.defaultProps={IconComponent:d.default,input:i.default.createElement(f.default,null)},h.muiName="Select";var m=(0,u.default)(p,{name:"MuiNativeSelect"})((0,c.default)(h));t.default=m},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(31)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{transform:"scale(1.2, 1.2)",fill:"none",d:"M0 0h20v20H0V0z"}),o.default.createElement("path",{transform:"scale(1.2, 1.2)",d:"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"})),"Settings");t.default=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(31)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),o.default.createElement("path",{d:"M19.02 10v9H5V5h9V3H5.02c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2zM17 10l.94-2.06L20 7l-2.06-.94L17 4l-.94 2.06L14 7l2.06.94zm-3.75.75L12 8l-1.25 2.75L8 12l2.75 1.25L12 16l1.25-2.75L16 12z"})),"PhotoFilter");t.default=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(31)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),o.default.createElement("path",{d:"M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 11.5V13H9v2.5L5.5 12 9 8.5V11h6V8.5l3.5 3.5-3.5 3.5z"})),"SwitchCamera");t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(51)),o=i(r(33)),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,n.default)(e,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){return e+"("+t+")"};function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e=parseFloat(e))<0||e>1||isNaN(e)?t:e}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._filters={brightness:null,grayscale:null,sepia:null,hueRotate:null,invert:null,opacity:null,contrast:null,blur:null,saturate:null},this.computed="",this._onstop=null}return a(e,[{key:"stop",value:function(){this._onstop&&this._onstop()}},{key:"_compute",value:function(){var e=this;this.updated=!1;var t=[];(0,o.default)(this._filters).forEach(function(r){null!==e._filters[r]&&("hueRotate"===r?t.push(s("hue-rotate",e._filters[r])):t.push(s(r,e._filters[r])))}),this.computed=t.join(" ")}},{key:"_setFilter",value:function(e,t){this._filters[e]=t,this._compute()}},{key:"brightness",set:function(e){this._setFilter("brightness",e)}},{key:"grayscale",set:function(e){this._setFilter("grayscale",u(e))}},{key:"sepia",set:function(e){this._setFilter("sepia",u(e))}},{key:"hueRotate",set:function(e){0==(e=parseFloat(e))||isNaN(e),this._setFilter("hueRotate",e+"deg")}},{key:"invert",set:function(e){this._setFilter("invert",function(e){return(e=parseInt(e))>0?1:0}(e))}},{key:"opacity",set:function(e){this._setFilter("opacity",u(e,1))}},{key:"contrast",set:function(e){this._setFilter("contrast",e)}},{key:"blur",set:function(e){0==(e=parseFloat(e))||isNaN(e)?this._setFilter("blur",null):this._setFilter("blur",e+"px")}},{key:"saturate",set:function(e){this._setFilter("saturate",e)}}]),e}();t.default=l,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(51),a=(n=o)&&n.__esModule?n:{default:n},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var s=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.filters=r,this.video=document.createElement("video"),this.video.srcObject=t,this.video.muted=!0,this.output=document.createElement("canvas"),this.outCtx=this.output.getContext("2d"),this.filters._onstop=this.destroy.bind(this)}return i(e,[{key:"apply",value:function(){return this.video.play(),this.video.onplay=this.render.bind(this),this.outStream=this.output.captureStream(),this.outStream}},{key:"render",value:function(){this.raf=window.requestAnimationFrame(this.render.bind(this)),this.video.videoWidth>0&&this.video.videoHeight>0&&(this.output.width=this.video.videoWidth,this.output.height=this.video.videoHeight),this.outCtx.filter=this.filters.computed,this.outCtx.drawImage(this.video,0,0)}},{key:"destroy",value:function(){window.cancelAnimationFrame(this.raf),this.outStream.getVideoTracks().forEach(function(e){return e.stop()}),this.video.srcObject=null}}]),e}();t.default=s,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={brightness:{min:0,max:5,step:.25,default:1,tip:"Brightness: 0 is black, 1 is normal, can make incremental steps like 1.25"},grayscale:{min:0,max:1,step:.05,default:0,tip:"Grayscale: ranges from 0 to 1, 1 is black and white 0 is normal"},sepia:{min:0,max:1,step:.05,default:0,tip:"Sepia: ranges from 0 to 1, 1 is full sepia 0 is not applied"},hueRotate:{min:-50,max:50,step:1,default:0,tip:"Hue Rotate: shift by deg, -50deg adds a purple tint, 50deg adds a greenish tint",hide:!0},invert:{min:0,max:1,step:.05,default:0,tip:"Invert: 0 or 1, 1 is inverted"},opacity:{min:0,max:1,step:.05,default:1,tip:"Opacity: ranges from 0 to 1, 0 is completly transparent",hide:!0},contrast:{min:0,max:5,step:.25,default:1,tip:"Contrast: 0 is completely gray, 1 is normal, +1 adds contrast"},blur:{min:0,max:5,step:.2,default:0,tip:"Blur: 0px is no blur, 5px is quite blurry"},saturate:{min:0,max:10,step:.25,default:1,tip:"Saturate: 0 is black and white, 1 is normal +1 adds saturation, 0-1 removes saturation"}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=g(o),i=g(r(2)),s=g(r(519)),u=r(236),l=g(r(97)),c=g(r(83)),d=g(r(225)),f=g(r(222)),p=g(r(223)),h=g(r(520)),m=g(r(224)),v=g(r(148)),y=g(r(5));function g(e){return e&&e.__esModule?e:{default:e}}var b=["invert","opacity"],_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.filters=new u.Filters,r.state={},r.attributes=u.SUPPORTED_FILTERS,r.debouncedChange=(0,s.default)(r.sendOnChange,750),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"sendOnChange",value:function(){this.props.onChange(this.state)}},{key:"onChange",value:function(e){var t=this;return function(r,n){t.setState(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,n)),t.debouncedChange()}}},{key:"getValue",value:function(e){return"undefined"!==typeof this.state[e]?this.state[e]:"undefined"===typeof this.props.filters[e]?this.attributes[e].default:this.props.filters[e]}},{key:"render",value:function(){var e=this,t=this.props,r=t.classes,n=t.translate;return a.default.createElement(o.Fragment,null,a.default.createElement(m.default,{id:"form-dialog-title"},this.props.translate("Filters")),a.default.createElement(p.default,{className:r.sliderContainer},a.default.createElement(h.default,null,this.props.translate("Turning video filters on will consume more resources and may impact performance")),Object.keys(this.filters._filters).map(function(t){return a.default.createElement(w,{disabled:e.props.disabled,onChange:e.onChange(t),name:n(t),key:t,attributes:e.attributes[t],value:e.getValue(t)})})),a.default.createElement(f.default,null,a.default.createElement(l.default,{color:"primary",variant:"outlined",onClick:function(){e.props.onToggle()}},this.props.disabled?n("enable"):n("disable")),a.default.createElement(l.default,{color:"primary",className:r.reset,onClick:function(){var t={};for(var r in e.attributes)t[r]=e.attributes[r].default;e.setState(t),e.props.onChange(t)}},n("reset")),a.default.createElement(l.default,{color:"primary",onClick:this.props.onClose},this.props.translate("close"))))}}]),t}();function w(e){var t,r=e.attributes;return-1!==b.indexOf(e.name)?null:a.default.createElement(d.default,{fullWidth:!0,margin:"normal"},a.default.createElement(c.default,null,(t=e.name).charAt(0).toUpperCase()+t.slice(1)),a.default.createElement(v.default,{disabled:e.disabled,onChange:e.onChange,min:r.min,max:r.max,step:r.step,value:e.value}))}_.propTypes={disabled:i.default.bool.isRequired,onChange:i.default.func.isRequired,onToggle:i.default.func.isRequired,filters:i.default.object.isRequired,translate:i.default.func.isRequired},t.default=(0,y.default)(function(e){return{reset:{float:"right"},sliderContainer:{overflow:"hidden"}}})(_)},function(e,t,r){(function(t){var r="Expected a function",n=NaN,o="[object Symbol]",a=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,f=c||d||Function("return this")(),p=Object.prototype.toString,h=Math.max,m=Math.min,v=function(){return f.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==o}(e))return n;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=s.test(e);return r||u.test(e)?l(e.slice(2),r?2:8):i.test(e)?n:+e}e.exports=function(e,t,n){var o,a,i,s,u,l,c=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var r=o,n=a;return o=a=void 0,c=t,s=e.apply(n,r)}function _(e){var r=e-l;return void 0===l||r>=t||r<0||f&&e-c>=i}function w(){var e=v();if(_(e))return k(e);u=setTimeout(w,function(e){var r=t-(e-l);return f?m(r,i-(e-c)):r}(e))}function k(e){return u=void 0,p&&o?b(e):(o=a=void 0,s)}function E(){var e=v(),r=_(e);if(o=arguments,a=this,l=e,r){if(void 0===u)return function(e){return c=e,u=setTimeout(w,t),d?b(e):s}(l);if(f)return u=setTimeout(w,t),b(l)}return void 0===u&&(u=setTimeout(w,t)),s}return t=g(t)||0,y(n)&&(d=!!n.leading,i=(f="maxWait"in n)?h(g(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),E.cancel=function(){void 0!==u&&clearTimeout(u),c=0,o=l=a=u=void 0},E.flush=function(){return void 0===u?s:k(v())},E}}).call(this,r(32))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(521))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(1)),i=(n(r(2)),n(r(5))),s=n(r(83)),u={root:{lineHeight:1.5}};t.styles=u;var l=(0,i.default)(u,{name:"MuiDialogContentText"})(function(e){return a.default.createElement(s.default,(0,o.default)({component:"p",internalDeprecatedVariant:!0,variant:"subheading",color:"textSecondary"},e))});t.default=l},function(e,t,r){"use strict";(function(e){var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.defaultValueReducer=E,t.default=t.styles=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(8)),s=n(r(9)),u=n(r(10)),l=n(r(11)),c=n(r(12)),d=n(r(13)),f=n(r(1)),p=n(r(26)),h=(n(r(2)),n(r(6))),m=n(r(5)),v=n(r(103)),y=r(81),g=(r(7),n(r(523))),b=function(e){var t={duration:e.transitions.duration.shortest,easing:e.transitions.easing.easeOut},r=e.transitions.create(["width","height","transform"],t),n=e.transitions.create(["transform","box-shadow"],t),o={primary:e.palette.primary.main,disabled:e.palette.grey[400],thumbOutline:(0,y.fade)(e.palette.primary.main,.16)};return{root:{position:"relative",width:"100%",cursor:"pointer",WebkitTapHighlightColor:"transparent","&$disabled":{cursor:"no-drop"},"&$vertical":{height:"100%"}},container:{position:"relative","&$vertical":{height:"100%"}},track:{position:"absolute",transform:"translate(0, -50%)",top:"50%",width:"100%",height:2,backgroundColor:o.primary,transition:r,"&$activated":{transition:"none"},"&$disabled":{backgroundColor:o.disabled,boxShadow:"none"},"&$vertical":{transform:"translate(-50%, 0)",left:"50%",top:"initial",bottom:0,width:2,height:"100%"}},trackBefore:{zIndex:1,left:0,transformOrigin:"left bottom"},trackAfter:{right:0,opacity:.24,transformOrigin:"right top","&$vertical":{top:0}},thumbWrapper:{position:"relative",zIndex:2,transition:n,"&$activated":{transition:"none"},"&$vertical":{bottom:0,height:"100%"}},thumb:{flip:!1,position:"absolute",left:0,transform:"translate(-50%, -50%)",width:12,height:12,borderRadius:"50%",backgroundColor:o.primary,transition:n,"&$focused, &:hover":{boxShadow:"0px 0px 0px ".concat(9,"px ").concat(o.thumbOutline)},"&$activated":{boxShadow:"0px 0px 0px ".concat(18,"px ").concat(o.thumbOutline)},"&$disabled":{cursor:"no-drop",width:9,height:9,backgroundColor:o.disabled},"&$jumped":{boxShadow:"0px 0px 0px ".concat(18,"px ").concat(o.thumbOutline)}},thumbIconWrapper:{backgroundColor:"transparent"},thumbIcon:{height:"inherit",width:"inherit"},disabled:{},jumped:{},focused:{},activated:{},vertical:{}}};function _(e,t,r){return(r-t)*e/100+t}function w(t,r,n,o,a){var i=t.getBoundingClientRect(),s=i.width,u=i.height,l=function(t){var r=e,n=r.pageYOffset,o=r.pageXOffset,a=t.getBoundingClientRect(),i=a.left;return{bottom:a.bottom+n,left:i+o}}(t),c=l.bottom,d=l.left,f=function(e,t){if(e.changedTouches){for(var r=0,n=0;n<e.changedTouches.length;n+=1)if(e.changedTouches[n].identifier===t){r=n;break}if(e.changedTouches[r])return{x:e.changedTouches[r].pageX,y:e.changedTouches[r].pageY}}return{x:e.pageX,y:e.pageY}}(r,a),p=f.x,h=f.y,m=n?c-h:p-d,v=(n?u:s)/100;return o&&!n?100-(0,g.default)(m/v):(0,g.default)(m/v)}function k(e){e.preventDefault()}function E(e,t){var r=t.disabled,n=t.step;return r?null:n?function(e,t){return Math.round(e/t)*t}(e,n):Number(e.toFixed(3))}t.styles=b;var P=function(e){function t(){var e,r;(0,s.default)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(o)))).state={currentState:"initial"},r.jumpAnimationTimeoutId=-1,r.touchId=void 0,r.handleKeyDown=function(e){var t,n=r.props,o=n.min,a=n.max,i=n.value,s=Math.abs((a-o)/100),u=r.props.step||s;switch(e.key){case"Home":t=o;break;case"End":t=a;break;case"PageUp":t=i+10*s;break;case"PageDown":t=i-10*s;break;case"ArrowRight":case"ArrowUp":t=i+u;break;case"ArrowLeft":case"ArrowDown":t=i-u;break;default:return}e.preventDefault(),t=(0,g.default)(t,o,a),r.emitChange(e,t)},r.handleFocus=function(){r.setState({currentState:"focused"})},r.handleBlur=function(){r.setState({currentState:"normal"})},r.handleClick=function(e){var t=r.props,n=t.min,o=t.max,a=t.vertical,i=_(w(r.containerRef,e,a,r.isReverted(),r.touchId),n,o);r.emitChange(e,i,function(){r.playJumpAnimation()})},r.handleMouseEnter=function(e){0===e.buttons&&r.handleDragEnd(e)},r.handleMouseLeave=function(e){r.handleMouseMove(e)},r.handleTouchStart=function(e){e.preventDefault();var t=e.changedTouches.item(0);null!=t&&(r.touchId=t.identifier),r.setState({currentState:"activated"}),document.body.addEventListener("touchend",r.handleTouchEnd),"function"===typeof r.props.onDragStart&&r.props.onDragStart(e)},r.handleMouseDown=function(e){e.preventDefault(),r.setState({currentState:"activated"}),document.body.addEventListener("mouseenter",r.handleMouseEnter),document.body.addEventListener("mouseleave",r.handleMouseLeave),document.body.addEventListener("mousemove",r.handleMouseMove),document.body.addEventListener("mouseup",r.handleMouseUp),"function"===typeof r.props.onDragStart&&r.props.onDragStart(e)},r.handleTouchEnd=function(e){void 0===r.touchId&&r.handleMouseUp(e);for(var t=0;t<e.changedTouches.length;t+=1){if(e.changedTouches.item(t).identifier===r.touchId){r.handleMouseUp(e);break}}},r.handleMouseUp=function(e){r.handleDragEnd(e)},r.handleTouchMove=function(e){void 0===r.touchId&&r.handleMouseMove(e);for(var t=0;t<e.changedTouches.length;t+=1){if(e.changedTouches.item(t).identifier===r.touchId){r.handleMouseMove(e);break}}},r.handleMouseMove=function(e){var t=r.props,n=t.min,o=t.max,a=t.vertical,i=_(w(r.containerRef,e,a,r.isReverted(),r.touchId),n,o);r.emitChange(e,i)},r}return(0,d.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.containerRef&&this.containerRef.addEventListener("touchstart",k,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.containerRef&&this.containerRef.removeEventListener("touchstart",k,{passive:!1}),document.body.removeEventListener("mouseenter",this.handleMouseEnter),document.body.removeEventListener("mouseleave",this.handleMouseLeave),document.body.removeEventListener("mousemove",this.handleMouseMove),document.body.removeEventListener("mouseup",this.handleMouseUp),clearTimeout(this.jumpAnimationTimeoutId)}},{key:"handleDragEnd",value:function(e){this.setState({currentState:"normal"}),document.body.removeEventListener("mouseenter",this.handleMouseEnter),document.body.removeEventListener("mouseleave",this.handleMouseLeave),document.body.removeEventListener("mousemove",this.handleMouseMove),document.body.removeEventListener("mouseup",this.handleMouseUp),document.body.removeEventListener("touchend",this.handleTouchEnd),"function"===typeof this.props.onDragEnd&&this.props.onDragEnd(e)}},{key:"emitChange",value:function(e,t,r){var n=this.props,o=n.onChange,a=n.value,i=(0,n.valueReducer)(t,this.props,e);null!==i&&i!==a&&"function"===typeof o&&(o(e,i),"function"===typeof r&&r())}},{key:"calculateTrackPartStyles",value:function(e){var t=this.props,r=t.theme,n=t.vertical;switch(this.state.currentState){case"disabled":return(0,i.default)({},n?"height":"width","calc(".concat(e,"% - 6px)"));default:return{transform:"".concat(n?"translateX(".concat("rtl"===r.direction?"":"-","50%) scaleY"):"translateY(-50%) scaleX","(").concat(e/100,")")}}}},{key:"playJumpAnimation",value:function(){var e=this;this.setState({currentState:"jumped"},function(){clearTimeout(e.jumpAnimationTimeoutId),e.jumpAnimationTimeoutId=setTimeout(function(){e.setState({currentState:"normal"})},e.props.theme.transitions.duration.complex)})}},{key:"isReverted",value:function(){return"rtl"===this.props.theme.direction}},{key:"render",value:function(){var e,t,r=this,n=this.state.currentState,s=this.props,u=s.className,l=s.classes,c=s.component,d=s.thumb,m=s.disabled,y=s.max,b=s.min,_=(s.onChange,s.onDragEnd,s.onDragStart,s.step,s.theme),w=s.value,k=(s.valueReducer,s.vertical),E=(0,a.default)(s,["className","classes","component","thumb","disabled","max","min","onChange","onDragEnd","onDragStart","step","theme","value","valueReducer","vertical"]),P=(0,g.default)(100*(w-b)/(y-b)),S=(e={},(0,i.default)(e,l.disabled,m),(0,i.default)(e,l.jumped,!m&&"jumped"===n),(0,i.default)(e,l.focused,!m&&"focused"===n),(0,i.default)(e,l.activated,!m&&"activated"===n),(0,i.default)(e,l.vertical,k),(0,i.default)(e,l.rtl,"rtl"===_.direction),e),x=(0,h.default)(l.root,(t={},(0,i.default)(t,l.vertical,k),(0,i.default)(t,l.disabled,m),t),u),T=(0,h.default)(l.container,(0,i.default)({},l.vertical,k)),C=(0,h.default)(l.track,l.trackBefore,S),O=(0,h.default)(l.track,l.trackAfter,S),R=k?"translateY":"translateX",M=k||"rtl"===_.direction,D=this.calculateTrackPartStyles(P),j=this.calculateTrackPartStyles(100-P),I={transform:"".concat(R,"(").concat(M?100-P:P,"%)")},A=d?f.default.cloneElement(d,(0,o.default)({},d.props,{className:(0,h.default)(d.props.className,l.thumbIcon)})):null,N=(0,h.default)(l.thumbWrapper,S),L=(0,h.default)(l.thumb,(0,i.default)({},l.thumbIconWrapper,d),S);return f.default.createElement(c,(0,o.default)({role:"slider",className:x,"aria-disabled":m,"aria-valuenow":w,"aria-valuemin":b,"aria-valuemax":y,"aria-orientation":k?"vertical":"horizontal",onClick:this.handleClick,onMouseDown:this.handleMouseDown,onTouchStartCapture:this.handleTouchStart,onTouchMove:this.handleTouchMove,ref:function(e){r.containerRef=p.default.findDOMNode(e)}},E),f.default.createElement("div",{className:T},f.default.createElement("div",{className:C,style:D}),f.default.createElement("div",{className:N,style:I},f.default.createElement(v.default,{className:L,disabled:m,disableRipple:!0,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onTouchStartCapture:this.handleTouchStart,onTouchMove:this.handleTouchMove,onFocusVisible:this.handleFocus},A)),f.default.createElement("div",{className:O,style:j})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.disabled?{currentState:"disabled"}:e.disabled||"disabled"!==t.currentState?null:{currentState:"normal"}}}]),t}(f.default.Component);P.defaultProps={min:0,max:100,component:"div",valueReducer:E};var S=(0,m.default)(b,{name:"MuiSlider",withTheme:!0})(P);t.default=S}).call(this,r(32))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.min(Math.max(e,t),r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(1),i=u(a),s=u(r(2));function u(e){return e&&e.__esModule?e:{default:e}}var l={width:"100%",height:"100%",display:"block"},c=o({transform:"scaleX(-1)"},l),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),n(t,[{key:"componentWillReceiveProps",value:function(e){this.video&&(e.stream?this.props.stream&&e.stream.id===this.props.stream.id||(this.video.srcObject=null,this.video.srcObject=e.stream):this.video.srcObject=null)}},{key:"isUserFacing",value:function(){if(this.props.stream){var e=this.props.stream.getVideoTracks();if(e.length){if(e[0].originalFacingMode)return"user"===e[0].originalFacingMode;var t=e[0].getConstraints(),r=e[0].getSettings();return t&&"user"===t.facingMode||r&&"user"===r.facingMode}}}},{key:"render",value:function(){var e=this;if(!this.props.preview)return null;var t=this.props.mirror&&this.isUserFacing();return i.default.createElement("video",{style:t?c:l,muted:!this.props.testAudio,ref:function(t){e.video||(t.setAttribute("autoplay",!0),t.setAttribute("playsinline",!0),t.setAttribute("webkit-playsinline",!0),e.video=t,e.props.onLoad&&e.props.onLoad(e.video))}})}}]),t}();d.propTypes={preview:s.default.bool.isRequired,stream:s.default.object,testAudio:s.default.bool.isRequired,onLoad:s.default.func},d.defaultProps={preview:!0,testAudio:!1},t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=f(o),i=f(r(97)),s=f(r(526)),u=f(r(238)),l=f(r(5)),c=f(r(2)),d=f(r(528));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),n(t,[{key:"render",value:function(){return a.default.createElement("div",{className:this.props.classes.volumeContainer},this.props.testing?a.default.createElement(o.Fragment,null,a.default.createElement(i.default,{className:this.props.classes.button,onClick:this.props.onClick,variant:"outlined"},a.default.createElement(s.default,{size:18,thickness:4,className:this.props.classes.progress}),this.props.translate("stop")),this.props.volumes&&a.default.createElement("div",{className:this.props.classes.volumeMeter},a.default.createElement(d.default,{volumes:this.props.volumes}))):a.default.createElement(i.default,{onClick:this.props.onClick,variant:"outlined",className:this.props.classes.button},a.default.createElement(u.default,{className:this.props.classes.icon}),this.props.translate("test_audio")))}}]),t}();p.propTypes={classes:c.default.object.isRequired,onClick:c.default.func.isRequired,testing:c.default.bool.isRequired,volumes:c.default.array},t.default=(0,l.default)(function(e){return{volumeContainer:{paddingBottom:e.spacing.unit,paddingTop:2*e.spacing.unit},volumeMeter:{display:"inline-block",verticalAlign:"bottom",marginLeft:e.spacing.unit},progress:{marginRight:1.5*e.spacing.unit,marginLeft:e.spacing.unit/2},icon:{marginRight:e.spacing.unit},button:{paddingLeft:e.spacing.unit}}})(p)},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(527))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=(r(7),n(r(5))),c=r(38),d=44;function f(e){var t,r,n;return t=e,r=0,n=1,e=(Math.min(Math.max(r,t),n)-r)/(n-r),e=(e-=1)*e*e+1}var p=function(e){return{root:{display:"inline-block",lineHeight:1},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"mui-progress-circular-rotate 1.4s linear infinite",animationName:"$mui-progress-circular-rotate"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"mui-progress-circular-dash 1.4s ease-in-out infinite",animationName:"$mui-progress-circular-dash",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes mui-progress-circular-rotate":{"100%":{transform:"rotate(360deg)"}},"@keyframes mui-progress-circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}};function h(e){var t,r,n,l=e.classes,p=e.className,h=e.color,m=e.disableShrink,v=e.size,y=e.style,g=e.thickness,b=e.value,_=e.variant,w=(0,i.default)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),k={},E={},P={};if("determinate"===_||"static"===_){var S=2*Math.PI*((d-g)/2);k.strokeDasharray=S.toFixed(3),P["aria-valuenow"]=Math.round(b),"static"===_?(k.strokeDashoffset="".concat(((100-b)/100*S).toFixed(3),"px"),E.transform="rotate(-90deg)"):(k.strokeDashoffset="".concat((n=(100-b)/100,n*n*S).toFixed(3),"px"),E.transform="rotate(".concat((270*f(b/70)).toFixed(3),"deg)"))}return s.default.createElement("div",(0,o.default)({className:(0,u.default)(l.root,(t={},(0,a.default)(t,l["color".concat((0,c.capitalize)(h))],"inherit"!==h),(0,a.default)(t,l.indeterminate,"indeterminate"===_),(0,a.default)(t,l.static,"static"===_),t),p),style:(0,o.default)({width:v,height:v},E,y),role:"progressbar"},P,w),s.default.createElement("svg",{className:l.svg,viewBox:"".concat(d/2," ").concat(d/2," ").concat(d," ").concat(d)},s.default.createElement("circle",{className:(0,u.default)(l.circle,(r={},(0,a.default)(r,l.circleIndeterminate,"indeterminate"===_),(0,a.default)(r,l.circleStatic,"static"===_),(0,a.default)(r,l.circleDisableShrink,m),r)),style:k,cx:d,cy:d,r:(d-g)/2,fill:"none",strokeWidth:g})))}t.styles=p,h.defaultProps={color:"primary",disableShrink:!1,size:40,thickness:3.6,value:0,variant:"indeterminate"};var m=(0,l.default)(p,{name:"MuiCircularProgress",flip:!1})(h);t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=c(o),i=c(r(2)),s=c(r(149)),u=c(r(102)),l=c(r(150));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return d(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,o.Component),n(t,[{key:"componentWillReceiveProps",value:function(e){this.context&&(this.context.clearRect(0,0,3,34),this.context.fillStyle=this.color,this.context.fillRect(0,34-34*this.props.volume,3,34))}},{key:"render",value:function(){var e=this;return a.default.createElement("canvas",{width:3,height:34,ref:function(t){t&&(e.canvas=t,e.context=e.canvas.getContext("2d"))}})}},{key:"color",get:function(){return this.props.volume<.65?s.default[900]:this.props.volume<.85?l.default[900]:u.default[900]}},{key:"volume",get:function(){return this.props.volume||0}}]),t}();h.propTypes={volume:i.default.number};var m=function(e){function t(){return d(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,o.PureComponent),n(t,[{key:"render",value:function(){return a.default.createElement("div",{style:{height:34}},a.default.createElement(h,{volume:this.props.volumes[0]||0}),a.default.createElement(h,{volume:this.props.volumes[1]||0}),a.default.createElement(h,{volume:this.props.volumes[2]||0}),a.default.createElement(h,{volume:this.props.volumes[3]||0}),a.default.createElement(h,{volume:this.props.volumes[4]||0}))}}]),t}();m.propTypes={volumes:i.default.array.isRequired},t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),a=m(o),i=m(r(2)),s=r(39),u=m(r(56)),l=m(r(148)),c=m(r(239)),d=m(r(238)),f=m(r(149)),p=m(r(102)),h=m(r(150));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidUpdate",value:function(e){this.lastVolume=e.volume}},{key:"onChange",value:function(e,t){var r=t/100;r<.05?this.props.onChange(0):this.props.onChange(r)}},{key:"render",value:function(){var e=this,t=this.props.classes,r=this.props.volume?d.default:c.default,n={};return"none"!==this.color&&(n={color:this.color}),a.default.createElement("div",{className:t.root},a.default.createElement(u.default,{style:n,onClick:function(){e.props.volume?e.props.onChange(0):e.props.onChange(e.lastVolume||1)},className:t.iconButton},a.default.createElement(r,{fontSize:"large"})),a.default.createElement("div",{className:t.sliderContainer},a.default.createElement(l.default,{classes:{root:t.slider,thumb:t.thumb,track:t.track},value:100*this.props.volume,onChange:this.onChange.bind(this)})))}},{key:"lastVolumeAnalysis",get:function(){return this.props.volumes[0]||0}},{key:"color",get:function(){return this.lastVolumeAnalysis>.5?p.default[900]:this.lastVolumeAnalysis>.4?h.default[900]:this.lastVolumeAnalysis>.01?f.default[600]:"none"}}]),t}();v.propTypes={classes:i.default.object.isRequired,translate:i.default.func.isRequired,onChange:i.default.func.isRequired,volume:i.default.number.isRequired,volumes:i.default.array.isRequired},t.default=(0,s.withStyles)(function(e){return{iconButton:{zIndex:1299,float:"left",color:"#FFF"},slider:{float:"left",width:100,paddingTop:30},sliderContainer:{float:"left",marginLeft:16,width:128},thumb:{backgroundColor:"#fff"},track:{backgroundColor:"#fff"}}})(v)},function(e,t,r){"use strict";var n=r(237),o=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MuiThemeProviderOld=void 0;var a=o(r(3)),i=o(r(8)),s=o(r(9)),u=o(r(10)),l=o(r(11)),c=o(r(12)),d=o(r(13)),f=o(r(1)),p=o(r(2)),h=(o(r(19)),o(r(531))),m=r(7),v=n(r(140)),y=function(e){function t(e,r){var n;return(0,s.default)(this,t),(n=(0,l.default)(this,(0,c.default)(t).call(this))).broadcast=(0,h.default)(),n.outerTheme=v.default.initial(r),n.broadcast.setState(n.mergeOuterLocalTheme(e.theme)),n}return(0,d.default)(t,e),(0,u.default)(t,[{key:"getChildContext",value:function(){var e,t=this.props,r=t.disableStylesGeneration,n=t.sheetsCache,o=t.sheetsManager,a=this.context.muiThemeProviderOptions||{};return void 0!==r&&(a.disableStylesGeneration=r),void 0!==n&&(a.sheetsCache=n),void 0!==o&&(a.sheetsManager=o),e={},(0,i.default)(e,v.CHANNEL,this.broadcast),(0,i.default)(e,"muiThemeProviderOptions",a),e}},{key:"componentDidMount",value:function(){var e=this;this.unsubscribeId=v.default.subscribe(this.context,function(t){e.outerTheme=t,e.broadcast.setState(e.mergeOuterLocalTheme(e.props.theme))})}},{key:"componentDidUpdate",value:function(e){this.props.theme!==e.theme&&this.broadcast.setState(this.mergeOuterLocalTheme(this.props.theme))}},{key:"componentWillUnmount",value:function(){null!==this.unsubscribeId&&v.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"mergeOuterLocalTheme",value:function(e){return"function"===typeof e?e(this.outerTheme):this.outerTheme?(0,a.default)({},this.outerTheme,e):e}},{key:"render",value:function(){return this.props.children}}]),t}(f.default.Component);t.MuiThemeProviderOld=y,y.childContextTypes=(0,a.default)({},v.default.contextTypes,{muiThemeProviderOptions:p.default.object}),y.contextTypes=(0,a.default)({},v.default.contextTypes,{muiThemeProviderOptions:p.default.object}),m.ponyfillGlobal.__MUI_STYLES__||(m.ponyfillGlobal.__MUI_STYLES__={}),m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider||(m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider=y);var g=m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider;t.default=g},function(e,t,r){"use strict";r.r(t),t.default=function(e){var t={},r=1,n=e;return{getState:function(){return n},setState:function(e){n=e;for(var r=Object.keys(t),o=0,a=r.length;o<a;o++)t[r[o]]&&t[r[o]](e)},subscribe:function(e){if("function"!==typeof e)throw new Error("listener must be a function.");var n=r;return t[n]=e,r+=1,n},unsubscribe:function(e){t[e]=void 0}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errLog=void 0;var n=a(r(70)),o=a(r(534));function a(e){return e&&e.__esModule?e:{default:e}}t.errLog=function(e){return{errName:e&&e.name,errMessage:e&&e.message,errStack:e&&e.stack}};t.default=new n.default({registerPackage:{name:o.default}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="@livelyvideo/react-web-encoder-controls@1.10.3"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Call=void 0;var n=l(r(33)),o=l(r(17)),a=l(r(18)),i=u(r(240)),s=u(r(151));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}t.Call=function(){function e(){(0,o.default)(this,e),this.onDone=null,this.onPeerChange=null,this.onPermissions=null,this.onMicChange=null,this.onWebcamChange=null,this.onRejected=null,this.onRoomFull=null,this.onProducing=null,this._eventDone=i.setDone().type,this._eventPermissions=i.setPermissions().type,this._eventPeerChange=i.peerChange().type,this._eventMicChange=s.setMic().type,this._eventWebcamChange=s.setWebcam().type,this._eventCallRejected=i.callRejected().type,this._eventRoomFull=i.roomFull().type,this._eventAddProducer=i.addProducer().type,this._eventRemoveProducer=i.removeProducer().type,this._eventCallForbidden=i.callForbidden().type,this.producing=!1,this._producingMap={}}return(0,a.default)(e,[{key:"destroy",value:function(){this.onDone=null,this.onPeerChange=null,this.onPermissions=null,this.onMicChange=null,this.onWebcamChange=null,this.onRejected=null,this.onRoomFull=null,this.onCallForbidden=null,this.onProducing=null}},{key:"_checkProducing",value:function(e){this.producing=0!==(0,n.default)(this._producingMap).length,this.onProducing&&this.onProducing({producing:this.producing,remote:e})}},{key:"_on",value:function(e){switch(e.type){case this._eventPeerChange:this.onPeerChange&&this.onPeerChange(e.payload);break;case this._eventDone:this.onDone&&this.onDone(e.payload);break;case this._eventPermissions:this.onPermissions&&this.onPermissions(e.payload);break;case this._eventMicChange:this.onMicChange&&this.onMicChange(e.payload);break;case this._eventWebcamChange:this.onWebcamChange&&this.onWebcamChange(e.payload);break;case this._eventCallRejected:this.onRejected&&this.onRejected(e.payload);break;case this._eventRoomFull:this.onRoomFull&&this.onRoomFull(e.payload);break;case this._eventCallForbidden:this.onCallForbidden&&this.onCallForbidden();break;case this._eventAddProducer:this._producingMap[e.payload.producer.id]=!0,this._checkProducing("remote"===e.payload.originator);break;case this._eventRemoveProducer:delete this._producingMap[e.payload.producerId],this._checkProducing("remote"===e.payload.originator)}}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStore=void 0;var n=r(47),o=i(r(537)),a=i(r(538));function i(e){return e&&e.__esModule?e:{default:e}}var s={},u=[o.default],l=n.compose.apply(void 0,[n.applyMiddleware.apply(void 0,u)].concat([]));t.createStore=function(){return(0,n.createStore)((0,n.combineReducers)({call:a.default}),s,l)}},function(e,t,r){"use strict";function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"===typeof o?o(r,n,e):t(o)}}}}r.r(t);var o=n();o.withExtraArgument=n,t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(47),o=f(r(539)),a=f(r(152)),i=f(r(540)),s=f(r(241)),u=f(r(542)),l=f(r(543)),c=f(r(244)),d=f(r(153));function f(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.combineReducers)({room:o.default,producerStreams:i.default,peers:a.default,controls:s.default,status:u.default,calls:c.default,call:d.default,stats:l.default})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(14),a=(n=o)&&n.__esModule?n:{default:n};var i={activeSpeakerName:null,done:!1,call:null,scope:null,peerId:null,appData:null,options:null,error:null,receivingState:"new",sendingState:"new",viewers:[],connected:!1,permissions:[],full:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case"CALL_SET_ROOM_DONE":return i;case"CALL_ROOM_DATA":return(0,a.default)({},e,{scope:t.payload.scope,peerId:t.payload.peerId});case"REMOTE_START":return(0,a.default)({},e,{call:t.payload.call});case"REMOTE_ERROR":return(0,a.default)({},e,{error:t.payload.error});case"REMOTE_DONE":return(0,a.default)({},e,{done:!0});case"CALL_SET_ROOM_APP_DATA":var r=t.payload.appData;return(0,a.default)({},e,{appData:r});case"CALL_SET_RECEIVING_ICE_STATE":var n=t.payload.state;return(0,a.default)({},e,{receivingState:n});case"CALL_SET_SENDING_ICE_STATE":var o=t.payload.state;return(0,a.default)({},e,{sendingState:o});case"CALL_VIEWERS":return e.peerId?(0,a.default)({},e,{viewers:t.payload.viewers.filter(function(t){return t.peerId!==e.peerId&&"viewer"===t.scope})}):[];case"CALL_CONNECTED":return(0,a.default)({},e,{connected:t.payload.connected});case"CALL_PERMISSIONS":return(0,a.default)({},e,{permissions:t.payload.permissions});case"CALL_ROOM_FULL":return(0,a.default)({},e,{full:t.payload.full});case"CALL_SET_ROOM_ACTIVE_SPEAKER":var s=t.payload.peerID;return(0,a.default)({},e,{activeSpeakerName:s});case"CALL_OPTIONS":return(0,a.default)({},e,{options:t.payload.options});default:return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialStreamState=void 0;var n=a(r(53)),o=a(r(14));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.initialStreamState=function(){return{producers:{video:null,audio:null}}},s={};function u(e,t,r){var a=t.payload,i=a.streamName,s=a.producerId,u=a.originator,l=e[i];if(!l)return e;var c=l.producers,d=void 0;if(c&&c.video&&c.video.id===s)d=c.video;else{if(!c||!c.audio||c.audio.id!==s)return e;d=c.audio}var f=void 0;(f="local"===u?(0,o.default)({},d,{locallyPaused:r}):(0,o.default)({},d,{remotelyPaused:r})).paused=r;var p=(0,o.default)({},e);return p[i]=(0,o.default)({},p[i],{producers:(0,o.default)({},p[i].producers,(0,n.default)({},f.kind,f))}),p}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case"CALL_SET_ROOM_DONE":return s;case"CALL_ADD_PRODUCER":var r=t.payload,a=r.streamName,l=r.producer,c=(0,o.default)({},e);return e[a]||(c[a]=i()),c[a]=(0,o.default)({},c[a],{producers:(0,o.default)({},c[a].producers,(0,n.default)({},l.kind,(0,o.default)({},l,{paused:l.locallyPaused||l.remotelyPaused})))}),c;case"CALL_UPDATE_PRODUCER":var d=t.payload,f=d.streamName,p=d.producerId,h=d.codec,m=d.preview,v=d.sendPreview,y=e[f];if(!y)return e;var g=y.producers,b=(0,o.default)({},e);if(g&&g.video&&g.video.id===p)g.video=(0,o.default)({},g.video,{codec:h,preview:m,sendPreview:v});else{if(!g||!g.audio||g.audio.id!==p)return e;g.audio=(0,o.default)({},g.audio,{codec:h,preview:m,sendPreview:v})}return b;case"CALL_REMOVE_PRODUCER":var _=t.payload,w=_.streamName,k=_.producerId,E=e[w];if(!E)return e;var P=E.producers,S=(0,o.default)({},e);if(P&&P.video&&P.video.id===k)S[w].producers.audio?S[w]={producers:{audio:S[w].producers.audio,video:null}}:delete S[w];else{if(!P||!P.audio||P.audio.id!==k)return e;S[w].producers.video?S[w]={producers:{video:S[w].producers.video,audio:null}}:delete S[w]}return S;case"CALL_SET_PRODUCER_PAUSED":return u(e,t,!0);case"CALL_SET_PRODUCER_RESUMED":return u(e,t,!1);case"CALL_SET_PRODUCER_TRACK":var x=t.payload,T=x.streamName,C=x.streamType,O=x.producerId,R=x.track,M=e[T];if(!M)return e;var D=M.producers,j=void 0;if(D&&D.video&&D.video.id===O)j=(0,o.default)({},D.video,{track:R,streamType:C});else{if(!D||!D.audio||D.audio.id!==O)return e;j=(0,o.default)({},D.audio,{track:R,streamType:C})}j.paused=j.locallyPaused||j.remotelyPaused;var I=(0,o.default)({},e);return I[T]=(0,o.default)({},I[T],{producers:(0,o.default)({},I[T].producers,(0,n.default)({},j.kind,j))}),I;default:return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="@livelyvideo/pvc@3.11.2"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATUSES=void 0;var n=i(r(33)),o=i(r(53)),a=i(r(14));function i(e){return e&&e.__esModule?e:{default:e}}var s={CONNECTED:1,WEBRTC_SEND_CONNECTED:2,HAS_PEER:3,WEBRTC_RECV_CONNECTED:4,PEER_PRODUCING:5},u=function(e){var t,r,n,i;switch(e.scope){case"caller":case"receiver":return t={},(0,o.default)(t,s.CONNECTED,(0,a.default)({code:s.CONNECTED,message:"Call connected",done:!1},e.initialMessages[s.CONNECTED])),(0,o.default)(t,s.WEBRTC_SEND_CONNECTED,(0,a.default)({code:s.WEBRTC_SEND_CONNECTED,message:"Call outbound data stream connected",done:!1},e.initialMessages[s.WEBRTC_SEND_CONNECTED])),(0,o.default)(t,s.HAS_PEER,(0,a.default)({code:s.HAS_PEER,message:"Call connected to peer",done:!1},e.initialMessages[s.HAS_PEER])),(0,o.default)(t,s.WEBRTC_RECV_CONNECTED,(0,a.default)({code:s.WEBRTC_RECV_CONNECTED,message:"Call inbound data stream connected",done:!1},e.initialMessages[s.WEBRTC_RECV_CONNECTED])),(0,o.default)(t,s.PEER_PRODUCING,(0,a.default)({code:s.PEER_PRODUCING,message:"Peer is sending data",done:!1},e.initialMessages[s.PEER_PRODUCING])),t;case"broadcaster":return r={},(0,o.default)(r,s.CONNECTED,(0,a.default)({code:s.CONNECTED,message:"Call connected",done:!1},e.initialMessages[s.CONNECTED])),(0,o.default)(r,s.WEBRTC_SEND_CONNECTED,(0,a.default)({code:s.WEBRTC_SEND_CONNECTED,message:"Call outbound data stream connected",done:!1},e.initialMessages[s.WEBRTC_SEND_CONNECTED])),r;case"viewer":return n={},(0,o.default)(n,s.CONNECTED,(0,a.default)({code:s.CONNECTED,message:"Call connected",done:!1},e.initialMessages[s.CONNECTED])),(0,o.default)(n,s.HAS_PEER,(0,a.default)({code:s.HAS_PEER,message:"Call connected to peer",done:!1},e.initialMessages[s.HAS_PEER])),(0,o.default)(n,s.WEBRTC_RECV_CONNECTED,(0,a.default)({code:s.WEBRTC_RECV_CONNECTED,message:"Call inbound data stream connected",done:!1},e.initialMessages[s.WEBRTC_RECV_CONNECTED])),n;case"admin":return i={},(0,o.default)(i,s.CONNECTED,(0,a.default)({code:s.CONNECTED,message:"Call connected",done:!1},e.initialMessages[s.CONNECTED])),(0,o.default)(i,s.HAS_PEER,(0,a.default)({code:s.HAS_PEER,message:"Call connected to peer",done:!1},e.initialMessages[s.HAS_PEER])),(0,o.default)(i,s.WEBRTC_RECV_CONNECTED,(0,a.default)({code:s.WEBRTC_RECV_CONNECTED,message:"Call inbound data stream connected",done:!1},e.initialMessages[s.WEBRTC_RECV_CONNECTED])),i;default:return(0,o.default)({},s.CONNECTED,(0,a.default)({code:s.CONNECTED,message:"Call connected",done:!1},e.initialMessages[s.CONNECTED]))}},l=function(e){return!(0,n.default)(e.initialMessages).find(function(t){return!e.initialMessages[t].done})},c=function(e){return!e.initialized||!!e.messages.find(function(e){return"error"===e.level})},d={scope:null,connected:!1,initialized:!1,block:!0,initialMessages:(0,o.default)({},s.CONNECTED,{code:s.CONNECTED,message:"Call connected",done:!1}),messages:[],ignore:{}};t.STATUSES=s,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case"CALL_SET_ROOM_DONE":return d;case"CALL_INITIALIZED":var r=(0,a.default)({},e,{scope:t.payload._callActions.call.user.scope});return r.initialMessages=u(r),r;case"IGNORE_MESSAGE_CODE":return(0,a.default)({},e,{ignore:(0,a.default)({},e.ignore,(0,o.default)({},t.payload.code,!0))});case"CALL_EMIT_MESSAGES":var n=(0,a.default)({},e,{messages:t.payload.messages});return n.block=c(n),n;case"CALL_SET_CONNECTED":if(!t.payload.connected)return e.scope?u(e):d;var i=(0,a.default)({},e,{connected:!0,initialMessages:(0,a.default)({},e.initialMessages)});return i.initialMessages[s.CONNECTED]&&(i.initialMessages[s.CONNECTED]=(0,a.default)({},e.initialMessages[s.CONNECTED],{done:t.payload.connected})),i.initialized=l(i),i.block=c(i),i;case"CALL_SET_SENDING_ICE_STATE":if("connected"!==t.payload.state)return e;var f=(0,a.default)({},e,{initialMessages:(0,a.default)({},e.initialMessages)});return f.initialMessages[s.WEBRTC_SEND_CONNECTED]&&(f.initialMessages[s.WEBRTC_SEND_CONNECTED]=(0,a.default)({},e.initialMessages[s.WEBRTC_SEND_CONNECTED],{done:!0})),f.initialized=l(f),f.block=c(f),f;case"CALL_SET_RECEIVING_ICE_STATE":if("connected"!==t.payload.state)return e;var p=(0,a.default)({},e,{initialMessages:(0,a.default)({},e.initialMessages)});return p.initialMessages[s.WEBRTC_RECV_CONNECTED]&&(p.initialMessages[s.WEBRTC_RECV_CONNECTED]=(0,a.default)({},e.initialMessages[s.WEBRTC_RECV_CONNECTED],{done:!0})),p.initialized=l(p),p.block=c(p),p;case"CALL_ADD_PEER":var h=(0,a.default)({},e,{initialMessages:(0,a.default)({},e.initialMessages)});return h.initialMessages[s.HAS_PEER]&&(h.initialMessages[s.HAS_PEER]=(0,a.default)({},e.initialMessages[s.HAS_PEER],{done:!0})),h.initialized=l(h),h.block=c(h),h;case"CALL_ADD_CONSUMER":var m=(0,a.default)({},e,{initialMessages:(0,a.default)({},e.initialMessages)});return m.initialMessages[s.PEER_PRODUCING]&&(m.initialMessages[s.PEER_PRODUCING]=(0,a.default)({},e.initialMessages[s.PEER_PRODUCING],{done:!0})),m.initialized=l(m),m.block=c(m),m;default:return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(33)),o=a(r(14));function a(e){return e&&e.__esModule?e:{default:e}}var i={peers:{},producers:{streams:{}}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case"CALL_SET_ROOM_DONE":return i;case"CALL_REMOVE_PEER":return function(e,t){var r=t.peerId,n=(0,o.default)({},e);return delete n.peers[r],n}(e,t.payload);case"CALL_ADD_CONSUMER":return function(e,t){var r=t.peerId,n=t.streamName,a=(0,o.default)({},e),i=a.peers[r];return i||(i={streams:{}}),i.streams[n]={},a.peers[r]=i,a}(e,t.payload);case"CALL_REMOVE_CONSUMER":return function(e,t){var r=t.peerId,a=t.streamName,i=t.consumerId,s=e.peers[r];if(!s)return e;var u=s[a];if(!u)return e;var l="";if((0,n.default)(u).forEach(function(e){u[e].consumerId===i&&(l=e)}),!l)return e;var c=(0,o.default)({},e);return delete c.peers[r].streams[a][l],c}(e,t.payload);case"CALL_SET_CONSUMER_STATS":return function(e,t){var r=t.peerId,n=t.streamName,a=t.stats,i=(0,o.default)({},e),s=e.peers[r];return s||((s={streams:{}}).streams[n]={}),s.streams[n][a.mediaType]=a,i.peers[r]=s,i}(e,t.payload);case"CALL_SET_PRODUCER_PAUSED":case"CALL_REMOVE_PRODUCER":return function(e,t){var r=t.streamName,a=t.producerId,i=e.producers.streams[r];if(!i)return e;var s="";if((0,n.default)(i).forEach(function(e){i[e].id===a&&(s=e)}),!s)return e;var u=(0,o.default)({},e);return delete u.producers.streams[r][s],u}(e,t.payload);case"CALL_SET_PRODUCER_STATS":return function(e,t){var r=t.streamName,n=t.stats,a=(0,o.default)({},e),i=a.producers.streams[r];return i||(i={}),i[n.mediaType]=n,a.producers.streams[r]=i,a}(e,t.payload)}return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STREAM=void 0;var n=y(r(53)),o=y(r(14)),a=y(r(20)),i=y(r(24)),s=y(r(25)),u=y(r(17)),l=y(r(18)),c=y(r(34)),d=y(r(35)),f=r(22),p=y(r(545)),h=r(55),m=y(h),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(151));function y(e){return e&&e.__esModule?e:{default:e}}var g="video",b=(t.STREAM="devices",function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return n.name=e,n._devices=new p.default,n._mic={constraints:r.defaultAudioConstraints||{}},n._emit(v.setDefaultAudioConstraints(n.name,n._mic.constraints)),n._webcam={facingMode:p.default.constraints.constants.FACING_MODE_USER||r.defaultFacingMode,constraints:r.defaultVideoConstraints||p.default.constraints.video.hd},n._emit(v.setDefaultVideoConstraints(n.name,n._webcam.constraints)),n._loaded=!1,n._errored=!1,n._availableDevices=[],n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"_emit",value:function(e){try{this.emit(e.type,e.payload)}catch(t){m.default.warn("unhandled devices event handler error",{event:e,err:(0,h.errLog)(t)})}}},{key:"setDefaultAudioConstraints",value:function(e){this._mic.constraints=e,this._emit(v.setDefaultAudioConstraints(this.name,e))}},{key:"setDefaultVideoConstraints",value:function(e){this._webcam.constraints=e,this._emit(v.setDefaultVideoConstraints(this.name,e))}},{key:"getDevices",value:function(){var e=(0,i.default)(a.default.mark(function e(t){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._devices.getDevices(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_loadDevices",value:function(){var e=(0,i.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._loaded&&!this._errored){e.next=16;break}return t=this._errored,this._errored=!1,e.prev=3,e.next=6,this._devices.getDevices(t);case 6:this._availableDevices=e.sent,e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),this._availableDevices=[],this._errored=!0,e.abrupt("return");case 14:this._errored=!1,this._loaded=!0;case 16:case"end":return e.stop()}},e,this,[[3,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"micByConstraints",value:function(e){var t=this,r=[{audio:(0,o.default)({},e)}];return function(){return t._getStream("audio",r)}}},{key:"defaultMic",value:function(e){var t=this;return function(){return t._deviceByIdentifier("audio",null,null,e,!1)}}},{key:"micByDeviceId",value:function(e,t,r){var n=this;return function(){return n._deviceByIdentifier("audio",e,null,t,r)}}},{key:"micByDeviceLabel",value:function(e,t,r){var n=this;return function(){return n._deviceByIdentifier("audio",null,e,t,r)}}},{key:"webcamByConstraints",value:function(e){var t=this,r=[{video:(0,o.default)({},e)}];return function(){return t._getStream(g,r)}}},{key:"defaultWebcam",value:function(e){var t=this;return function(){return t._deviceByIdentifier(g,null,null,e,!1)}}},{key:"webcamByDeviceId",value:function(e,t,r){var n=this;return function(){return n._deviceByIdentifier(g,e,null,t,r)}}},{key:"webcamByDeviceLabel",value:function(e,t,r){var n=this;return function(){return n._deviceByIdentifier(g,null,e,t,r)}}},{key:"switchWebcam",value:function(){var e=this;this._webcam.facingMode===p.default.constraints.constants.FACING_MODE_USER?this._webcam.facingMode=p.default.constraints.constants.FACING_MODE_ENVIRONMENT:this._webcam.facingMode===p.default.constraints.constants.FACING_MODE_ENVIRONMENT?this._webcam.facingMode=p.default.constraints.constants.FACING_MODE_USER:this._webcam.facingMode=p.default.constraints.constants.FACING_MODE_ENVIRONMENT;var t=[{video:(0,o.default)({facingMode:p.default.constraints.facingMode(this._webcam.facingMode)},this._webcam.constraints)},{video:{facingMode:p.default.constraints.facingMode(this._webcam.facingMode)}}];return(0,i.default)(a.default.mark(function r(){return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e._getStream(g,t));case 1:case"end":return r.stop()}},r,e)}))}},{key:"_deviceByIdentifier",value:function(){var e=(0,i.default)(a.default.mark(function e(t,r,i){var s,u,l,c,d,f,p,h,v,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},b=arguments[4];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t===g,u=null===i,l=void 0,c={},!b){e.next=16;break}return e.next=7,this._loadDevices();case 7:if(d=s?"videoinput":"audioinput",l=u?r&&this._availableDevices.find(function(e){return e.deviceId===r&&e.kind===d}):i&&this._availableDevices.find(function(e){return e.label===i&&e.kind===d})){e.next=13;break}throw f=u?"device with id "+r+" not found":"device with label "+i+" not found",m.default.error(f,{availableDevices:this._availableDevices,deviceLabel:i,deviceId:r}),new Error(f);case 13:c={deviceId:{exact:l.deviceId}},e.next=40;break;case 16:return e.next=18,this._loadDevices();case 18:if(!s){e.next=30;break}if(!u){e.next=25;break}return e.next=22,this._devices.getDefaultVideoDeviceById(u?r:i);case 22:l=e.sent,e.next=28;break;case 25:return e.next=27,this._devices.getDefaultVideoDeviceByLabel(u?r:i);case 27:l=e.sent;case 28:e.next=39;break;case 30:if(!u){e.next=36;break}return e.next=33,this._devices.getDefaultAudioDeviceById(u?r:i);case 33:l=e.sent,e.next=39;break;case 36:return e.next=38,this._devices.getDefaultAudioDeviceByLabel(u?r:i);case 38:l=e.sent;case 39:l&&(c={deviceId:l.deviceId});case 40:return p=s?this._webcam.constraints:this._mic.constraints,h=[(0,n.default)({},t,(0,o.default)({},p,y,c)),(0,n.default)({},t,(0,o.default)({},y,c))],e.next=44,this._getStream(t,h);case 44:return v=e.sent,this._webcam.facingMode=this._devices.getWebcamType(l),e.abrupt("return",v);case 47:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_replaceFacingMode",value:function(){var e=(0,i.default)(a.default.mark(function e(t){var r,n,o,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=11;break}if(!(n=t[r]).video||!n.video.facingMode){e.next=8;break}return e.next=6,this._devices.getDefaultVideoDeviceByFacingMode(n.video.facingMode);case 6:(o=e.sent)&&(i=p.default.constraints.device(o.deviceId),n.video.deviceId=i,delete n.video.facingMode);case 8:r++,e.next=1;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_getStream",value:function(){var e=(0,i.default)(a.default.mark(function e(t,r){var n,i,s=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._replaceFacingMode(r);case 2:return r=e.sent,m.default.debug("Attempting to get stream",{kind:t,tryConstraints:r,availableDevices:this._availableDevices}),n=void 0,e.prev=5,e.next=8,this._devices.getUserMedia(r);case 8:n=e.sent,e.next=17;break;case 11:throw e.prev=11,e.t0=e.catch(5),m.default.warn("Unable to get stream",(0,o.default)({tryConstraints:r,availableDevices:this._availableDevices},(0,h.errLog)(e.t0))),m.default.flush(),"NotAllowedError"===e.t0.name&&(e.t0.permissions=!0),e.t0;case 17:return i=t===g?"videoinput":"audioinput",(t===g?n.getVideoTracks():n.getAudioTracks()).forEach(function(e){var r=e.getConstraints&&e.getConstraints(),n=void 0;r&&r.deviceId&&(n=r.deviceId);var o=void 0;(o=n?s._availableDevices.find(function(e){return e.deviceId===n}):s._availableDevices.find(function(t){return e.label===t.label&&t.kind===i}))||(o={deviceId:n,label:e.label}),o&&(t===g?s._emit(v.setWebcam(s.name,o)):s._emit(v.setMic(s.name,o)))}),e.abrupt("return",n);case 20:case"end":return e.stop()}},e,this,[[5,11]])}));return function(t,r){return e.apply(this,arguments)}}()},{key:"defaultAudioConstraints",get:function(){return this._mic.constraints}},{key:"defaultVideoConstraints",get:function(){return this._webcam.constraints}}]),t}(f.EventEmitter));t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(20)),o=f(r(24)),a=f(r(17)),i=f(r(18)),s=f(r(46)),u=f(r(52)),l=f(r(546)),c=f(r(55)),d=f(r(547));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia?function(e){return navigator.mediaDevices.getUserMedia.call(navigator.mediaDevices,e)}:function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new s.default(function(r,n){t.call(navigator,e,r,n)}):s.default.reject(new Error("getUserMedia is not implemented in this browser"))}}var h=function(){function e(){(0,a.default)(this,e),this._devices=null,this._defaultAudio=null,this._defaultVideo=null,this._refresh=null,this._loaded=!1}return(0,i.default)(e,[{key:"getWebcamType",value:function(e){return/(back|rear)/i.test(e.label)?"back":"front"}},{key:"getDefaultVideoDeviceByFacingMode",value:function(){var e=(0,o.default)(n.default.mark(function e(t){var r,o=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="environment"===t?"back":"front",e.next=3,this._load(!0);case 3:if(r=this._devices.find(function(e){return"videoinput"===e.kind&&o.getWebcamType(e)===t})){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getDefaultAudioDeviceById",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._load();case 2:return e.abrupt("return",t&&this._devices.find(function(e){return e.deviceId===t&&"audioinput"===e.kind})||this._defaultAudio);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getDefaultAudioDeviceByLabel",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._load();case 2:return e.abrupt("return",t&&this._devices.find(function(e){return e.label===t&&"audioinput"===e.kind})||this._defaultAudio);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getDefaultVideoDeviceById",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._load();case 2:return e.abrupt("return",t&&this._devices.find(function(e){return e.deviceId===t&&"videoinput"===e.kind})||this._defaultVideo);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getDefaultVideoDeviceByLabel",value:function(){var e=(0,o.default)(n.default.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._load();case 2:return e.abrupt("return",t&&this._devices.find(function(e){return e.label===t&&"videoinput"===e.kind})||this._defaultVideo);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getUserMedia",value:function(){var e=(0,o.default)(n.default.mark(function e(t){var r,o,a,i,s;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._load();case 2:if(r=p(),o=function(e){if(!e)throw c.default.warn("getUserMedia did not return a stream",{tryConstraints:t}),new Error("no stream from getUserMedia");e.getTracks().forEach(function(e){if(e.ended)throw c.default.warn("getUserMedia returned an ended track",{tryConstraints:t}),new Error("getUserMedia returned an ended track")})},a=void 0,Array.isArray(t)){e.next=19;break}return c.default.debug("calling getUserMedia",{tryConstraints:t}),e.prev=7,e.next=10,r(t);case 10:a=e.sent,o(a),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(7),c.default.warn("unable to getUserMedia",{err:e.t0&&e.t0.stack,name:e.t0.name,tryConstraints:t}),e.t0;case 18:return e.abrupt("return",a);case 19:i=0;case 20:if(!(i<t.length)){e.next=40;break}return s=t[i],c.default.debug("calling getUserMedia",{tryConstraint:s}),e.prev=23,e.next=26,r(s);case 26:a=e.sent,o(a),e.next=36;break;case 30:if(e.prev=30,e.t1=e.catch(23),c.default.warn("unable to getUserMedia",{err:e.t1&&e.t1.stack,name:e.t1.name}),i!==t.length-1){e.next=35;break}throw e.t1;case 35:return e.abrupt("continue",37);case 36:return e.abrupt("break",40);case 37:i++,e.next=20;break;case 40:return e.abrupt("return",a);case 41:case"end":return e.stop()}},e,this,[[7,14],[23,30]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getDevices",value:function(){var e=(0,o.default)(n.default.mark(function e(t){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._load(t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_load",value:function(){var e=(0,o.default)(n.default.mark(function e(t){var r,a,i,s,l,f=this;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t||!this._loaded){e.next=2;break}return e.abrupt("return",this._devices);case 2:if(!this._refresh){e.next=6;break}return e.next=5,this._refresh;case 5:return e.abrupt("return",this._devices);case 6:return c.default.debug("loading devices",{refresh:!!t}),r=p(),null,a=null,i=null,s=null,l=function(){var e=(0,o.default)(n.default.mark(function e(){var t,o,l,p,h,m,v,y,g,b,_,w,k;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f._loaded){e.next=21;break}return t=(0,d.default)(),o=void 0,e.prev=3,e.next=6,r({audio:!0,video:!0});case 6:o=e.sent,e.next=16;break;case 9:throw e.prev=9,e.t0=e.catch(3),c.default.warn("Unable to get default user media",{name:e.t0.name,err:e.t0&&e.t0.stack}),f._devices=[],f._loaded=!0,f._refresh=null,e.t0;case 16:if(c.default.info("calls-core/devices: time taken to get user media",{seconds:t.secondsElapsed()}),l=o.getVideoTracks())for(p=l.length-1;p>=0;p--)l[p].label&&(a=l[p].label,u.default.ios||l[p].stop());if(h=o.getAudioTracks())for(m=h.length-1;m>=0;m--)h[m].label&&(a=h[m].label,u.default.ios||h[m].stop());case 21:return v=void 0,e.prev=22,e.next=25,navigator.mediaDevices.enumerateDevices();case 25:v=e.sent,e.next=35;break;case 28:return e.prev=28,e.t1=e.catch(22),c.default.error("Unable to enumerate devices",{name:e.t1.name,err:e.t1&&e.t1.stack}),f._devices=[],f._loaded=!0,f._refresh=null,e.abrupt("return");case 35:for(c.default.debug("loaded devices",{devices:v}),y=v.filter(function(e){return"audioinput"===e.kind}),g=v.filter(function(e){return"videoinput"===e.kind}),b=y.length-1;b>=0;b--)_=y[b],i||(0===b?i=_:null===_.label?i=_:"Default"===_.label&&(i=_));for(w=g.length-1;w>=0;w--)k=g[w],s||(0===w?s=k:k.label===a?s=k:"front"===f.getWebcamType(k)&&(s=k));f._devices=v||[],f._defaultAudio=i,f._defaultVideo=s,f._loaded=!0,f._refresh=null;case 45:case"end":return e.stop()}},e,f,[[3,9],[22,28]])}));return function(){return e.apply(this,arguments)}}(),this._refresh=l(),e.next=16,this._refresh;case 16:return e.abrupt("return",this._devices);case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();h.constraints=l.default,t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(52),a=(n=o)&&n.__esModule?n:{default:n};var i=function(e,t){var r={width:e,height:t};return a.default.ios||(r.aspectRatio=e/t),(a.default.ios||a.default.android)&&(r.frameRate={min:15}),r};t.default={constants:{FACING_MODE_USER:"user",FACING_MODE_ENVIRONMENT:"environment"},device:function(e){return{exact:e}},facingMode:function(e){return e},audio:{},video:{qvga:i(320,240),vga:i(640,480),hd:i(1280,720)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(17)),o=a(r(18));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(){(0,n.default)(this,e),this.startTime=(new Date).getTime()}return(0,o.default)(e,[{key:"since",value:function(){return e=this.startTime,(new Date).getTime()-e;var e}},{key:"secondsElapsed",value:function(){var e=this.since();return e<=0?0:e/1e3}}]),e}();t.default=function(){return new i}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}},function(e,t,r){"use strict";var n=r(111),o="function"===typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.suspense_list"):60120,m=o?Symbol.for("react.memo"):60115,v=o?Symbol.for("react.lazy"):60116;o&&Symbol.for("react.fundamental"),o&&Symbol.for("react.responder");var y="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t=e.message,r="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return e.message="Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function w(e,t,r){this.props=e,this.context=t,this.refs=_,this.updater=r||b}function k(){}function E(e,t,r){this.props=e,this.context=t,this.refs=_,this.updater=r||b}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw g(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=w.prototype;var P=E.prototype=new k;P.constructor=E,n(P,w.prototype),P.isPureReactComponent=!0;var S={current:null},x={suspense:null},T={current:null},C=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,r){var n=void 0,o={},i=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)C.call(t,n)&&!O.hasOwnProperty(n)&&(o[n]=t[n]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(n in u=e.defaultProps)void 0===o[n]&&(o[n]=u[n]);return{$$typeof:a,type:e,key:i,ref:s,props:o,_owner:T.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var D=/\/+/g,j=[];function I(e,t,r,n){if(j.length){var o=j.pop();return o.result=e,o.keyPrefix=t,o.func=r,o.context=n,o.count=0,o}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>j.length&&j.push(e)}function N(e,t,r){return null==e?0:function e(t,r,n,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case a:case i:u=!0}}if(u)return n(o,t,""===r?"."+L(t,0):r),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=r+L(s=t[l],l);u+=e(s,c,n,o)}else if(c=null===t||"object"!==typeof t?null:"function"===typeof(c=y&&t[y]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=e(s=s.value,c=r+L(s,l++),n,o);else if("object"===s)throw n=""+t,g(Error(31),"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,"");return u}(e,"",t,r)}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function U(e,t,r){var n=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,n,r,function(e){return e}):null!=e&&(M(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+r)),n.push(e))}function B(e,t,r,n,o){var a="";null!=r&&(a=(""+r).replace(D,"$&/")+"/"),N(e,U,t=I(t,a,n,o)),A(t)}function V(){var e=S.current;if(null===e)throw g(Error(321));return e}var W={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return B(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;N(e,F,t=I(null,null,t,r)),A(t)},count:function(e){return N(e,function(){return null},null)},toArray:function(e){var t=[];return B(e,t,null,function(e){return e}),t},only:function(e){if(!M(e))throw g(Error(143));return e}},createRef:function(){return{current:null}},Component:w,PureComponent:E,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:f,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return V().useCallback(e,t)},useContext:function(e,t){return V().useContext(e,t)},useEffect:function(e,t){return V().useEffect(e,t)},useImperativeHandle:function(e,t,r){return V().useImperativeHandle(e,t,r)},useDebugValue:function(){},useLayoutEffect:function(e,t){return V().useLayoutEffect(e,t)},useMemo:function(e,t){return V().useMemo(e,t)},useReducer:function(e,t,r){return V().useReducer(e,t,r)},useRef:function(e){return V().useRef(e)},useState:function(e){return V().useState(e)},Fragment:s,Profiler:l,StrictMode:u,Suspense:p,unstable_SuspenseList:h,createElement:R,cloneElement:function(e,t,r){if(null===e||void 0===e)throw g(Error(267),e);var o=void 0,i=n({},e.props),s=e.key,u=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,l=T.current),void 0!==t.key&&(s=""+t.key);var c=void 0;for(o in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)C.call(t,o)&&!O.hasOwnProperty(o)&&(i[o]=void 0===t[o]&&void 0!==c?c[o]:t[o])}if(1===(o=arguments.length-2))i.children=r;else if(1<o){c=Array(o);for(var d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:a,type:e.type,key:s,ref:u,props:i,_owner:l}},createFactory:function(e){var t=R.bind(null,e);return t.type=e,t},isValidElement:M,version:"16.9.0",unstable_withSuspenseConfig:function(e,t){var r=x.suspense;x.suspense=void 0===t?null:t;try{e()}finally{x.suspense=r}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:S,ReactCurrentBatchConfig:x,ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:n}},z={default:W},H=z&&W||z;e.exports=H.default||H},function(e,t,r){"use strict";var n=r(551);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,a,i){if(i!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(0,r(152).initialStreamState)();t.default=function(e,t){if(!t.peerId)throw new Error("peerId is a required prop for peer");if(!t.streamName)throw new Error("streamName is a required prop for peer");var r=e.call.peers[t.peerId];if(!r)return{stream:n.consumers,videoPaused:!0,audioPaused:!0};var o=void 0;if(Array.isArray(t.streamName))for(var a=0;a<t.streamName.length;a++){var i=r.streams[t.streamName[a]];if(i){var s=i.consumers,u=s.video,l=s.audio;if(u||l){o=i;break}}}else o=r.streams[t.streamName];if(!o)return{stream:n.consumers,videoPaused:!0,audioPaused:!0};var c=o.consumers,d=c.video,f=c.audio;return{stream:c,videoPaused:d&&d.paused||!d,audioPaused:f&&f.paused||!f}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(14),a=(n=o)&&n.__esModule?n:{default:n};var i={streamPlaying:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];if(!t.isStreamPlaying||!t.peerId)return(0,a.default)({},i);var r=e.call.peers[t.peerId];if(r){if(Array.isArray(t.isStreamPlaying)){for(var n=!0,o=0;o<t.isStreamPlaying.length;o++){var s=r.streams[t.isStreamPlaying[o]];if(s){var u=s.consumers,l=u.video,c=u.audio,d=l&&l.paused||!l,f=c&&c.paused||!c;d&&f&&(n=!1)}else n=!1}return{streamPlaying:n}}var p=r.streams[t.isStreamPlaying];if(p){var h=p.consumers,m=h.audio,v=h.video,y=v&&v.paused||!v,g=m&&m.paused||!m;return{streamPlaying:!y||!g}}}return(0,a.default)({},i)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var n=v(r(53)),o=v(r(25)),a=v(r(17)),i=v(r(18)),s=v(r(34)),u=v(r(35)),l=r(68),c=v(l),d=v(r(69)),f=r(39),p=v(r(6)),h=v(r(555)),m=v(r(156));function v(e){return e&&e.__esModule?e:{default:e}}var y="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4gICAgPHBhdGggZmlsbD0nI0ZGRicgZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgM2MxLjY2IDAgMyAxLjM0IDMgM3MtMS4zNCAzLTMgMy0zLTEuMzQtMy0zIDEuMzQtMyAzLTN6bTAgMTQuMmMtMi41IDAtNC43MS0xLjI4LTYtMy4yMi4wMy0xLjk5IDQtMy4wOCA2LTMuMDggMS45OSAwIDUuOTcgMS4wOSA2IDMuMDgtMS4yOSAxLjk0LTMuNSAzLjIyLTYgMy4yMnoiLz4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",g=t.styles=function(){return{videoTag:{display:"block",width:"100%",maxHeight:"100%"},videoTagPaused:{display:"none"},mirror:{transform:"scaleX(-1)"},hide:{display:"none"},avatar:{position:"relative",width:"25%",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",fill:"#FFF","&:before":{content:'""',paddingBottom:"100%"}}}},b=function(e){function t(e){(0,a.default)(this,t);var r=(0,s.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return r.state={videoCanPlay:!1},r.handleCanPlay=function(){r.setState({videoCanPlay:!0})},r._videoRef=c.default.createRef(),r.tracks=new h.default,r}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.audioTrack,r=e.videoTrack,n=e.volume;this.tracks.set(t,r,this._videoRef.current),n&&(this._videoRef.current.volume=n),this._videoRef.current.addEventListener("canplay",this.handleCanPlay)}},{key:"componentWillReceiveProps",value:function(e){var t=e.audioTrack,r=e.videoTrack,n=e.volume;this.tracks.set(t,r,this._videoRef.current),n&&(this._videoRef.current.volume=n)}},{key:"componentWillUnmount",value:function(){this.tracks.close(),this._videoRef.current.removeEventListener("canplay",this.handleCanPlay)}},{key:"render",value:function(){var e,t=this.props,r=t.classes,o=t.paused,a=t.muted,i=t.thumbnail,s=t.mirror,u=t.onClick,d=t.noContainer,f=this.state.videoCanPlay,h=this.props.videoClass||!1,v=(0,p.default)((e={},(0,n.default)(e,r.videoTag,!0),(0,n.default)(e,r.videoTagPaused,o),(0,n.default)(e,r.mirror,s),(0,n.default)(e,r.hide,!f),(0,n.default)(e,h,h),e));if(d)return c.default.createElement(l.Fragment,null,c.default.createElement("video",{className:v,ref:this._videoRef,muted:a,autoPlay:!0,playsInline:!0}),o&&c.default.createElement("div",{className:r.avatar,style:{backgroundImage:"url("+(i||y)+")"}}));var g=16,b=9;return this._videoRef&&(g=this._videoRef.videoWidth,b=this._videoRef.videoHeight),c.default.createElement(m.default,{x:g,y:b,onClick:u},c.default.createElement("video",{className:v,ref:this._videoRef,muted:a,autoPlay:!0,playsInline:!0}),o&&c.default.createElement("div",{className:r.avatar,style:{backgroundImage:"url("+(i||y)+")"}}))}}]),t}(l.PureComponent);b.propTypes={volume:d.default.number,noContainer:d.default.bool},b.defaultProps={volume:.5,noContainer:!1},t.default=(0,f.withStyles)(g,{name:"PVCStream"})(b)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(20)),o=l(r(46)),a=l(r(24)),i=l(r(17)),s=l(r(18)),u=l(r(55));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,i.default)(this,e),this._ref=null,this._audioTrack=null,this._videoTrack=null,this._retryCount=0,this._retryTimes=[0,10,100,200,1e3],this._retryTimeout=null,this._attemptPlayTimeout=null,this._closed=!1}return(0,s.default)(e,[{key:"_play",value:function(){var e=(0,a.default)(n.default.mark(function e(){var t,r,a=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._closed||this._retryCount>0&&!i)){e.next=3;break}return u.default.local("ManagedTracks: skip _play",{ref:this._ref,closed:this._closed,retryCount:this._retryCount}),e.abrupt("return");case 3:if(this._ref){e.next=7;break}return u.default.local("ManagedTracks: no video ref - retry"),this._retryTimeout=window.setTimeout(this._play(!0),this._retryTimeoutMilliseconds()),e.abrupt("return");case 7:if(t=new MediaStream,this._audioTrack&&(u.default.local("ManagedTracks: set new audio track",this._audioTrack),t.addTrack(this._audioTrack)),this._videoTrack&&(u.default.local("ManagedTracks: set new video track",this._videoTrack),t.addTrack(this._videoTrack)),this._ref.srcObject=t,e.prev=11,u.default.local("ManagedTracks: call play"),!(r=this._ref.play())){e.next=17;break}return e.next=17,o.default.race([r,new o.default(function(e,t){window.setTimeout(function(){t(new Error("timeout"))},5e3)})]);case 17:this._retryCount=0,e.next=26;break;case 20:return e.prev=20,e.t0=e.catch(11),"timeout"===e.t0.message&&(u.default.local("ManagedTracks: play timeout - pause video ref"),this._ref.pause()),u.default.local("ManagedTracks: Cannot play stream, retrying",e.t0),this._retryTimeout=window.setTimeout(function(){return a._play(!0)},this._retryTimeoutMilliseconds()),e.abrupt("return");case 26:this._attemptPlayTimeout=null,u.default.local("ManagedTracks: play success");case 28:case"end":return e.stop()}},e,this,[[11,20]])}));return function(){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t,r){this._ref=r;var n=!1;if((this._audioTrack||e)&&(!this._audioTrack&&e||this._audioTrack!==e)&&(this._audioTrack=e,n=!0,u.default.local("ManagedTracks: Update audio")),(this._videoTrack||t)&&(!this._videoTrack&&t||this._videoTrack!==t)&&(this._videoTrack=t,n=!0,u.default.local("ManagedTracks: Update video")),n)return null!==this._attemptPlayTimeout?(clearTimeout(this._attemptPlayTimeout),void(this._attemptPlayTimeout=window.setTimeout(this._play.bind(this),100))):void(this._attemptPlayTimeout=window.setTimeout(this._play.bind(this),1e3))}},{key:"_retryTimeoutMilliseconds",value:function(){this._retryCount>=this._retryTimes.length&&(this._retryCount=1);var e=this._retryTimes[this._retryCount];return this._retryCount++,e}},{key:"close",value:function(){this._closed=!0,window.clearTimeout(this._retryTimeout),window.clearTimeout(this._attemptPlayTimeout)}}]),e}();t.default=c},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(557))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(9)),s=n(r(10)),u=n(r(11)),l=n(r(12)),c=n(r(13)),d=n(r(8)),f=n(r(1)),p=(n(r(2)),n(r(19)),n(r(6))),h=(r(7),n(r(214))),m=n(r(5)),v=r(38),y=n(r(229)),g=n(r(558)),b=function(e){return{popper:{zIndex:e.zIndex.tooltip,opacity:.9,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},tooltip:{backgroundColor:e.palette.grey[700],borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(e.typography.round(1.4),"em"),maxWidth:300},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(e.typography.round(16/14),"em")},tooltipPlacementLeft:(0,d.default)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,d.default)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,d.default)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,d.default)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}};t.styles=b;var _=function(e){function t(e){var r;return(0,i.default)(this,t),(r=(0,u.default)(this,(0,l.default)(t).call(this))).ignoreNonTouchEvents=!1,r.onRootRef=function(e){r.childrenRef=e},r.handleFocus=function(e){r.childrenRef||(r.childrenRef=e.currentTarget),r.handleEnter(e);var t=r.props.children.props;t.onFocus&&t.onFocus(e)},r.handleEnter=function(e){var t=r.props,n=t.children,o=t.enterDelay,a=n.props;"mouseover"===e.type&&a.onMouseOver&&a.onMouseOver(e),r.ignoreNonTouchEvents&&"touchstart"!==e.type||(r.childrenRef.setAttribute("title",""),clearTimeout(r.enterTimer),clearTimeout(r.leaveTimer),o?(e.persist(),r.enterTimer=setTimeout(function(){r.handleOpen(e)},o)):r.handleOpen(e))},r.handleOpen=function(e){r.isControlled||r.state.open||r.setState({open:!0}),r.props.onOpen&&r.props.onOpen(e)},r.handleLeave=function(e){var t=r.props,n=t.children,o=t.leaveDelay,a=n.props;"blur"===e.type&&a.onBlur&&a.onBlur(e),"mouseleave"===e.type&&a.onMouseLeave&&a.onMouseLeave(e),clearTimeout(r.enterTimer),clearTimeout(r.leaveTimer),o?(e.persist(),r.leaveTimer=setTimeout(function(){r.handleClose(e)},o)):r.handleClose(e)},r.handleClose=function(e){r.isControlled||r.setState({open:!1}),r.props.onClose&&r.props.onClose(e),clearTimeout(r.closeTimer),r.closeTimer=setTimeout(function(){r.ignoreNonTouchEvents=!1},r.props.theme.transitions.duration.shortest)},r.handleTouchStart=function(e){r.ignoreNonTouchEvents=!0;var t=r.props,n=t.children,o=t.enterTouchDelay;n.props.onTouchStart&&n.props.onTouchStart(e),clearTimeout(r.leaveTimer),clearTimeout(r.closeTimer),clearTimeout(r.touchTimer),e.persist(),r.touchTimer=setTimeout(function(){r.handleEnter(e)},o)},r.handleTouchEnd=function(e){var t=r.props,n=t.children,o=t.leaveTouchDelay;n.props.onTouchEnd&&n.props.onTouchEnd(e),clearTimeout(r.touchTimer),clearTimeout(r.leaveTimer),e.persist(),r.leaveTimer=setTimeout(function(){r.handleClose(e)},o)},r.isControlled=null!=e.open,r.state={open:null},r.isControlled||(r.state.open=!1),r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.defaultId="mui-tooltip-".concat(Math.round(1e5*Math.random())),this.props.open&&this.forceUpdate()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.closeTimer),clearTimeout(this.enterTimer),clearTimeout(this.focusTimer),clearTimeout(this.leaveTimer),clearTimeout(this.touchTimer)}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.classes,i=t.disableFocusListener,s=t.disableHoverListener,u=t.disableTouchListener,l=(t.enterDelay,t.enterTouchDelay,t.id),c=t.interactive,m=(t.leaveDelay,t.leaveTouchDelay,t.onClose,t.onOpen,t.open),y=t.placement,b=t.PopperProps,_=t.theme,w=t.title,k=t.TransitionComponent,E=t.TransitionProps,P=(0,a.default)(t,["children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperProps","theme","title","TransitionComponent","TransitionProps"]),S=this.isControlled?m:this.state.open;""===w&&(S=!1);var x=!S&&!s,T=(0,o.default)({"aria-describedby":S?l||this.defaultId:null,title:x&&"string"===typeof w?w:null},P,r.props,{className:(0,p.default)(P.className,r.props.className)});u||(T.onTouchStart=this.handleTouchStart,T.onTouchEnd=this.handleTouchEnd),s||(T.onMouseOver=this.handleEnter,T.onMouseLeave=this.handleLeave),i||(T.onFocus=this.handleFocus,T.onBlur=this.handleLeave);var C=c?{onMouseOver:T.onMouseOver,onMouseLeave:T.onMouseLeave,onFocus:T.onFocus,onBlur:T.onBlur}:{};return f.default.createElement(f.default.Fragment,null,f.default.createElement(h.default,{rootRef:this.onRootRef},f.default.cloneElement(r,T)),f.default.createElement(g.default,(0,o.default)({className:(0,p.default)(n.popper,(0,d.default)({},n.popperInteractive,c)),placement:y,anchorEl:this.childrenRef,open:S,id:T["aria-describedby"],transition:!0},C,b),function(t){var r=t.placement,a=t.TransitionProps;return f.default.createElement(k,(0,o.default)({timeout:_.transitions.duration.shorter},a,E),f.default.createElement("div",{className:(0,p.default)(n.tooltip,(0,d.default)({},n.touch,e.ignoreNonTouchEvents),n["tooltipPlacement".concat((0,v.capitalize)(r.split("-")[0]))])},w))}))}}]),t}(f.default.Component);_.defaultProps={disableFocusListener:!1,disableHoverListener:!1,disableTouchListener:!1,enterDelay:0,enterTouchDelay:1e3,interactive:!1,leaveDelay:0,leaveTouchDelay:1500,placement:"bottom",TransitionComponent:y.default};var w=(0,m.default)(b,{name:"MuiTooltip",withTheme:!0})(_);t.default=w},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(559))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(4)),a=n(r(3)),i=n(r(9)),s=n(r(10)),u=n(r(11)),l=n(r(12)),c=n(r(13)),d=n(r(79)),f=n(r(1)),p=n(r(26)),h=(n(r(2)),n(r(560))),m=n(r(215));function v(e){if("rtl"!==("undefined"!==typeof window&&document.body.getAttribute("dir")||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}var y=function(e){function t(e){var r;return(0,i.default)(this,t),(r=(0,u.default)(this,(0,l.default)(t).call(this))).handleOpen=function(){var e=r.props,t=e.anchorEl,n=e.modifiers,o=e.open,i=e.placement,s=e.popperOptions,u=void 0===s?{}:s,l=e.disablePortal,c=p.default.findDOMNode((0,d.default)((0,d.default)(r)));c&&t&&o&&(r.popper&&(r.popper.destroy(),r.popper=null),r.popper=new h.default(function(e){return"function"===typeof e?e():e}(t),c,(0,a.default)({placement:v(i)},u,{modifiers:(0,a.default)({},l?{}:{preventOverflow:{boundariesElement:"window"}},n,u.modifiers),onCreate:r.handlePopperUpdate,onUpdate:r.handlePopperUpdate})))},r.handlePopperUpdate=function(e){e.placement!==r.state.placement&&r.setState({placement:e.placement})},r.handleExited=function(){r.setState({exited:!0}),r.handleClose()},r.handleClose=function(){r.popper&&(r.popper.destroy(),r.popper=null)},r.state={exited:!e.open},r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidUpdate",value:function(e){e.open===this.props.open||this.props.open||this.props.transition||this.handleClose(),e.open===this.props.open&&e.anchorEl===this.props.anchorEl&&e.popperOptions===this.props.popperOptions&&e.modifiers===this.props.modifiers&&e.disablePortal===this.props.disablePortal&&e.placement===this.props.placement||this.handleOpen()}},{key:"componentWillUnmount",value:function(){this.handleClose()}},{key:"render",value:function(){var e=this.props,t=(e.anchorEl,e.children),r=e.container,n=e.disablePortal,i=e.keepMounted,s=(e.modifiers,e.open),u=e.placement,l=(e.popperOptions,e.transition),c=(0,o.default)(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","transition"]),d=this.state,p=d.exited,h=d.placement;if(!i&&!s&&(!l||p))return null;var y={placement:h||v(u)};return l&&(y.TransitionProps={in:s,onExited:this.handleExited}),f.default.createElement(m.default,{onRendered:this.handleOpen,disablePortal:n,container:r},f.default.createElement("div",(0,a.default)({role:"tooltip",style:{position:"absolute"}},c),"function"===typeof t?t(y):t))}}],[{key:"getDerivedStateFromProps",value:function(e){return e.open?{exited:!1}:e.transition?null:{exited:!0}}}]),t}(f.default.Component);y.defaultProps={disablePortal:!1,placement:"bottom",transition:!1};var g=y;t.default=g},function(e,t,r){"use strict";r.r(t),function(e){for(var r="undefined"!==typeof window&&"undefined"!==typeof document,n=["Edge","Trident","Firefox"],o=0,a=0;a<n.length;a+=1)if(r&&navigator.userAgent.indexOf(n[a])>=0){o=1;break}var i=r&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},o))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function u(e,t){if(1!==e.nodeType)return[];var r=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?r[t]:r}function l(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=u(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(r+o+n)?e:c(l(e))}var d=r&&!(!window.MSInputMethodContext||!document.documentMode),f=r&&/MSIE 10/.test(navigator.userAgent);function p(e){return 11===e?d:10===e?f:d||f}function h(e){if(!e)return document.documentElement;for(var t=p(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===u(r,"position")?h(r):r:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function v(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,o=r?t:e,a=document.createRange();a.setStart(n,0),a.setEnd(o,0);var i=a.commonAncestorContainer;if(e!==i&&t!==i||n.contains(o))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||h(e.firstElementChild)===e)}(i)?i:h(i);var s=m(e);return s.host?v(s.host,t):v(e,m(t).host)}function y(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var n=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||n)[t]}return e[t]}function g(e,t){var r="x"===t?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"],10)+parseFloat(e["border"+n+"Width"],10)}function b(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],p(10)?parseInt(r["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function _(e){var t=e.body,r=e.documentElement,n=p(10)&&getComputedStyle(r);return{height:b("Height",t,r,n),width:b("Width",t,r,n)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},k=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),E=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function S(e){return P({},e,{right:e.left+e.width,bottom:e.top+e.height})}function x(e){var t={};try{if(p(10)){t=e.getBoundingClientRect();var r=y(e,"top"),n=y(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch(f){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?_(e.ownerDocument):{},i=a.width||e.clientWidth||o.right-o.left,s=a.height||e.clientHeight||o.bottom-o.top,l=e.offsetWidth-i,c=e.offsetHeight-s;if(l||c){var d=u(e);l-=g(d,"x"),c-=g(d,"y"),o.width-=l,o.height-=c}return S(o)}function T(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=p(10),o="HTML"===t.nodeName,a=x(e),i=x(t),s=c(e),l=u(t),d=parseFloat(l.borderTopWidth,10),f=parseFloat(l.borderLeftWidth,10);r&&o&&(i.top=Math.max(i.top,0),i.left=Math.max(i.left,0));var h=S({top:a.top-i.top-d,left:a.left-i.left-f,width:a.width,height:a.height});if(h.marginTop=0,h.marginLeft=0,!n&&o){var m=parseFloat(l.marginTop,10),v=parseFloat(l.marginLeft,10);h.top-=d-m,h.bottom-=d-m,h.left-=f-v,h.right-=f-v,h.marginTop=m,h.marginLeft=v}return(n&&!r?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(h=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=y(t,"top"),o=y(t,"left"),a=r?-1:1;return e.top+=n*a,e.bottom+=n*a,e.left+=o*a,e.right+=o*a,e}(h,t)),h}function C(e){if(!e||!e.parentElement||p())return document.documentElement;for(var t=e.parentElement;t&&"none"===u(t,"transform");)t=t.parentElement;return t||document.documentElement}function O(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},i=o?C(e):v(e,t);if("viewport"===n)a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.ownerDocument.documentElement,n=T(e,r),o=Math.max(r.clientWidth,window.innerWidth||0),a=Math.max(r.clientHeight,window.innerHeight||0),i=t?0:y(r),s=t?0:y(r,"left");return S({top:i-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:o,height:a})}(i,o);else{var s=void 0;"scrollParent"===n?"BODY"===(s=c(l(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===n?e.ownerDocument.documentElement:n;var d=T(s,i,o);if("HTML"!==s.nodeName||function e(t){var r=t.nodeName;if("BODY"===r||"HTML"===r)return!1;if("fixed"===u(t,"position"))return!0;var n=l(t);return!!n&&e(n)}(i))a=d;else{var f=_(e.ownerDocument),p=f.height,h=f.width;a.top+=d.top-d.marginTop,a.bottom=p+d.top,a.left+=d.left-d.marginLeft,a.right=h+d.left}}var m="number"===typeof(r=r||0);return a.left+=m?r:r.left||0,a.top+=m?r:r.top||0,a.right-=m?r:r.right||0,a.bottom-=m?r:r.bottom||0,a}function R(e,t,r,n,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var i=O(r,n,a,o),s={top:{width:i.width,height:t.top-i.top},right:{width:i.right-t.right,height:i.height},bottom:{width:i.width,height:i.bottom-t.bottom},left:{width:t.left-i.left,height:i.height}},u=Object.keys(s).map(function(e){return P({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),l=u.filter(function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight}),c=l.length>0?l[0].key:u[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function M(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return T(r,n?C(t):v(t,r),n)}function D(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),r=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),n=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+n,height:e.offsetHeight+r}}function j(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function I(e,t,r){r=r.split("-")[0];var n=D(e),o={width:n.width,height:n.height},a=-1!==["right","left"].indexOf(r),i=a?"top":"left",s=a?"left":"top",u=a?"height":"width",l=a?"width":"height";return o[i]=t[i]+t[u]/2-n[u]/2,o[s]=r===s?t[s]-n[l]:t[j(s)],o}function A(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function N(e,t,r){return(void 0===r?e:e.slice(0,function(e,t,r){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===r});var n=A(e,function(e){return e[t]===r});return e.indexOf(n)}(e,"name",r))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&s(r)&&(t.offsets.popper=S(t.offsets.popper),t.offsets.reference=S(t.offsets.reference),t=r(t,e))}),t}function L(e,t){return e.some(function(e){var r=e.name;return e.enabled&&r===t})}function F(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var o=t[n],a=o?""+o+r:e;if("undefined"!==typeof document.body.style[a])return a}return null}function U(e){var t=e.ownerDocument;return t?t.defaultView:window}function B(e,t,r,n){r.updateBound=n,U(e).addEventListener("resize",r.updateBound,{passive:!0});var o=c(e);return function e(t,r,n,o){var a="BODY"===t.nodeName,i=a?t.ownerDocument.defaultView:t;i.addEventListener(r,n,{passive:!0}),a||e(c(i.parentNode),r,n,o),o.push(i)}(o,"scroll",r.updateBound,r.scrollParents),r.scrollElement=o,r.eventsEnabled=!0,r}function V(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,U(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function W(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function z(e,t){Object.keys(t).forEach(function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&W(t[r])&&(n="px"),e.style[r]=t[r]+n})}var H=r&&/Firefox/i.test(navigator.userAgent);function q(e,t,r){var n=A(e,function(e){return e.name===t}),o=!!n&&e.some(function(e){return e.name===r&&e.enabled&&e.order<n.order});if(!o){var a="`"+t+"`",i="`"+r+"`";console.warn(i+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return o}var G=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],K=G.slice(3);function $(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=K.indexOf(e),n=K.slice(r+1).concat(K.slice(0,r));return t?n.reverse():n}var Y={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Q(e,t,r,n){var o=[0,0],a=-1!==["right","left"].indexOf(n),i=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=i.indexOf(A(i,function(e){return-1!==e.search(/,|\s/)}));i[s]&&-1===i[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==s?[i.slice(0,s).concat([i[s].split(u)[0]]),[i[s].split(u)[1]].concat(i.slice(s+1))]:[i];return(l=l.map(function(e,n){var o=(1===n?!a:a)?"height":"width",i=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,i=!0,e):i?(e[e.length-1]+=t,i=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,r,n){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+o[1],i=o[2];if(!a)return e;if(0===i.indexOf("%")){var s=void 0;switch(i){case"%p":s=r;break;case"%":case"%r":default:s=n}return S(s)[t]/100*a}if("vh"===i||"vw"===i)return("vh"===i?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,o,t,r)})})).forEach(function(e,t){e.forEach(function(r,n){W(r)&&(o[t]+=r*("-"===e[n-1]?-1:1))})}),o}var X={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var o=e.offsets,a=o.reference,i=o.popper,s=-1!==["bottom","top"].indexOf(r),u=s?"left":"top",l=s?"width":"height",c={start:E({},u,a[u]),end:E({},u,a[u]+a[l]-i[l])};e.offsets.popper=P({},i,c[n])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var r=t.offset,n=e.placement,o=e.offsets,a=o.popper,i=o.reference,s=n.split("-")[0],u=void 0;return u=W(+r)?[+r,0]:Q(r,a,i,s),"left"===s?(a.top+=u[0],a.left-=u[1]):"right"===s?(a.top+=u[0],a.left+=u[1]):"top"===s?(a.left+=u[0],a.top-=u[1]):"bottom"===s&&(a.left+=u[0],a.top+=u[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var r=t.boundariesElement||h(e.instance.popper);e.instance.reference===r&&(r=h(r));var n=F("transform"),o=e.instance.popper.style,a=o.top,i=o.left,s=o[n];o.top="",o.left="",o[n]="";var u=O(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);o.top=a,o.left=i,o[n]=s,t.boundaries=u;var l=t.priority,c=e.offsets.popper,d={primary:function(e){var r=c[e];return c[e]<u[e]&&!t.escapeWithReference&&(r=Math.max(c[e],u[e])),E({},e,r)},secondary:function(e){var r="right"===e?"left":"top",n=c[r];return c[e]>u[e]&&!t.escapeWithReference&&(n=Math.min(c[r],u[e]-("right"===e?c.width:c.height))),E({},r,n)}};return l.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=P({},c,d[t](e))}),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,r=t.popper,n=t.reference,o=e.placement.split("-")[0],a=Math.floor,i=-1!==["top","bottom"].indexOf(o),s=i?"right":"bottom",u=i?"left":"top",l=i?"width":"height";return r[s]<a(n[u])&&(e.offsets.popper[u]=a(n[u])-r[l]),r[u]>a(n[s])&&(e.offsets.popper[u]=a(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var r;if(!q(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"===typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],a=e.offsets,i=a.popper,s=a.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",d=l?"Top":"Left",f=d.toLowerCase(),p=l?"left":"top",h=l?"bottom":"right",m=D(n)[c];s[h]-m<i[f]&&(e.offsets.popper[f]-=i[f]-(s[h]-m)),s[f]+m>i[h]&&(e.offsets.popper[f]+=s[f]+m-i[h]),e.offsets.popper=S(e.offsets.popper);var v=s[f]+s[c]/2-m/2,y=u(e.instance.popper),g=parseFloat(y["margin"+d],10),b=parseFloat(y["border"+d+"Width"],10),_=v-e.offsets.popper[f]-g-b;return _=Math.max(Math.min(i[c]-m,_),0),e.arrowElement=n,e.offsets.arrow=(E(r={},f,Math.round(_)),E(r,p,""),r),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(L(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=O(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],o=j(n),a=e.placement.split("-")[1]||"",i=[];switch(t.behavior){case Y.FLIP:i=[n,o];break;case Y.CLOCKWISE:i=$(n);break;case Y.COUNTERCLOCKWISE:i=$(n,!0);break;default:i=t.behavior}return i.forEach(function(s,u){if(n!==s||i.length===u+1)return e;n=e.placement.split("-")[0],o=j(n);var l=e.offsets.popper,c=e.offsets.reference,d=Math.floor,f="left"===n&&d(l.right)>d(c.left)||"right"===n&&d(l.left)<d(c.right)||"top"===n&&d(l.bottom)>d(c.top)||"bottom"===n&&d(l.top)<d(c.bottom),p=d(l.left)<d(r.left),h=d(l.right)>d(r.right),m=d(l.top)<d(r.top),v=d(l.bottom)>d(r.bottom),y="left"===n&&p||"right"===n&&h||"top"===n&&m||"bottom"===n&&v,g=-1!==["top","bottom"].indexOf(n),b=!!t.flipVariations&&(g&&"start"===a&&p||g&&"end"===a&&h||!g&&"start"===a&&m||!g&&"end"===a&&v),_=!!t.flipVariationsByContent&&(g&&"start"===a&&h||g&&"end"===a&&p||!g&&"start"===a&&v||!g&&"end"===a&&m),w=b||_;(f||y||w)&&(e.flipped=!0,(f||y)&&(n=i[u+1]),w&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=n+(a?"-"+a:""),e.offsets.popper=P({},e.offsets.popper,I(e.instance.popper,e.offsets.reference,e.placement)),e=N(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,o=n.popper,a=n.reference,i=-1!==["left","right"].indexOf(r),s=-1===["top","left"].indexOf(r);return o[i?"left":"top"]=a[r]-(s?o[i?"width":"height"]:0),e.placement=j(t),e.offsets.popper=S(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=A(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var r=t.x,n=t.y,o=e.offsets.popper,a=A(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var i=void 0!==a?a:t.gpuAcceleration,s=h(e.instance.popper),u=x(s),l={position:o.position},c=function(e,t){var r=e.offsets,n=r.popper,o=r.reference,a=Math.round,i=Math.floor,s=function(e){return e},u=a(o.width),l=a(n.width),c=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?c||d||u%2===l%2?a:i:s,p=t?a:s;return{left:f(u%2===1&&l%2===1&&!d&&t?n.left-1:n.left),top:p(n.top),bottom:p(n.bottom),right:f(n.right)}}(e,window.devicePixelRatio<2||!H),d="bottom"===r?"top":"bottom",f="right"===n?"left":"right",p=F("transform"),m=void 0,v=void 0;if(v="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-u.height+c.bottom:c.top,m="right"===f?"HTML"===s.nodeName?-s.clientWidth+c.right:-u.width+c.right:c.left,i&&p)l[p]="translate3d("+m+"px, "+v+"px, 0)",l[d]=0,l[f]=0,l.willChange="transform";else{var y="bottom"===d?-1:1,g="right"===f?-1:1;l[d]=v*y,l[f]=m*g,l.willChange=d+", "+f}var b={"x-placement":e.placement};return e.attributes=P({},b,e.attributes),e.styles=P({},l,e.styles),e.arrowStyles=P({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,r;return z(e.instance.popper,e.styles),t=e.instance.popper,r=e.attributes,Object.keys(r).forEach(function(e){!1!==r[e]?t.setAttribute(e,r[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&z(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,r,n,o){var a=M(o,t,e,r.positionFixed),i=R(r.placement,a,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",i),z(t,{position:r.positionFixed?"fixed":"absolute"}),r},gpuAcceleration:void 0}}},J=function(){function e(t,r){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=i(this.update.bind(this)),this.options=P({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(P({},e.Defaults.modifiers,o.modifiers)).forEach(function(t){n.options.modifiers[t]=P({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return P({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&s(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return k(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=M(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=R(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=I(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=N(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,L(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return V.call(this)}}]),e}();J.Utils=("undefined"!==typeof window?window:e).PopperUtils,J.placements=G,J.Defaults=X,t.default=J}.call(this,r(32))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(31)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),o.default.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})),"MoreVert");t.default=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(228))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPeerVolume=t.unmutePeer=t.mutePeer=t.callsRejectCallSuccess=t.callsRejectCallError=t.callsRejectCall=t.callsError=t.callsReceived=t.callsRequesting=t.DEMOTE_VIEWER_ERROR=t.PROMOTE_VIEWER_ERROR=t.GET_VIEWERS_ERROR=t.UPDATE_MAX_BITRATE_ERROR=void 0;var n=p(r(33)),o=p(r(14)),a=p(r(20)),i=p(r(24));t.ignoreMessageCode=function(e){return function(){var t=(0,i.default)(a.default.mark(function t(r){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r(g(e));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},t.setStreamsOptions=function(e){var t=this;return b(function(){var r=(0,i.default)(a.default.mark(function r(n,i,l){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.setStreamsOptions(e);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),u.default.error("unable to close call",(0,o.default)({},(0,s.errLog)(t.t0))),n({type:d.CALL_ERROR,payload:(0,o.default)({},_("Unable to update streams options",t.t0))});case 9:case"end":return t.stop()}},r,t,[[0,5]])}));return function(e,t,n){return r.apply(this,arguments)}}(),!0)},t.updateDevices=function(e,t){var r=this;return b(function(){var n=(0,i.default)(a.default.mark(function n(i,l,c){var d;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c.streams[e]){r.next=2;break}throw new Error(e+" is not a valid stream for updateDevices");case 2:return i({type:f.CONTROLS_DEVICES,payload:{streamName:e,devices:null}}),d=void 0,r.prev=4,r.next=7,c.streams[e].getDevices(t);case 7:d=r.sent,r.next=15;break;case 10:return r.prev=10,r.t0=r.catch(4),u.default.warn("unable to update devices",(0,o.default)({},(0,s.errLog)(r.t0),{streamName:e})),i({type:f.CONTROLS_DEVICES_ERROR,payload:(0,o.default)({streamName:e},_("Unable to update devices",r.t0))}),r.abrupt("return");case 15:i({type:f.CONTROLS_DEVICES,payload:{streamName:e,devices:d}});case 16:case"end":return r.stop()}},n,r,[[4,10]])}));return function(e,t,r){return n.apply(this,arguments)}}())},t.setWebcam=function(e,t,r,n){var l=this;return b(function(){var c=(0,i.default)(a.default.mark(function i(c,d,p){return a.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(p.streams[e]){a.next=2;break}throw new Error(e+" is not a valid stream for setWebcam");case 2:return a.prev=2,a.next=5,p.streams[e].setWebcam(t,r,n);case 5:a.next=14;break;case 7:if(a.prev=7,a.t0=a.catch(2),u.default.warn("unable to set webcam",(0,o.default)({},(0,s.errLog)(a.t0),{streamName:e,deviceId:t,constraints:r,exact:n})),!a.t0.permissions){a.next=13;break}return c({type:f.CONTROLS_DEVICES_PERMISSIONS_ERROR,payload:(0,o.default)({streamName:e},_("Unable to set webcam: no permissions",a.t0))}),a.abrupt("return");case 13:c({type:f.CONTROLS_DEVICES_SET_WEBCAM_ERROR,payload:(0,o.default)({streamName:e},_("Unable to set webcam",a.t0))});case 14:case"end":return a.stop()}},i,l,[[2,7]])}));return function(e,t,r){return c.apply(this,arguments)}}())},t.switchWebcam=function(e){var t=this;return b(function(){var r=(0,i.default)(a.default.mark(function r(n,i,l){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l.streams[e]){t.next=2;break}throw new Error(e+" is not a valid stream for switchWebcam");case 2:return t.prev=2,t.next=5,l.streams[e].switchWebcam();case 5:t.next=14;break;case 7:if(t.prev=7,t.t0=t.catch(2),u.default.warn("unable to switch webcam",(0,o.default)({},(0,s.errLog)(t.t0),{streamName:e})),!t.t0.permissions){t.next=13;break}return n({type:f.CONTROLS_DEVICES_PERMISSIONS_ERROR,payload:(0,o.default)({streamName:e},_("Unable to switch webcam: no permissions",t.t0))}),t.abrupt("return");case 13:n({type:f.CONTROLS_DEVICES_SWITCH_WEBCAM_ERROR,payload:(0,o.default)({streamName:e},_("Unable to switch webcam",t.t0))});case 14:case"end":return t.stop()}},r,t,[[2,7]])}));return function(e,t,n){return r.apply(this,arguments)}}())},t.setDefaultAudioConstraints=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b(function(){var l=(0,i.default)(a.default.mark(function i(l,c,d){return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(d.streams[e]){r.next=2;break}throw new Error(e+" is not a valid stream for setDefaultAudioConstraints");case 2:return d.streams[e].setDefaultAudioConstraints(t),r.prev=3,r.next=6,d.enableAudio(e,!0,n);case 6:r.next=12;break;case 8:r.prev=8,r.t0=r.catch(3),u.default.warn("unable to set default audio constraints",(0,o.default)({},(0,s.errLog)(r.t0),{streamName:e})),l({type:f.CONTROLS_DEVICES_SET_MIC_ERROR,payload:(0,o.default)({streamName:e},_("unable to set default audio constraints",r.t0))});case 12:case"end":return r.stop()}},i,r,[[3,8]])}));return function(e,t,r){return l.apply(this,arguments)}}())},t.setDefaultVideoConstraints=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b(function(){var l=(0,i.default)(a.default.mark(function i(l,c,d){return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(d.streams[e]){r.next=2;break}throw new Error(e+" is not a valid stream for setDefaultVideoConstraints");case 2:return d.streams[e].setDefaultVideoConstraints(t),r.prev=3,r.next=6,d.enableVideo(e,!0,n);case 6:r.next=12;break;case 8:r.prev=8,r.t0=r.catch(3),u.default.warn("unable to set default video constraints",(0,o.default)({},(0,s.errLog)(r.t0),{streamName:e})),l({type:f.CONTROLS_DEVICES_SET_WEBCAM_ERROR,payload:(0,o.default)({streamName:e},_("unable to set default video constraints",r.t0))});case 12:case"end":return r.stop()}},i,r,[[3,8]])}));return function(e,t,r){return l.apply(this,arguments)}}())},t.sendPreviewProducers=function(){var e=this;return b(function(){var t=(0,i.default)(a.default.mark(function t(r,l){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(0,n.default)(l.call.producerStreams).forEach(function(){var t=(0,i.default)(a.default.mark(function t(n){var i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((i=l.call.producerStreams[n])&&i.producers.video&&i.producers.video.preview)){e.next=11;break}return e.prev=2,e.next=5,i.producers.video.sendPreview();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),u.default.warn("unable to set default video constraints",(0,o.default)({},(0,s.errLog)(e.t0),{streamName:n})),r({type:f.CONTROLS_DEVICES_SET_WEBCAM_ERROR,payload:(0,o.default)({streamName:n},_("unable to set default video constraints",e.t0))});case 11:if(!(i&&i.producers.audio&&i.producers.audio.preview)){e.next=21;break}return e.prev=12,e.next=15,i.producers.audio.sendPreview();case 15:e.next=21;break;case 17:e.prev=17,e.t1=e.catch(12),u.default.warn("unable to set default video constraints",(0,o.default)({},(0,s.errLog)(e.t1),{streamName:n})),r({type:f.CONTROLS_DEVICES_SET_WEBCAM_ERROR,payload:(0,o.default)({streamName:n},_("unable to set default video constraints",e.t1))});case 21:case"end":return e.stop()}},t,e,[[2,7],[12,17]])}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}));return function(e,r){return t.apply(this,arguments)}}())},t.disableProducers=function(e){var t=this;return b(function(){var r=(0,i.default)(a.default.mark(function r(l,c,d){return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:(0,n.default)(c.call.producerStreams).forEach(function(){var r=(0,i.default)(a.default.mark(function r(n){var i;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=c.call.producerStreams[n])||!i.producers.video||e&&!i.producers.video.preview){t.next=11;break}if(!d.streams[n]){t.next=11;break}return t.prev=3,t.next=6,d.disableVideo(n);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),u.default.warn("unable to disable video",(0,o.default)({},(0,s.errLog)(t.t0),{streamName:n}));case 11:if(!i||!i.producers.audio||e&&!i.producers.audio.preview){t.next=21;break}if(!d.streams[n]){t.next=21;break}return t.prev=13,t.next=16,d.disableAudio(n);case 16:t.next=21;break;case 18:t.prev=18,t.t1=t.catch(13),u.default.warn("unable to disable audio",(0,o.default)({},(0,s.errLog)(t.t1),{streamName:n}));case 21:case"end":return t.stop()}},r,t,[[3,8],[13,18]])}));return function(e){return r.apply(this,arguments)}}());case 1:case"end":return r.stop()}},r,t)}));return function(e,t,n){return r.apply(this,arguments)}}())},t.updateScreenShare=function(e,t){var r=this;return b(function(){var n=(0,i.default)(a.default.mark(function n(i,l,c){return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c.streams[e]){r.next=2;break}throw new Error(e+" is not a valid stream for updateScreenShare");case 2:return r.prev=2,r.next=5,c.streams[e].updateScreenShare(t);case 5:r.next=14;break;case 7:if(r.prev=7,r.t0=r.catch(2),u.default.warn("unable to update screen share",(0,o.default)({},(0,s.errLog)(r.t0),{streamName:e,refresh:t})),!r.t0.permissions){r.next=13;break}return i({type:f.CONTROLS_DEVICES_PERMISSIONS_ERROR,payload:(0,o.default)({streamName:e},_("Unable to update screen share: no permissions",r.t0))}),r.abrupt("return");case 13:i({type:f.CONTROLS_SCREEN_SHARE_ERROR,payload:(0,o.default)({streamName:e},_("Unable to update screen share",r.t0))});case 14:case"end":return r.stop()}},n,r,[[2,7]])}));return function(e,t,r){return n.apply(this,arguments)}}())},t.startScreenShare=function(e){var t=this;return b(function(){var r=(0,i.default)(a.default.mark(function r(n,i,l){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l.streams[e]){t.next=2;break}throw new Error(e+" is not a valid stream for startScreenShare");case 2:return t.prev=2,t.next=5,l.streams[e].startScreenShare();case 5:t.next=16;break;case 7:if(t.prev=7,t.t0=t.catch(2),"no source"!==t.t0.message){t.next=11;break}return t.abrupt("return");case 11:if(!t.t0.permissions){t.next=14;break}return n({type:f.CONTROLS_DEVICES_PERMISSIONS_ERROR,payload:(0,o.default)({streamName:e},_("Unable to start screen share: no permissions",t.t0))}),t.abrupt("return");case 14:u.default.warn("unable to start screen share",(0,o.default)({},(0,s.errLog)(t.t0),{streamName:e})),n({type:f.CONTROLS_SCREEN_SHARE_ERROR,payload:(0,o.default)({streamName:e},_("Unable to capture stream",t.t0))});case 16:case"end":return t.stop()}},r,t,[[2,7]])}));return function(e,t,n){return r.apply(this,arguments)}}())},t.setMic=function(e,t,r,n){var l=this;return b(function(){var c=(0,i.default)(a.default.mark(function i(c,d,p){return a.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(p.streams[e]){a.next=2;break}throw new Error(e+" is not a valid stream for setMic");case 2:return a.prev=2,a.next=5,p.streams[e].setMic(t,r,n);case 5:a.next=14;break;case 7:if(a.prev=7,a.t0=a.catch(2),u.default.warn("unable to set mic",(0,o.default)({},(0,s.errLog)(a.t0),{streamName:e,deviceId:t,constraints:r,exact:n})),!a.t0.permissions){a.next=13;break}return c({type:f.CONTROLS_DEVICES_PERMISSIONS_ERROR,payload:(0,o.default)({streamName:e},_("Unable to set mic: no permissions",a.t0))}),a.abrupt("return");case 13:c({type:f.CONTROLS_DEVICES_SET_MIC_ERROR,payload:(0,o.default)({streamName:e},_("Unable to set mic",a.t0))});case 14:case"end":return a.stop()}},i,l,[[2,7]])}));return function(e,t,r){return c.apply(this,arguments)}}())},t.muteAudio=function(e){var t=this;return b(function(){var r=(0,i.default)(a.default.mark(function r(n,i,l){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.muteAudio(e);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),u.default.warn("unable to mute audio",(0,o.default)({},(0,s.errLog)(t.t0),{streamName:e})),n({type:f.AUDIO_ERROR,payload:(0,o.default)({streamName:e},_("Unable to mute audio",t.t0))});case 9:case"end":return t.stop()}},r,t,[[0,5]])}));return function(e,t,n){return r.apply(this,arguments)}}())},t.unmuteAudio=function(e){var t=this;return b(function(){var r=(0,i.default)(a.default.mark(function r(n,i,l){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.unmuteAudio(e);case 3:t.next=12;break;case 5:if(t.prev=5,t.t0=t.catch(0),u.default.warn("unable to unmute audio",(0,o.default)({},(0,s.errLog)(t.t0),{streamName:e})),!t.t0.permissions){t.next=11;break}return n({type:f.CONTROLS_DEVICES_PERMISSIONS_ERROR,payload:(0,o.default)({streamName:e},_("Unable to unmute audio: no permissions",t.t0))}),t.abrupt("return");case 11:n({type:f.AUDIO_ERROR,payload:(0,o.default)({streamName:e},_("Unable to unmute audio",t.t0))});case 12:case"end":return t.stop()}},r,t,[[0,5]])}));return function(e,t,n){return r.apply(this,arguments)}}())},t.disableAudio=function(e){var t=this;return b(function(){var r=(0,i.default)(a.default.mark(function r(n,i,l){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.disableAudio(e);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),u.default.warn("unable to disable audio",(0,o.default)({},(0,s.errLog)(t.t0),{streamName:e})),n({type:f.AUDIO_ERROR,payload:(0,o.default)({streamName:e},_("Unable to disable audio",t.t0))});case 9:case"end":return t.stop()}},r,t,[[0,5]])}));return function(e,t,n){return r.apply(this,arguments)}}())},t.enableAudio=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b(function(){var l=(0,i.default)(a.default.mark(function i(l,c,d){return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d.enableAudio(e,t,n);case 3:r.next=12;break;case 5:if(r.prev=5,r.t0=r.catch(0),u.default.warn("unable to enable audio",(0,o.default)({},(0,s.errLog)(r.t0),{streamName:e})),!r.t0.permissions){r.next=11;break}return l({type:f.CONTROLS_DEVICES_PERMISSIONS_ERROR,payload:(0,o.default)({streamName:e},_("Unable to enable audio: no permissions",r.t0))}),r.abrupt("return");case 11:l({type:f.AUDIO_ERROR,payload:(0,o.default)({streamName:e},_("Unable to enable audio",r.t0))});case 12:case"end":return r.stop()}},i,r,[[0,5]])}));return function(e,t,r){return l.apply(this,arguments)}}())},t.updateMaxBitrate=function(e){var t=this;return b(function(){var r=(0,i.default)(a.default.mark(function r(n,i,l){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.updateMaxBitrate(e);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),u.default.warn("unable to update max bitrate",(0,o.default)({},(0,s.errLog)(t.t0),{bitrate:e})),n(w(h,"Unable to update max bitrate"),t.t0);case 9:case"end":return t.stop()}},r,t,[[0,5]])}));return function(e,t,n){return r.apply(this,arguments)}}())},t.pauseVideo=function(e){var t=this;return b(function(){var r=(0,i.default)(a.default.mark(function r(n,i,l){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.pauseVideo(e);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),u.default.warn("unable to pause video",(0,o.default)({},(0,s.errLog)(t.t0),{streamName:e})),n({type:f.VIDEO_ERROR,payload:(0,o.default)({streamName:e},_("Unable to pause video",t.t0))});case 9:case"end":return t.stop()}},r,t,[[0,5]])}));return function(e,t,n){return r.apply(this,arguments)}}())},t.unpauseVideo=function(e){var t=this;return b(function(){var r=(0,i.default)(a.default.mark(function r(n,i,l){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.unpauseVideo(e);case 3:t.next=12;break;case 5:if(t.prev=5,t.t0=t.catch(0),u.default.warn("unable to unpause video",(0,o.default)({},(0,s.errLog)(t.t0),{streamName:e})),!t.t0.permissions){t.next=11;break}return n({type:f.CONTROLS_DEVICES_PERMISSIONS_ERROR,payload:(0,o.default)({streamName:e},_("Unable to unpause video: no permissions",t.t0))}),t.abrupt("return");case 11:n({type:f.VIDEO_ERROR,payload:(0,o.default)({streamName:e},_("Unable to unpause video",t.t0))});case 12:case"end":return t.stop()}},r,t,[[0,5]])}));return function(e,t,n){return r.apply(this,arguments)}}())},t.disableVideo=function(e){var t=this;return b(function(){var r=(0,i.default)(a.default.mark(function r(n,i,l){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.disableVideo(e);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),u.default.warn("unable to disable video",(0,o.default)({},(0,s.errLog)(t.t0),{streamName:e})),n({type:f.VIDEO_ERROR,payload:(0,o.default)({streamName:e},_("Unable to disable video",t.t0))});case 9:case"end":return t.stop()}},r,t,[[0,5]])}));return function(e,t,n){return r.apply(this,arguments)}}())},t.enableVideo=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b(function(){var l=(0,i.default)(a.default.mark(function i(l,c,d){return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d.enableVideo(e,t,n);case 3:r.next=12;break;case 5:if(r.prev=5,r.t0=r.catch(0),u.default.warn("unable to enable video",(0,o.default)({},(0,s.errLog)(r.t0),{streamName:e})),!r.t0.permissions){r.next=11;break}return l({type:f.CONTROLS_DEVICES_PERMISSIONS_ERROR,payload:(0,o.default)({streamName:e},_("Unable to enable video: no permissions",r.t0))}),r.abrupt("return");case 11:l({type:f.VIDEO_ERROR,payload:(0,o.default)({streamName:e},_("Unable to enable video",r.t0))});case 12:case"end":return r.stop()}},i,r,[[0,5]])}));return function(e,t,r){return l.apply(this,arguments)}}())},t.setMaxProducingViewers=function(e){return b(function(t,r,n){n.setMaxProducingViewers(e)})},t.setDisplayName=function(e){return b(function(t,r,n){n.setDisplayName(e)})},t.start=function(){var e=this;return b(function(){var t=(0,i.default)(a.default.mark(function t(r,n,i){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"REMOTE_START",payload:{call:i.call}}),e.prev=1,e.next=4,i.start();case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),e.t0.rejected?u.default.info("call rejected",(0,o.default)({},(0,s.errLog)(e.t0))):u.default.error("unable to start call",(0,o.default)({},(0,s.errLog)(e.t0))),r({type:"REMOTE_ERROR",payload:{error:e.t0}}),e.abrupt("return");case 11:r({type:"REMOTE_DONE",payload:{}});case 12:case"end":return e.stop()}},t,e,[[1,6]])}));return function(e,r,n){return t.apply(this,arguments)}}())},t.close=function(){var e=this;return b(function(){var t=(0,i.default)(a.default.mark(function t(r,n,i){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.close();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),u.default.error("unable to close call",(0,o.default)({},(0,s.errLog)(e.t0))),r({type:d.CLOSE_ERROR,payload:(0,o.default)({},_("Unable to close call",e.t0))});case 9:case"end":return e.stop()}},t,e,[[0,5]])}));return function(e,r,n){return t.apply(this,arguments)}}(),!0)},t.getViewers=function(){var e=this;return b(function(){var t=(0,i.default)(a.default.mark(function t(r,n,i){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.getViewers();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),u.default.warn("unable to get viewers",(0,o.default)({},(0,s.errLog)(e.t0))),r(w(m,"Unable to get viewers",e.t0));case 9:case"end":return e.stop()}},t,e,[[0,5]])}));return function(e,r,n){return t.apply(this,arguments)}}(),!0)},t.promoteViewer=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b(function(){var l=(0,i.default)(a.default.mark(function i(l,c,d){return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d.promoteViewer(e,t,n);case 3:r.next=9;break;case 5:r.prev=5,r.t0=r.catch(0),u.default.warn("unable to promote viewer",(0,o.default)({},(0,s.errLog)(r.t0),{userId:e,permissions:t})),l(w(v,"Unable to promote viewer",r.t0,{userId:e,permissions:t}));case 9:case"end":return r.stop()}},i,r,[[0,5]])}));return function(e,t,r){return l.apply(this,arguments)}}())},t.demoteViewer=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b(function(){var l=(0,i.default)(a.default.mark(function i(l,c,d){return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d.demoteViewer(e,t,n);case 3:r.next=9;break;case 5:r.prev=5,r.t0=r.catch(0),u.default.warn("unable to demote viewer",(0,o.default)({},(0,s.errLog)(r.t0),{userId:e})),l(w(y,"Unable to demote viewer",r.t0,{userId:e}));case 9:case"end":return r.stop()}},i,r,[[0,5]])}));return function(e,t,r){return l.apply(this,arguments)}}())},t.kickViewer=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b(function(){var l=(0,i.default)(a.default.mark(function i(l,c,d){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.kickViewer(e,r,n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),u.default.warn("unable to kick viewer",(0,o.default)({},(0,s.errLog)(t.t0),{userId:e})),l(w(y,"Unable to kick viewer",t.t0,{userId:e}));case 9:case"end":return t.stop()}},i,t,[[0,5]])}));return function(e,t,r){return l.apply(this,arguments)}}())};var s=r(55),u=p(s),l=r(244),c=r(152),d=r(153),f=r(241);function p(e){return e&&e.__esModule?e:{default:e}}var h=t.UPDATE_MAX_BITRATE_ERROR="UPDATE_MAX_BITRATE_ERROR",m=t.GET_VIEWERS_ERROR="GET_VIEWERS_ERROR",v=t.PROMOTE_VIEWER_ERROR="PROMOTE_VIEWER_ERROR",y=t.DEMOTE_VIEWER_ERROR="DEMOTE_VIEWER_ERROR";function g(e){return{type:"IGNORE_MESSAGE_CODE",payload:{code:e}}}function b(e,t){var r=this;return function(){var n=(0,i.default)(a.default.mark(function n(i,l){var c,f;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(c=l()).call||!c.call.call||null===c.call.call._actions){r.next=11;break}return r.prev=2,r.next=5,e(i,c,c.call.call._actions);case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(2),u.default.warn("invalid action call",(0,o.default)({},(0,s.errLog)(r.t0)));case 10:return r.abrupt("return");case 11:if(!t){r.next=13;break}return r.abrupt("return");case 13:f="call actions called before setupCall was called or setupCall returned an error",u.default.warn(f),i({type:d.CALL_ERROR,payload:f});case 16:case"end":return r.stop()}},n,r,[[2,7]])}));return function(e,t){return n.apply(this,arguments)}}()}function _(e,t,r){return{error:(0,o.default)({message:e,error:t},r)}}function w(e,t,r,n){return{type:e,payload:(0,o.default)({},_(t,r,n))}}t.callsRequesting=function(){return function(e){e({type:l.CALLS_REQUESTING})}},t.callsReceived=function(e){return function(t){t({type:l.CALLS_RECEIVED,payload:{calls:e}})}},t.callsError=function(e){return function(t){t({type:l.CALLS_ERROR,payload:{error:e}})}},t.callsRejectCall=function(e){return function(t){var r=(0,o.default)({},e,{rejected:!0});t({type:l.CALLS_UPDATE_CALL,payload:{call:r}})}},t.callsRejectCallError=function(e,t){return function(r){var n=(0,o.default)({},e,{rejected:!1,rejectError:t});r({type:l.CALLS_UPDATE_CALL,payload:{call:n}})}},t.callsRejectCallSuccess=function(e){return function(t){var r=(0,o.default)({},e,{rejected:!0,rejectError:null});t({type:l.CALLS_UPDATE_CALL,payload:{call:r}})}},t.mutePeer=function(e){return function(t){t({type:c.CALL_MUTE_PEER,payload:{id:e}})}},t.unmutePeer=function(e){return function(t){t({type:c.CALL_UNMUTE_PEER,payload:{id:e}})}},t.setPeerVolume=function(e,t){return function(r){r({type:c.CALL_SET_PEER_VOLUME,payload:{id:e,volume:t}})}}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(31)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),o.default.createElement("path",{d:"M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"})),"CallEnd");t.default=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(1)),s=(n(r(2)),n(r(6))),u=n(r(5)),l=function(e){return{root:{marginRight:16,color:e.palette.action.active,flexShrink:0,display:"inline-flex"}}};t.styles=l;var c=(0,u.default)(l,{name:"MuiListItemIcon"})(function(e){var t=e.children,r=e.classes,n=e.className,u=(0,a.default)(e,["children","classes","className"]);return i.default.createElement("div",(0,o.default)({className:(0,s.default)(r.root,n)},u),t)});t.default=c},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(567))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(8)),i=n(r(4)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=n(r(5)),c=n(r(83)),d=n(r(145)),f=function(e){return{root:{flex:"1 1 auto",minWidth:0,padding:"0 16px","&:first-child":{paddingLeft:0}},inset:{"&:first-child":{paddingLeft:56}},dense:{fontSize:e.typography.pxToRem(13)},primary:{"&$textDense":{fontSize:"inherit"}},secondary:{"&$textDense":{fontSize:"inherit"}},textDense:{}}};function p(e){var t=e.children,r=e.classes,n=e.className,l=e.disableTypography,f=e.inset,p=e.primary,h=e.primaryTypographyProps,m=e.secondary,v=e.secondaryTypographyProps,y=e.theme,g=(0,i.default)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps","theme"]);return s.default.createElement(d.default.Consumer,null,function(e){var i,d=e.dense,b=null!=p?p:t;null==b||b.type===c.default||l||(b=s.default.createElement(c.default,(0,o.default)({variant:y.typography.useNextVariants?"body1":"subheading",className:(0,u.default)(r.primary,(0,a.default)({},r.textDense,d)),component:"span"},h),b));var _=m;return null==_||_.type===c.default||l||(_=s.default.createElement(c.default,(0,o.default)({className:(0,u.default)(r.secondary,(0,a.default)({},r.textDense,d)),color:"textSecondary"},v),_)),s.default.createElement("div",(0,o.default)({className:(0,u.default)(r.root,(i={},(0,a.default)(i,r.dense,d),(0,a.default)(i,r.inset,f),i),n)},g),b,_)})}t.styles=f,p.defaultProps={disableTypography:!1,inset:!1};var h=(0,l.default)(f,{name:"MuiListItemText",withTheme:!0})(p);t.default=h},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(31)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"}),o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"VolumeUp");t.default=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(31)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{d:"M7 9v6h4l5 5V4l-5 5H7z"}),o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"VolumeMute");t.default=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(31)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{d:"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"}),o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"VolumeDown");t.default=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(572))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(4)),a=n(r(9)),i=n(r(10)),s=n(r(11)),u=n(r(12)),l=n(r(13)),c=n(r(8)),d=n(r(3)),f=n(r(1)),p=(n(r(2)),n(r(6))),h=n(r(86)),m=(r(7),n(r(5))),v=r(82),y=n(r(573)),g=r(38),b=n(r(575)),_=n(r(577)),w=function(e){var t={top:0},r={bottom:0},n={justifyContent:"flex-end"},o={justifyContent:"flex-start"},a={top:24},i={bottom:24},s={right:24},u={left:24},l={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:0,right:0,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,d.default)({},t,(0,c.default)({},e.breakpoints.up("md"),(0,d.default)({},l))),anchorOriginBottomCenter:(0,d.default)({},r,(0,c.default)({},e.breakpoints.up("md"),(0,d.default)({},l))),anchorOriginTopRight:(0,d.default)({},t,n,(0,c.default)({},e.breakpoints.up("md"),(0,d.default)({left:"auto"},a,s))),anchorOriginBottomRight:(0,d.default)({},r,n,(0,c.default)({},e.breakpoints.up("md"),(0,d.default)({left:"auto"},i,s))),anchorOriginTopLeft:(0,d.default)({},t,o,(0,c.default)({},e.breakpoints.up("md"),(0,d.default)({right:"auto"},a,u))),anchorOriginBottomLeft:(0,d.default)({},r,o,(0,c.default)({},e.breakpoints.up("md"),(0,d.default)({right:"auto"},i,u)))}};t.styles=w;var k=function(e){function t(){var e,r;(0,a.default)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(r=(0,s.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(o)))).state={},r.handleMouseEnter=function(e){r.props.onMouseEnter&&r.props.onMouseEnter(e),r.handlePause()},r.handleMouseLeave=function(e){r.props.onMouseLeave&&r.props.onMouseLeave(e),r.handleResume()},r.handleClickAway=function(e){r.props.onClose&&r.props.onClose(e,"clickaway")},r.handlePause=function(){clearTimeout(r.timerAutoHide)},r.handleResume=function(){if(null!=r.props.autoHideDuration){if(null!=r.props.resumeHideDuration)return void r.setAutoHideTimer(r.props.resumeHideDuration);r.setAutoHideTimer(.5*r.props.autoHideDuration)}},r.handleExited=function(){r.setState({exited:!0})},r}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.props.open&&this.setAutoHideTimer()}},{key:"componentDidUpdate",value:function(e){e.open!==this.props.open&&(this.props.open?this.setAutoHideTimer():clearTimeout(this.timerAutoHide))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerAutoHide)}},{key:"setAutoHideTimer",value:function(e){var t=this,r=null!=e?e:this.props.autoHideDuration;this.props.onClose&&null!=r&&(clearTimeout(this.timerAutoHide),this.timerAutoHide=setTimeout(function(){var r=null!=e?e:t.props.autoHideDuration;t.props.onClose&&null!=r&&t.props.onClose(null,"timeout")},r))}},{key:"render",value:function(){var e=this.props,t=e.action,r=e.anchorOrigin,n=r.vertical,a=r.horizontal,i=(e.autoHideDuration,e.children),s=e.classes,u=e.className,l=e.ClickAwayListenerProps,c=e.ContentProps,m=e.disableWindowBlurListener,v=e.message,b=(e.onClose,e.onEnter),w=e.onEntered,k=e.onEntering,E=e.onExit,P=e.onExited,S=e.onExiting,x=(e.onMouseEnter,e.onMouseLeave,e.open),T=(e.resumeHideDuration,e.TransitionComponent),C=e.transitionDuration,O=e.TransitionProps,R=(0,o.default)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]);return!x&&this.state.exited?null:f.default.createElement(y.default,(0,d.default)({onClickAway:this.handleClickAway},l),f.default.createElement("div",(0,d.default)({className:(0,p.default)(s.root,s["anchorOrigin".concat((0,g.capitalize)(n)).concat((0,g.capitalize)(a))],u),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},R),f.default.createElement(h.default,{target:"window",onFocus:m?void 0:this.handleResume,onBlur:m?void 0:this.handlePause}),f.default.createElement(T,(0,d.default)({appear:!0,in:x,onEnter:b,onEntered:w,onEntering:k,onExit:E,onExited:(0,g.createChainedFunction)(this.handleExited,P),onExiting:S,timeout:C,direction:"top"===n?"down":"up"},O),i||f.default.createElement(_.default,(0,d.default)({message:v,action:t},c)))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"undefined"===typeof t.exited?{exited:!e.open}:e.open?{exited:!1}:null}}]),t}(f.default.Component);k.defaultProps={anchorOrigin:{vertical:"bottom",horizontal:"center"},disableWindowBlurListener:!1,TransitionComponent:b.default,transitionDuration:{enter:v.duration.enteringScreen,exit:v.duration.leavingScreen}};var E=(0,m.default)(w,{flip:!1,name:"MuiSnackbar"})(k);t.default=E},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(574))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(9)),s=n(r(10)),u=n(r(11)),l=n(r(12)),c=n(r(13)),d=n(r(1)),f=n(r(26)),p=(n(r(2)),n(r(86))),h=n(r(43)),m=function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=(0,u.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(o)))).mounted=!1,r.moved=!1,r.handleClickAway=function(e){if(!e.defaultPrevented&&r.mounted)if(r.moved)r.moved=!1;else if(r.node){var t=(0,h.default)(r.node);t.documentElement&&t.documentElement.contains(e.target)&&!r.node.contains(e.target)&&r.props.onClickAway(e)}},r.handleTouchMove=function(){r.moved=!0},r}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.node=f.default.findDOMNode(this),this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.mouseEvent,n=e.touchEvent,i=(e.onClickAway,(0,a.default)(e,["children","mouseEvent","touchEvent","onClickAway"])),s={};return!1!==r&&(s[r]=this.handleClickAway),!1!==n&&(s[n]=this.handleClickAway,s.onTouchMove=this.handleTouchMove),d.default.createElement(d.default.Fragment,null,t,d.default.createElement(p.default,(0,o.default)({target:"document"},s,i)))}}]),t}(d.default.Component);m.defaultProps={mouseEvent:"onMouseUp",touchEvent:"onTouchEnd"};var v=m;t.default=v},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(576))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.setTranslateValue=w,t.default=void 0;var o=n(r(4)),a=n(r(3)),i=n(r(9)),s=n(r(10)),u=n(r(11)),l=n(r(12)),c=n(r(13)),d=n(r(1)),f=(n(r(2)),n(r(26))),p=n(r(86)),h=n(r(147)),m=n(r(105)),v=n(r(104)),y=n(r(106)),g=r(82),b=r(141),_=24;function w(e,t){var r=function(e,t){var r,n=e.direction,o=t.getBoundingClientRect();if(t.fakeTransform)r=t.fakeTransform;else{var a=(0,v.default)(t).getComputedStyle(t);r=a.getPropertyValue("-webkit-transform")||a.getPropertyValue("transform")}var i=0,s=0;if(r&&"none"!==r&&"string"===typeof r){var u=r.split("(")[1].split(")")[0].split(",");i=parseInt(u[4],10),s=parseInt(u[5],10)}return"left"===n?"translateX(100vw) translateX(-".concat(o.left-i,"px)"):"right"===n?"translateX(-".concat(o.left+o.width+_-i,"px)"):"up"===n?"translateY(100vh) translateY(-".concat(o.top-s,"px)"):"translateY(-".concat(o.top+o.height+_-s,"px)")}(e,t);r&&(t.style.webkitTransform=r,t.style.transform=r)}var k=function(e){function t(){var e;return(0,i.default)(this,t),(e=(0,u.default)(this,(0,l.default)(t).call(this))).mounted=!1,e.handleEnter=function(t){w(e.props,t),(0,b.reflow)(t),e.props.onEnter&&e.props.onEnter(t)},e.handleEntering=function(t){var r=e.props.theme,n=(0,b.getTransitionProps)(e.props,{mode:"enter"});t.style.webkitTransition=r.transitions.create("-webkit-transform",(0,a.default)({},n,{easing:r.transitions.easing.easeOut})),t.style.transition=r.transitions.create("transform",(0,a.default)({},n,{easing:r.transitions.easing.easeOut})),t.style.webkitTransform="translate(0, 0)",t.style.transform="translate(0, 0)",e.props.onEntering&&e.props.onEntering(t)},e.handleExit=function(t){var r=e.props.theme,n=(0,b.getTransitionProps)(e.props,{mode:"exit"});t.style.webkitTransition=r.transitions.create("-webkit-transform",(0,a.default)({},n,{easing:r.transitions.easing.sharp})),t.style.transition=r.transitions.create("transform",(0,a.default)({},n,{easing:r.transitions.easing.sharp})),w(e.props,t),e.props.onExit&&e.props.onExit(t)},e.handleExited=function(t){t.style.webkitTransition="",t.style.transition="",e.props.onExited&&e.props.onExited(t)},"undefined"!==typeof window&&(e.handleResize=(0,h.default)(function(){e.props.in||"down"===e.props.direction||"right"===e.props.direction||e.transitionRef&&w(e.props,e.transitionRef)},166)),e}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.in||this.updatePosition()}},{key:"componentDidUpdate",value:function(e){e.direction===this.props.direction||this.props.in||this.updatePosition()}},{key:"componentWillUnmount",value:function(){this.handleResize.clear()}},{key:"updatePosition",value:function(){this.transitionRef&&(this.transitionRef.style.visibility="inherit",w(this.props,this.transitionRef))}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=(t.direction,t.onEnter,t.onEntering,t.onExit,t.onExited,t.style),i=(t.theme,(0,o.default)(t,["children","direction","onEnter","onEntering","onExit","onExited","style","theme"])),s={};return this.props.in||this.mounted||(s.visibility="hidden"),s=(0,a.default)({},s,n,d.default.isValidElement(r)?r.props.style:{}),d.default.createElement(p.default,{target:"window",onResize:this.handleResize},d.default.createElement(m.default,(0,a.default)({onEnter:this.handleEnter,onEntering:this.handleEntering,onExit:this.handleExit,onExited:this.handleExited,appear:!0,style:s,ref:function(t){e.transitionRef=f.default.findDOMNode(t)}},i),r))}}]),t}(d.default.Component);k.defaultProps={direction:"down",timeout:{enter:g.duration.enteringScreen,exit:g.duration.leavingScreen}};var E=(0,y.default)()(k);t.default=E},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=n(r(578))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var o=n(r(3)),a=n(r(4)),i=n(r(8)),s=n(r(1)),u=(n(r(2)),n(r(6))),l=n(r(5)),c=n(r(142)),d=n(r(83)),f=r(81),p=function(e){var t,r="light"===e.palette.type?.8:.98,n=(0,f.emphasize)(e.palette.background.default,r);return{root:(t={color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 24px"},(0,i.default)(t,e.breakpoints.up("md"),{minWidth:288,maxWidth:568,borderRadius:e.shape.borderRadius}),(0,i.default)(t,e.breakpoints.down("sm"),{flexGrow:1}),t),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:24,marginRight:-8}}};t.styles=p;var h=(0,l.default)(p,{name:"MuiSnackbarContent"})(function(e){var t=e.action,r=e.classes,n=e.className,i=e.message,l=(0,a.default)(e,["action","classes","className","message"]);return s.default.createElement(c.default,(0,o.default)({component:d.default,headlineMapping:{body1:"div",body2:"div"},role:"alertdialog",square:!0,elevation:6,className:(0,u.default)(r.root,n)},l),s.default.createElement("div",{className:r.message},i),t?s.default.createElement("div",{className:r.action},t):null)});t.default=h},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),a=(0,n(r(31)).default)(o.default.createElement(o.default.Fragment,null,o.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),o.default.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"Close");t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},o={setItem:function(e,t){return n[e]=String(t)},getItem:function(e){return n.hasOwnProperty(e)?n[e]:void 0},removeItem:function(e){return delete n[e]},clear:function(){return n={}}};t.default=window&&window.localStorage?window.localStorage:o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64"};t.default=n},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return(s="function"===typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(e)}function u(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}r.r(t);var f=r(1),p=r.n(f),h=r(26),m=r.n(h),v=r(22),y=r.n(v),g=r(157),b=r.n(g);function _(e,t,r,n,o,a,i){try{var s=e[a](i),u=s.value}catch(l){return void r(l)}s.done?t(u):Promise.resolve(u).then(n,o)}var w=r(39),k=r(248),E=r.n(k),P=r(249),S=r.n(P),x=r(251),T=r(252),C=r.n(T),O=r(253),R=r.n(O),M=r(254),D=r.n(M),j=r(255),I=r.n(j),A=r(156),N=r.n(A),L=r(158),F=r(256),U=r.n(F),B=r(109),V=r(159),W=r.n(V);function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var H=r(6),q=r.n(H),G=r(257),K=r(259),$=r.n(K),Y=r(258),Q=r.n(Y),X=r(56),J=r.n(X),Z=function(e){function t(){var e,r;n(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(r=u(this,(e=l(t)).call.apply(e,[this].concat(a)))).state={fixed:!0},r.onClick=function(){r.setState(function(e){return{fixed:!e.fixed}})},r}return d(t,f["Component"]),a(t,[{key:"render",value:function(){var e,t=this.props,r=t.children,n=t.classes,o=t.docked,a=this.state.fixed,i=q()((z(e={},n.docked,!!o),z(e,n.dockedFixed,!!a),z(e,n.dockedTopRight,o&&"top-right"===o),z(e,n.dockedTopLeft,o&&"top-left"===o),z(e,n.dockedBottomRight,o&&"bottom-right"===o),z(e,n.dockedBottomLeft,o&&"bottom-left"===o),z(e,n.bottom,o&&("bottom-left"===o||"bottom-right"===o)),z(e,n.top,o&&("top-left"===o||"top-right"===o)),e)),s=q()(z({},n.dockedContainer,!0));return o?p.a.createElement("div",{className:i},r.length?r.map(function(e,t){return p.a.createElement("div",{key:t,className:s},e)}):p.a.createElement("div",{className:s},r),p.a.createElement(J.a,{className:n.iconButton,onClick:this.onClick},a?p.a.createElement(Q.a,null):p.a.createElement($.a,null))):r}}]),t}();Z.defaultProps={docked:!1};var ee=Object(w.withStyles)(function(e){return{docked:{position:"absolute",zIndex:2,width:"33%"},dockedFixed:{width:"177px"},dockedTopRight:{top:"2em",right:"2em"},dockedTopLeft:{top:"2em",left:"2em"},dockedBottomRight:{bottom:"2em",right:"2em"},dockedBottomLeft:{bottom:"2em",left:"2em"},dockedContainer:{overflow:"hidden",borderRadius:"4px",zIndex:2,width:"100%",background:G.grey[800],boxShadow:"0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.12), 0 1px 5px 0 rgba(0,0,0,0.2)"},bottom:{marginTop:2*e.spacing.unit},top:{marginBottom:2*e.spacing.unit},iconButton:{color:"#FFF",position:"absolute",right:0,bottom:0}}})(Z),te=W.a.get("webencoder:profile"),re="one-on-one",ne=function(e){return e.replace(/_/g," ")},oe=Object(w.createMuiTheme)({palette:{primary:{main:"#00aaff",contrastText:"#fff"}},overrides:{PVCStream:{videoTag:{},videoTagPaused:{},mirror:{},avatar:{}},PVCRemoteMenu:{root:{},docked:{},dockedRight:{},dockedLeft:{},icon:{},iconButton:{},iconButtonIcon:{},label:{}},PVCRemoteVolumeMenuItem:{root:{},slider:{},sliderContainer:{},listItemIcon:{}},PVCAspectContainer:{containAspectContainer:{},containAspectContainerFill:{},ratioAspectContainer:{},ratioAspectContainerFill:{}}}}),ae=function(e){function t(){return n(this,t),u(this,l(t).apply(this,arguments))}return d(t,f["Component"]),a(t,[{key:"render",value:function(){var e,t=this.props.peers;if(!t.length)return null;for(var r=t.length-1;r>=0;r--)if(t[r]){e=t[r];break}return e?p.a.createElement(ee,{docked:"top-right"},p.a.createElement(C.a,{peerId:e,streamName:"default"}),p.a.createElement(R.a,{peerId:e,streamName:"default",docked:"left"},p.a.createElement(I.a,null),p.a.createElement(D.a,null))):null}}]),t}(),ie=Object(L.connect)(function(e){return{peers:e.call.peers&&e.call.peers.ids?e.call.peers.ids.filter(function(e){return!!e}):[]}})(ae),se=function(e){function t(){var e,r;n(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(r=u(this,(e=l(t)).call.apply(e,[this].concat(a)))).state={supported:!0,broadcasting:!1,errorMessage:null,call:null,keyError:"",resetControls:null,profile:te?new B.Profile(te):B.defaultProfile,preference:"webrtc",stream:null,testAudio:!1},r.handleSelect=function(){return function(e){r.setState({preference:e.target.value})}},r}return d(t,f["Component"]),a(t,[{key:"componentDidUpdate",value:function(e){!this.state.call||this.props.roomState===e.roomState&&this.props.canProduce===e.canProduce||this.state.call.call.setMaxProducingViewers(this.props.roomState===re||this.props.canProduce?1:0)}},{key:"handleControlsError",value:function(e){switch(e){case"not_found":this.setState({errorMessage:"Camera could not be found, check to make sure it is plugged in."});break;case"not_usable":this.setState({errorMessage:"Camera could not be accessed, some other application may be using it."});break;case"device_specification":this.setState({errorMessage:"Camera does not meet required specification."});break;case"device_permission":this.setState({errorMessage:"Could not access camera and microphone, please grant permissions in your browser."});break;case"not_supported":this.setState({supported:!1,errorMessage:"This browser is not supported."});break;default:this.setState({errorMessage:"An unknown error has occurred accessing camera and mic"})}this.props.on("error",e)}},{key:"handleEncoderError",value:function(e){switch(e){case"no-support":this.setState({supported:!1,errorMessage:"This browser is not supported."});break;default:this.setState({errorMessage:"An unknown error occurred."})}}},{key:"toggleBroadcasting",value:function(){this.state.stream?this.streamKey?this.setState({keyError:"",broadcasting:!this.state.broadcasting}):this.setState({keyError:"A key is required"}):this.setState({errorMessage:"Device could not be found, check to make sure it is plugged in."})}},{key:"render",value:function(){var e=this;return p.a.createElement(w.MuiThemeProvider,{theme:oe},p.a.createElement(U.a,{handleClose:function(){e.setState({errorMessage:null})},message:this.state.errorMessage}),this.state.call&&p.a.createElement(L.Provider,{store:this.state.call.store},p.a.createElement(ie,null)),p.a.createElement(N.a,null,this.state.supported&&p.a.createElement(S.a,{logContext:{userId:this.props.username,displayName:this.props.displayName},preview:!0,mirrorPreview:!0,disableFilters:!0,disableResolutions:!0,broadcasting:this.state.broadcasting,onError:function(t,r){"deviceError"===t&&e.handleControlsError(r.code)},testAudio:this.state.testAudio,onTestAudio:function(t){e.setState({testAudio:t})},reset:this.state.resetControls,stream:this.state.stream,translate:ne,variant:"overlay",onProfile:function(t){e.setState({profile:t},function(){W.a.set("webencoder:profile",t.dump())})},onBroadcast:this.toggleBroadcasting.bind(this),onStream:function(t){var r={stream:t,resetControls:null};t&&(e.broadcasting=!0),e.setState(r)},profile:this.state.profile})),p.a.createElement(E.a,{broadcasting:this.state.broadcasting,on:function(t){for(var r,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];switch(t){case"call":var i=o[0];if(i){var s=Object(x.attachToCallWithStore)(i,null);e.setState({call:{call:i,store:s.store}})}else e.setState({call:null});console.log("call",o[0]);break;case"error":e.handleEncoderError(o[0]),console.error(o);break;case"log":console.info(o);break;case"start":console.log("start");break;case"stop":console.log("stop");break;default:console.error("unhandled event",{e:t,args:o})}(r=e.props).on.apply(r,[t].concat(o))},stream:this.state.stream,webrtc:{authOptions:{timeout:6e4},integrationAuth:this.props.authUrl,integerationCall:this.props.callUrl,loadbalancer:this.props.lbUrl,callOptions:{maxProducingViewers:this.props.roomState===re||this.props.canProduce?1:0},getToken:function(){var t,r=(t=b.a.mark(function t(){var r,n,o;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.streamKey){t.next=2;break}throw new Error("stream key is required to start stream");case 2:return r={scope:"broadcaster",username:e.props.username,displayName:e.props.displayName,streamKey:e.streamKey},t.next=5,window.fetch("".concat(e.props.authUrl),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 5:return n=t.sent,t.prev=6,t.next=9,n.json();case 9:o=t.sent,t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(6),new Error("auth response was not valid json");case 15:if(200===n.status){t.next=17;break}throw new Error("invalid status for auth token: ".concat(n.status));case 17:if(o&&o.token){t.next=20;break}throw new Error("token response was not valid ".concat(o));case 20:return e._token=o.token,t.abrupt("return",o.token);case 22:case"end":return t.stop()}},t,null,[[6,12]])}),function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(e){_(a,n,o,i,s,"next",e)}function s(e){_(a,n,o,i,s,"throw",e)}i(void 0)})});return function(){return r.apply(this,arguments)}}()}}))}},{key:"streamKey",get:function(){return this.props.streamKey?"".concat(this.props.streamKey,"?clientReferrer=").concat(this.props.clientReferrer):null}}]),t}(),ue=r(70),le=function(e){function t(e,r){var o;n(this,t),o=u(this,l(t).call(this));var a=new ue.LoggerHttpWriter;return a.setOptions({uri:"".concat(r.lbUrl,"/lb/logger"),interval:5e3}),a.setGlobalOptions({print:!0,write:!0,printLevel:"debug",writeLevel:"info"}),o.el=e,o.props=r,o.render(),o}return d(t,y.a),a(t,[{key:"setRoomState",value:function(e){this.props.roomState=e,this.render()}},{key:"setCanProduce",value:function(e){this.props.canProduce=e,this.render()}},{key:"render",value:function(){var e=this;m.a.render(p.a.createElement(se,Object.assign({on:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.emit.apply(e,[t].concat(n))}},this.props)),this.el)}}]),t}();window.LivelyWebEncoder=le}]);
//# sourceMappingURL=broadcaster.js.map